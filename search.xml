<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>前端指南-面试-js部分</title>
      <link href="ckwuesfb50000h0wf6lgh73ef/"/>
      <url>ckwuesfb50000h0wf6lgh73ef/</url>
      
        <content type="html"><![CDATA[<p>这是对于前端-js部分的学习笔记及分享，会一直更新，保持学习的进步</p><a id="more"></a>]]></content>
      
      
      <categories>
          
          <category> 前端 </category>
          
          <category> 基础 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 前端 </tag>
            
            <tag> 学习笔记 </tag>
            
            <tag> 分享 </tag>
            
            <tag> 基础 </tag>
            
            <tag> js </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>96道面试题</title>
      <link href="ckwuesfbl0009h0wf6mui5173/"/>
      <url>ckwuesfbl0009h0wf6mui5173/</url>
      
        <content type="html"><![CDATA[<p>96道面试题</p><a id="more"></a><h2 id="前端面试题："><a href="#前端面试题：" class="headerlink" title="前端面试题："></a>前端面试题：</h2><h3 id="1-一些开放性题目"><a href="#1-一些开放性题目" class="headerlink" title="1. 一些开放性题目"></a>1. 一些开放性题目</h3><p>1）自我介绍：除了基本个人信息以外，面试官更想听的是你与众不同的地方和你的优势。2）项目介绍</p><p>3）如何看待前端开发？</p><p>4）平时是如何学习前端开发的？5）未来三到五年的规划是怎样的？</p><h3 id="2-position的值，relative和absolute分别是相对于谁进行定位的？"><a href="#2-position的值，relative和absolute分别是相对于谁进行定位的？" class="headerlink" title="2. position的值，relative和absolute分别是相对于谁进行定位的？"></a>2. <code>position</code>的值，<code>relative</code>和<code>absolute</code>分别是相对于谁进行定位的？</h3><p><code>absolute</code> :生成绝对定位的元素， 相对于最近一级的 定位不是 <code>static</code> 的父元素来进行定位。fixed （老IE不支持）生成绝对定位的元素，通常相对于浏览器窗口或 frame 进行定位。relative 生成相对定位的元素，相对于其在普通流中的位置进行定位。</p><p><code>static </code>默认值。没有定位，元素出现在正常的流中</p><p><code>sticky</code> 生成粘性定位的元素，容器的位置根据正常文档流计算得出</p><h3 id="3-如何解决跨域问题"><a href="#3-如何解决跨域问题" class="headerlink" title="3. 如何解决跨域问题"></a>3. 如何解决跨域问题</h3><h4 id="JSONP"><a href="#JSONP" class="headerlink" title="JSONP"></a><code>JSONP</code></h4><p>原理是：动态插入<code>script</code>标签，通过<code>script</code>标签引入一个js文件，这个<code>js</code>文件载入成功后会执行我们在<code>url</code>参数中指定的函数，并且会把我们需要的<code>json</code>数据作为参数传入。</p><p>由于同源策略的限制，<code>XmlHttpRequest</code>只允许请求当前源（域名、协议、端口）的资源，为了实现跨域请求，可以通过<code>script</code>标签实现跨域请求，然后在服务端输出<code>JSON</code>数据并执行回调函数，从而解决了跨域的数据请求。</p><p>优点是兼容性好，简单易用，支持浏览器与服务器双向通信。缺点是只支持GET请求。<code>JSONP：json+padding</code>（内填充），顾名思义，就是把<code>JSON</code>填充到一个盒子里</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">functioncreateJs(sUrl)</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">var</span> oScript = <span class="built_in">document</span>.createElement(<span class="string">&#x27;script&#x27;</span>);</span><br><span class="line">    oScript.type = <span class="string">&#x27;text/javascript&#x27;</span>;</span><br><span class="line">    oScript.src = sUrl;</span><br><span class="line">    <span class="built_in">document</span>.getElementsByTagName(<span class="string">&#x27;head&#x27;</span>)[<span class="number">0</span>].appendChild(oScript);</span><br><span class="line">&#125;</span><br><span class="line">createJs(<span class="string">&#x27;jsonp.js&#x27;</span>);</span><br><span class="line">box(&#123;</span><br><span class="line">    <span class="string">&#x27;name&#x27;</span>: <span class="string">&#x27;test&#x27;</span></span><br><span class="line">&#125;);</span><br><span class="line">functionbox(json)</span><br><span class="line">&#123;</span><br><span class="line">    alert(json.name);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="CORS"><a href="#CORS" class="headerlink" title="CORS"></a><code>CORS</code></h4><p>服务器端对于<code>CORS</code>的支持，主要就是通过设置<code>Access-Control-Allow-Origin</code>来进行的。如果浏览器检测到相应的设置，就可以允许<code>Ajax</code>进行跨域的访问。</p><p>通过修改<code>document.domain</code>来跨子域</p><p>将子域和主域的<code>document.domain</code>设为同一个主域.前提条件：这两个域名必须属于同一个基础域名!而且所用的协议，端口都要一致，否则无法利用<code>document.domain</code>进行跨域</p><p>主域相同的使用<code>document.domain</code>使用<code>window.name</code>来进行跨域</p><p>window对象有个name属性，该属性有个特征：即在一个窗口(window)的生命周期内,窗口载入的所有的页面都是共享一个<code>window.name</code>的，每个页面对<code>window.name</code>都有读写的权限，<code>window.name</code>是持久存在一个窗口载入过的所有页面中的</p><p>使用<code>HTML5</code>中新引进的<code>window.postMessage</code>方法来跨域传送数据</p><p>还有<code>flash</code>、在服务器上设置代理页面等跨域方式。个人认为<code>window.name</code>的方法既不复杂，也能兼容到几乎所有浏览器，这真是极好的一种跨域方法。</p><h3 id="4-XML和JSON的区别？"><a href="#4-XML和JSON的区别？" class="headerlink" title="4. XML和JSON的区别？"></a>4. <code>XML</code>和<code>JSON</code>的区别？</h3><p>(1).数据体积方面。</p><p><code>JSON</code>相对于XML来讲，数据的体积小，传递的速度更快些。</p><p>(2).数据交互方面。</p><p><code>JSON</code>与JavaScript的交互更加方便，更容易解析处理，更好的数据交互。</p><p>(3).数据描述方面。</p><p><code>JSON</code>对数据的描述性比XML较差。</p><p>(4).传输速度方面。</p><p><code>JSON</code>的速度要远远快于XML。</p><h3 id="5-谈谈你对webpack的看法"><a href="#5-谈谈你对webpack的看法" class="headerlink" title="5. 谈谈你对webpack的看法"></a>5. 谈谈你对<code>webpack</code>的看法</h3><p><code>WebPack</code> 是一个模块打包工具，你可以使用<code>WebPack</code>管理你的模块依赖，并编绎输出模块们所需的静态文件。它能够很好地管理、打包Web开发中所用到的HTML、JavaScript、<code>CSS</code>以及各种静态文件（图片、字体等），让开发过程更加高效。对于不同类型的资源，<code>webpack</code>有对应的模块加载器。<code>webpack</code>模块打包器会分析模块间的依赖关系，最后 生成了优化且合并后的静态资源。</p><p><code>webpack</code>的两大特色：</p><p>1）code splitting（可以自动完成）</p><p>2）loader 可以处理各种类型的静态文件，并且支持串联操作</p><p><code>webpack</code> 是以<code>commonJS</code>的形式来书写脚本滴，但对 <code>AMD/CMD</code> 的支持也很全面，方便旧项目进行代码迁移。</p><p><code>webpack</code>具有<code>requireJs</code>和<code>browserify</code>的功能，但仍有很多自己的新特性：</p><p>1）对 <code>CommonJS 、 AMD、ES6</code>的语法做了兼容</p><p>2）对<code>js、css、</code>图片等资源文件都支持打包</p><p>3）串联式模块加载器以及插件机制，让其具有更好的灵活性和扩展性，例如提供对<code>CoffeeScript、ES6</code>的支持</p><p>4）有独立的配置文件<code>webpack.config.js</code></p><p>5）可以将代码切割成不同的chunk，实现按需加载，降低了初始化时间</p><p>6）支持 <code>SourceUrls </code>和<code>SourceMaps</code>，易于调试</p><p>7）具有强大的<code>Plugin</code>接口，大多是内部插件，使用起来比较灵活</p><p>8）<code>webpack</code> 使用异步 IO 并具有多级缓存。这使得 <code>webpack </code>很快且在增量编译上更加快</p><h3 id="6-说说TCP传输的三次握手四次挥手策略"><a href="#6-说说TCP传输的三次握手四次挥手策略" class="headerlink" title="6. 说说TCP传输的三次握手四次挥手策略"></a>6. 说说TCP传输的三次握手四次挥手策略</h3><p>为了准确无误地把数据送达目标处，TCP协议采用了三次握手策略。用TCP协议把数据包送出去后，TCP不会对传送 后的情况置之不理，它一定会向对方确认是否成功送达。握手过程中使用了TCP的标志：<code>SYN</code>和<code>ACK</code>。</p><p>发送端首先发送一个带SYN标志的数据包给对方。接收端收到后，回传一个带有<code>SYN/ACK</code>标志的数据包以示传达确认信息。</p><p>最后，发送端再回传一个带<code>ACK</code>标志的数据包，代表“握手”结束。</p><p>若在握手过程中某个阶段莫名中断，TCP协议会再次以相同的顺序发送相同的数据包。</p><p>断开一个TCP连接则需要“四次握手”：</p><p>1）第一次挥手：主动关闭方发送一个FIN，用来关闭主动方到被动关闭方的数据传送，也就是主动关闭方告诉被动关闭方：我已经不 会再给你发数据了(当然，在fin包之前发送出去的数据，如果没有收到对应的<code>ack</code>确认报文，主动关闭方依然会重发这些数据)，但是，此时主动关闭方还可 以接受数据。</p><p>2）第二次挥手：被动关闭方收到FIN包后，发送一个<code>ACK</code>给对方，确认序号为收到序号+1（与SYN相同，一个FIN占用一个序号）。</p><p>3）第三次挥手：被动关闭方发送一个FIN，用来关闭被动关闭方到主动关闭方的数据传送，也就是告诉主动关闭方，我的数据也发送完了，不会再给你发数据了。</p><p>4）第四次挥手：主动关闭方收到FIN后，发送一个<code>ACK</code>给被动关闭方，确认序号为收到序号+1，至此，完成四次挥手。</p><h3 id="7-TCP和UDP的区别"><a href="#7-TCP和UDP的区别" class="headerlink" title="7. TCP和UDP的区别"></a>7. <code>TCP</code>和<code>UDP</code>的区别</h3><p><code>TCP</code>（Transmission Control Protocol，传输控制协议）是基于连接的协议，也就是说，在正式收发数据前，必须和对方建立可靠的连接。一个TCP连接必须要经过三次“对话”才能建立起来</p><p><code>UDP</code>（User Data Protocol，用户数据报协议）是与TCP相对应的协议。它是面向非连接的协议，它不与对方建立连接，而是直接就把数据包发送过去！</p><p><code>UDP</code>适用于一次只传送少量数据、对可靠性要求不高的应用环境。</p><h3 id="8-说说你对作用域链的理解"><a href="#8-说说你对作用域链的理解" class="headerlink" title="8. 说说你对作用域链的理解"></a>8. 说说你对作用域链的理解</h3><p>作用域链的作用是保证执行环境里有权访问的变量和函数是有序的，作用域链的变量只能向上访问，变量访问到window对象即被终止，作用域链向下访问变量是不被允许的。</p><h3 id="9-创建ajax过程"><a href="#9-创建ajax过程" class="headerlink" title="9. 创建ajax过程"></a>9. 创建<code>ajax</code>过程</h3><p>(1)创建<code>XMLHttpRequest</code>对象,也就是创建一个异步调用对象.</p><p>(2)创建一个新的HTTP请求,并指定该HTTP请求的方法、<code>URL</code>及验证信息. </p><p>(3)设置响应HTTP请求状态变化的函数.</p><p>(4)发送HTTP请求.</p><p>(5)获取异步调用返回的数据.</p><p>(6)使用JavaScript和<code>DOM</code>实现局部刷新.</p><h3 id="10-渐进增强和优雅降级"><a href="#10-渐进增强和优雅降级" class="headerlink" title="10. 渐进增强和优雅降级"></a>10. 渐进增强和优雅降级</h3><p><strong>渐进增强</strong> ：针对低版本浏览器进行构建页面，保证最基本的功能，然后再针对高级浏览器进行效果、交互等改进和追加功能达到更好的用户体验。</p><p><strong>优雅降级</strong> ：一开始就构建完整的功能，然后再针对低版本浏览器进行兼容。</p><h3 id="11-常见web安全及防护原理"><a href="#11-常见web安全及防护原理" class="headerlink" title="11. 常见web安全及防护原理"></a>11. 常见web安全及防护原理</h3><p><code>sql</code>注入原理</p><p>就是通过把<code>SQL</code>命令插入到Web表单递交或输入域名或页面请求的查询字符串，最终达到欺骗服务器执行恶意的<code>SQL</code>命令。</p><p>总的来说有以下几点：</p><p>1）<strong>永远不要信任用户的输入</strong>，要对用户的输入进行校验，可以通过正则表达式，或限制长度，对单引号和双”-“进行转换等。</p><p>2）**永远不要使用动态拼装<code>SQL</code>**，可以使用参数化的<code>SQL</code>或者直接使用存储过程进行数据查询存取。</p><p>3）<strong>永远不要使用管理员权限的数据库连接</strong>，为每个应用使用单独的权限有限的数据库连接。</p><p>4）<strong>不要把机密信息明文存放</strong>，请加密或者<code>hash</code>掉密码和敏感的信息。</p><h3 id="12-XSS原理及防范"><a href="#12-XSS原理及防范" class="headerlink" title="12. XSS原理及防范"></a>12. <code>XSS</code>原理及防范</h3><p><code>Xss(cross-site scripting)</code>攻击指的是攻击者往<code>Web页面</code>里插入<code>恶意html标签</code>或者<code>javascript代码</code>。</p><p>比如：攻击者在论坛中放一个看似安全的链接，<code>骗取用户点击后</code>，窃取<code>cookie</code>中的用户私密信息；或者攻击者在论坛中加一个恶意表单，</p><p>当用户提交表单的时候，却把信息传送到攻击者的服务器中，而不是用户原本以为的信任站点。</p><p><strong>XSS防范方法</strong></p><p>首先代码里对用户输入的地方和变量都需要仔细检查长度和对”&lt;”,”&gt;”,”;”,”’”等字符做过滤；其次任何内容写到页面之前都必须加以<code>encode</code>，避免不小心把<code>html tag</code> 弄出来。这一个层面做好，至少可以堵住超过一半的<code>XSS </code>攻击。</p><p>首先，避免直接在<code>cookie </code>中泄露用户隐私，例如<code>emai</code>l、<code>密码</code>等等。</p><p>其次，通过使<code>cookie</code> 和系统<code>ip</code> 绑定来降低<code>cookie</code> 泄露后的危险。这样攻击者得到的<code>cookie </code>没有实际价值，不可能拿来重放。</p><p>如果网站不需要再浏览器端对<code>cookie </code>进行操作，可以在<code>Set-Cookie </code>末尾加上<code>HttpOnly</code> 来防止javascript代码直接获取cookie 。</p><p>尽量采用<code>POST</code> 而非<code>GET</code> 提交表单</p><h3 id="13-XSS与CSRF有什么区别吗？"><a href="#13-XSS与CSRF有什么区别吗？" class="headerlink" title="13. XSS与CSRF有什么区别吗？"></a>13. <code>XSS</code>与<code>CSRF</code>有什么区别吗？</h3><p> <code>XSS</code>是获取信息，不需要提前知道其他用户页面的代码和数据包。<code>CSRF</code>是代替用户完成指定的动作，需要知道其他用户页面的代码和数据包。</p><p>要完成一次<code>CSRF</code>攻击，受害者必须依次完成两个步骤：登录受信任网站A，并在本地生成<code>Cookie</code>。</p><p>在不登出A的情况下，访问危险网站B。CSRF的防御</p><p><code>服务端的CSRF</code>方式方法很多样，但总的思想都是一致的，就是在客户端页面增加伪随机数。</p><p>通过验证码的方法</p><h3 id="14-Web-Worker和webSocket"><a href="#14-Web-Worker和webSocket" class="headerlink" title="14. Web Worker和webSocket"></a>14. <code>Web Worker</code>和<code>webSocket</code></h3><p><code>worker</code>主线程:</p><p>1）通过 <code>worker = new Worker( url )</code> 加载一个JS文件来创建一个worker，同时返回一个worker实例。</p><p>2）通过<code>worker.postMessage( data) </code>方法来向worker发送数据。</p><p>3）绑定<code>worker.onmessage</code>方法来接收worker发送过来的数据。</p><p>4）可以使用 <code>worker.terminate()</code> 来终止一个worker的执行。</p><p>WebSocket是Web应用程序的传输协议，它提供了双向的，按序到达的数据流。他是一个Html5协议，WebSocket的连接是持久的，他通过在客户端和服务器之间保持双工连接，服务器的更新可以被及时推送给客户端，而不需要客户端以一定时间间隔去轮询。</p><h3 id="15-HTTP和HTTPS"><a href="#15-HTTP和HTTPS" class="headerlink" title="15. HTTP和HTTPS"></a>15. HTTP和HTTPS</h3><p><code>HTTP协议</code>通常承载于<code>TCP协议</code>之上，在<code>HTTP和TCP之间</code>添加一个安全协议层（<code>SSL</code>或<code>TSL</code>），这个时候，就成了我们常说的<code>HTTPS。</code></p><p>默认<code>HTTP</code>的端口号为80，<code>HTTPS</code>的端口号为443。为什么HTTPS安全</p><p>因为网络请求需要中间有很多的服务器路由器的转发。中间的节点都可能篡改信息，而如果使用HTTPS，密钥在你和终点站才有。https之所以比http安全，是因为他利用ssl/tls协议传输。它包含证书，卸载，流量转发，负载均衡，页面适配，浏览器适配，<code>refer</code>传递等。保障了传输过程的安全性</p><h3 id="16-对前端模块化的认识"><a href="#16-对前端模块化的认识" class="headerlink" title="16. 对前端模块化的认识"></a>16. 对前端模块化的认识</h3><p><code>AMD</code> 是 <code>RequireJS</code> 在推广过程中对模块定义的规范化产出。<code>CMD</code> 是 <code>SeaJS</code> 在推广过程中对模块定义的规范化产出。<code>AMD</code> 是提前执行，<code>CMD</code> 是延迟执行。</p><p><code>AMD</code>推荐的风格通过返回一个对象做为模块对象，<code>CommonJS</code>的风格通过对module.exports或exports</p><p>的属性赋值来达到暴露模块对象的目的。<code>CMD</code>模块方式</p><p>define(function(require, exports,module) {</p><p>// 模块代码});</p><h3 id="17，Javascript垃圾回收方法"><a href="#17，Javascript垃圾回收方法" class="headerlink" title="17，Javascript垃圾回收方法"></a>17，Javascript垃圾回收方法</h3><p><strong>标记清除</strong>（mark and sweep）</p><p>这是JavaScript最常见的垃圾回收方式，当变量进入执行环境的时候，比如函数中声明一个变量，垃圾回收器将其标记为“进入环境”，当变量离开环境的时候（函数执行结束）将其标记为“离开环境”。</p><p>垃圾回收器会在运行的时候给存储在内存中的所有变量加上标记，然后去掉环境中的变量以及被环境中变量所引用的变量（闭包），在这些完成之后仍存在标记的就是要删除的变量了</p><p><strong>引用计数</strong>(reference counting)</p><p>在低版本IE中经常会出现内存泄露，很多时候就是因为其采用引用计数方式进行垃圾回收。引用计数的策略是跟踪记录每个值被使用的次数，当声明了一个变量并将一个引用类型赋值给该变量的时候这个值的引用次数就加1，如果该变量的值变成了另外一个，则这个值得引用次数减1，当这个值的引用次数变为0的时 候，说明没有变量在使用，这个值没法被访问了，因此可以将其占用的空间回收，这样垃圾回收器会在运行的时候清理掉引用次数为0的值占用的空间。</p><p>在IE中虽然JavaScript对象通过标记清除的方式进行垃圾回收，但<code>BOM</code>与<code>DOM</code>对象却是通过引用计数回收垃圾的，</p><p>也就是说只要涉及<code>BOM</code>及<code>DOM</code>就会出现循环引用问题。</p><h3 id="18，你觉得前端工程的价值体现在哪"><a href="#18，你觉得前端工程的价值体现在哪" class="headerlink" title="18，你觉得前端工程的价值体现在哪"></a>18，你觉得前端工程的价值体现在哪</h3><p>为简化用户使用提供技术支持（交互部分）为多个浏览器兼容性提供支持</p><p>为提高用户浏览速度（浏览器性能）提供支持</p><p>为跨平台或者其他基于webkit或其他渲染引擎的应用提供支持为展示数据提供支持（数据接口）</p><h3 id="19，谈谈性能优化问题"><a href="#19，谈谈性能优化问题" class="headerlink" title="19，谈谈性能优化问题"></a>19，谈谈性能优化问题</h3><p><strong>代码层面</strong>：避免使用css表达式，避免使用高级选择器，通配选择器。</p><p><strong>缓存利用</strong>：缓存Ajax，使用<code>CDN</code>，使用外部js和css文件以便缓存，添加Expires头，服务端配置<code>Etag</code>，减少DNS查找等</p><p><strong>请求数量</strong>：合并样式和脚本，使用css图片精灵，初始首屏之外的图片资源按需加载，静态资源延迟加载。</p><p><strong>请求带宽</strong>：压缩文件，开启GZIP，代码层面的优化</p><p>用hash-table来优化查找少用全局变量</p><p>用innerHTML代替<code>DOM</code>操作，减少<code>DOM</code>操作次数，优化javascript性能用setTimeout来避免页面失去响应</p><p>缓存<code>DOM</code>节点查找的结果避免使用CSS Expression避免全局查询</p><p>避免使用with(with会创建自己的作用域，会增加作用域链长度)多个变量声明合并</p><p>避免图片和iFrame等的空Src。空Src会重新加载当前页面，影响速度和效率尽量避免写在HTML标签中写Style属性</p><p><strong>移动端性能优化</strong></p><p>尽量使用css3动画，开启硬件加速。适当使用touch事件代替click事件。避免使用css3渐变阴影效果。</p><p>可以用transform: translateZ(0)来开启硬件加速。</p><p>不滥用Float。Float在渲染时计算量比较大，尽量减少使用</p><p>不滥用Web字体。Web字体需要下载，解析，重绘当前页面，尽量减少使用。合理使用requestAnimationFrame动画代替setTimeout</p><p>CSS中的属性（CSS3 transitions、CSS3 3D transforms、Opacity、Canvas、WebGL、Video）会触发GPU渲染，请合理使用。过渡使用会引发手机过耗电增加</p><p>PC端的在移动端同样适用</p><h3 id="20，什么是Etag？"><a href="#20，什么是Etag？" class="headerlink" title="20，什么是Etag？"></a>20，什么是<code>Etag</code>？</h3><p>当发送一个服务器请求时，浏览器首先会进行缓存过期判断。浏览器根据缓存过期时间判断缓存文件是否过期。</p><p><strong>情景一</strong>：若没有过期，则不向服务器发送请求，直接使用缓存中的结果，此时我们在浏览器控制台中可以看到 <code>200 OK(from cache)</code> ，此时的情况就是完全使用缓存，浏览器和服务器没有任何交互的。</p><p><strong>情景二</strong>：若已过期，则向服务器发送请求，此时请求中会带上①中设置的文件修改时间，和<code>Etag</code></p><p>然后，进行资源更新判断。服务器根据浏览器传过来的文件修改时间，判断自浏览器上一次请求之后，文件是不是没有被修改过；根据<code>Etag</code>，判断文件内容自上一次请求之后，有没有发生变化</p><p><strong>情形一</strong>：若两种判断的结论都是文件没有被修改过，则服务器就不给浏览器发index.html的内容了，直接告诉它，文件没有被修改过，你用你那边的缓存吧—— 304 Not Modified，此时浏览器就会从本地缓存中获取index.html的内容。此时的情况叫协议缓存，浏览器和服务器之间有一次请求交互。</p><p><strong>情形二</strong>：若修改时间和文件内容判断有任意一个没有通过，则服务器会受理此次请求，之后的操作同① ① 只有get请求会被缓存，post请求不会</p><h3 id="21，Expires和Cache-Control"><a href="#21，Expires和Cache-Control" class="headerlink" title="21，Expires和Cache-Control"></a>21，Expires和Cache-Control</h3><p>Expires要求客户端和服务端的时钟严格同步。HTTP1.1引入Cache-Control来克服Expires头的限制。如果max-age和Expires同时出现，则max-age有更高的优先级。</p><p>Cache-Control:no-cache, private, max-age=0 ETag: abcde</p><p>Expires: Thu, 15 Apr 201420:00:00 GMT Pragma: private</p><p>Last-Modified:$now //RFC1123 format</p><h3 id="22，Etag应用"><a href="#22，Etag应用" class="headerlink" title="22，Etag应用:"></a>22，<code>Etag</code>应用:</h3><p><code>Etag</code>由服务器端生成，客户端通过If-Match或者说If-None-Match这个条件判断请求来验证资源是否修改。常见的是使用If-None-Match。请求一个文件的流程可能如下：</p><p>====<strong>第一次请求</strong>===</p><p>1.客户端发起 HTTP GET 请求一个文件；</p><p>2.服务器处理请求，返回文件内容和一堆Header，当然包括<code>Etag</code>(例如”2e681a-6-5d044840”)(假设服务器支持<code>Etag</code>生成和已经开启了<code>Etag</code>).状态码200</p><p>====<strong>第二次请求</strong>===</p><p>客户端发起 <code>HTTP GET</code> 请求一个文件，注意这个时候客户端同时发送一个<code>If-None-Match</code>头，这个头的内容就是第一次请求时服务器返回的<code>Etag</code>：2e681a-6-5d0448402.服务器判断发送过来的<code>Etag</code>和计算出来的<code>Etag</code>匹配，因此<code>If-None-Match为False</code>，不返回200，返回304，客户端继续使用本地缓存；流程很简单，问题是，如果服务器又设置了<code>Cache-Control:max-age</code>和<code>Expires</code>呢，怎么办</p><p>答案是同时使用，也就是说在完全匹配<code>If-Modified-Since和If-None-Match</code>即检查完修改时间和<code>Etag</code>之后，</p><p>服务器才能返回304.(不要陷入到底使用谁的问题怪圈)</p><h3 id="23，为什么使用Etag请求头"><a href="#23，为什么使用Etag请求头" class="headerlink" title="23，为什么使用Etag请求头?"></a>23，为什么使用<code>Etag</code>请求头?</h3><p><code>Etag</code> 主要为了解决 <code>Last-Modified</code> 无法解决的一些问题。</p><h3 id="24，栈和队列的区别"><a href="#24，栈和队列的区别" class="headerlink" title="24，栈和队列的区别?"></a>24，栈和队列的区别?</h3><p>栈的插入和删除操作都是在一端进行的，而队列的操作却是在两端进行的。队列先进先出，栈先进后出。</p><p>栈只允许在表尾一端进行插入和删除，而队列只允许在表尾一端进行插入，在表头一端进行删除</p><h3 id="25，栈和堆的区别？"><a href="#25，栈和堆的区别？" class="headerlink" title="25，栈和堆的区别？"></a>25，栈和堆的区别？</h3><p><strong>栈区</strong>（<code>stack</code>）： 由编译器自动分配释放 ，存放函数的参数值，局部变量的值等。</p><p><strong>堆区</strong>（<code>heap</code>） ： 一般由程序员分配释放， 若程序员不释放，程序结束时可能由<code>OS</code>回收。堆（数据结构）：堆可以被看成是一棵树，如：堆排序；</p><p><strong>栈</strong>（数据结构）：一种先进后出的数据结构。</p><h3 id="26，快速排序的思想并实现一个快排？"><a href="#26，快速排序的思想并实现一个快排？" class="headerlink" title="26，快速排序的思想并实现一个快排？"></a>26，快速排序的思想并实现一个快排？</h3><p>“快速排序”的思想很简单，整个排序过程只需要三步：</p><p>（1）在数据集之中，找一个基准点</p><p>（2）建立两个数组，分别存储左边和右边的数组</p><p>（3）利用递归进行下次比较</p><p> &lt;scripttype=”text/javascript”&gt; functionquickSort(arr){</p><p>if(arr.length&lt;=1){</p><p>return arr;//如果数组只有一个数，就直接返回；</p><p>}</p><p>var num = Math.floor(arr.length/2);//找到中间数的索引值，如果是浮点数，则向下取整var numValue =arr.splice(num,1);//找到中间数的值</p><p>var left = []; var right = [];</p><p>for(var i=0;i&lt;arr.length;i++){</p><p>if(arr[i]&lt;numValue){</p><p>left.push(arr[i]);//基准点的左边的数传到左边数组</p><p>}</p><p>else{</p><p>right.push(arr[i]);//基准点的右边的数传到右边数组</p><p>}</p><p>}</p><p>returnquickSort(left).concat([numValue],quickSort(right));//递归不断重复比较}</p><p>alert(quickSort([32,45,37,16,2,87]));//弹出“2,16,32,37,45,87”</p><p></p><h3 id="27，你觉得jQuery或zepto源码有哪些写的好的地方"><a href="#27，你觉得jQuery或zepto源码有哪些写的好的地方" class="headerlink" title="27，你觉得jQuery或zepto源码有哪些写的好的地方"></a>27，你觉得<code>jQuery</code>或<code>zepto</code>源码有哪些写的好的地方</h3><p>(答案仅供参考)</p><p>Query源码封装在一个匿名函数的自执行环境中，有助于防止变量的全局污染，然后通过传入window对象参数，可以使window对象作为局部变量使用，好处是当jquery中访问window对象的时候，就不用将作用域链退回到顶层作用域了，从而可以更快的访问window对象。同样，传入undefined参数，可以缩短查找undefined时的作用域链。</p><p>(function( window, undefined ) {</p><p>//用一个函数域包起来，就是所谓的沙箱</p><p>//在这里边var定义的变量，属于这个函数域内的局部变量，避免污染全局</p><p>//把当前沙箱需要的外部变量通过函数参数引入进来</p><p>//只要保证参数对内提供的接口的一致性，你还可以随意替换传进来的这个参数window.jQuery = window.$ = jQuery;</p><p>})( window );</p><p>jquery将一些原型属性和方法封装在了jquery.prototype中，为了缩短名称，又赋值给了jquery.fn，这是很形象的写法。</p><p>有一些数组或对象的方法经常能使用到，jQuery将其保存为局部变量以提高访问速度。jquery实现的链式调用可以节约代码，所返回的都是同一个对象，可以提高代码效率。</p><h3 id="28，ES6的了解"><a href="#28，ES6的了解" class="headerlink" title="28，ES6的了解"></a>28，ES6的了解</h3><p>新增模板字符串（为<code>JavaScript</code>提供了简单的字符串插值功能）、箭头函数（操作符左边为输入的参数，而右边则是进行的操作以及返回的值Inputs=&gt;outputs。）</p><p><code>for-of</code>（用来遍历数据—例如数组中的值。）</p><p><code>arguments</code>对象可被不定参数和默认参数完美代替。</p><p><code>ES6</code>将<code>promise</code>对象纳入规范，提供了原生的<code>Promise</code>对象。</p><p>增加了<code>let</code>和<code>const</code>命令，用来声明变量。</p><p>增加了块级作用域。<code>let</code>命令实际上就增加了块级作用域。</p><p><code>ES6</code>规定，<code>var</code>命令和<code>function</code>命令声明的全局变量，属于全局对象的属性；let命令、const命令、class命令声明的全局变量，不属于全局对象的属性<br>。</p><p>还有就是引入<code>module</code>模块的概念</p><h3 id="29，js继承方式及其优缺点"><a href="#29，js继承方式及其优缺点" class="headerlink" title="29，js继承方式及其优缺点"></a>29，js继承方式及其优缺点</h3><p><strong>原型链继承的缺点</strong></p><p>一是字面量重写原型会中断关系，使用引用类型的原型，并且子类型还无法给超类型传递参数。借用构造函数（类式继承）</p><p>借用构造函数虽然解决了刚才两种问题，但没有原型，则复用无从谈起。所以我们需要原型链+借用构造函数的模式，这种模式称为组合继承</p><p><strong>组合式继承</strong></p><p>组合式继承是比较常用的一种继承方法，其背后的思路是 使用原型链实现对原型属性和方法的继承，而通过借用构造函数来实现对实例属性的继承。这样，既通过在原型上定义方法实现了函数复用，又保证每个实例都有它自己的属性。</p><h3 id="30，关于Http-2-0你知道多少？"><a href="#30，关于Http-2-0你知道多少？" class="headerlink" title="30，关于Http 2.0你知道多少？"></a>30，关于Http 2.0你知道多少？</h3><p>HTTP/2引入了“服务端推（<code>server push</code>）”的概念，它允许服务端在客户端需要数据之前就主动地将数据发送到客户端缓存中，从而提高性能。</p><p>HTTP/2提供更多的加密支持</p><p>HTTP/2使用多路技术，允许多个消息在一个连接上同时交差。</p><p>它增加了头压缩（<code>header compression</code>），因此即使非常小的请求，其请求和响应的<code>header</code>都只会占用很小比例的带宽。</p><h3 id="31，defer和async"><a href="#31，defer和async" class="headerlink" title="31，defer和async"></a>31，<code>defer</code>和<code>async</code></h3><p><code>defer</code>并行加载js文件，会按照页面上<code>script</code>标签的顺序执行</p><p><code>async</code>并行加载js文件，下载完成立即执行，不会按照页面上<code>script</code>标签的顺序执行</p><h3 id="32，谈谈浮动和清除浮动"><a href="#32，谈谈浮动和清除浮动" class="headerlink" title="32，谈谈浮动和清除浮动"></a>32，谈谈浮动和清除浮动</h3><p>浮动的框可以向左或向右移动，直到他的外边缘碰到包含框或另一个浮动框的边框为止。由于浮动框不在文档的普通流中，所以文档的普通流的块框表现得就像浮动框不存在一样。浮动的块框会漂浮在文档普通流的块框上。</p><h3 id="33，如何评价AngularJS和BackboneJS"><a href="#33，如何评价AngularJS和BackboneJS" class="headerlink" title="33，如何评价AngularJS和BackboneJS"></a>33，如何评价<code>AngularJS</code>和<code>BackboneJS</code></h3><p><code>backbone</code>具有依赖性，依赖<code>underscore.js</code>。<code>Backbone</code> + Underscore + jQuery(or <code>zepto</code>) 就比一个AngularJS多出了2 次HTTP请求.</p><p><code>Backbone</code>的<code>Model</code>没有与UI视图数据绑定，而是需要在View中自行操作<code>DOM</code>来更新或读取UI数据。<code>AngularJS</code>与此相反，Model直接与UI视图绑定，Model与UI视图的关系，通过<code>directive</code>封装，<code>AngularJS</code>内置的通用<code>directive</code>，就能实现大部分操作了，也就是说，基本不必关心Model与UI视图的关系，直接操作Model就行了，UI视图自动更新。</p><p><code>AngularJS的directive</code>，你输入特定数据，他就能输出相应UI视图。是一个比较完善的前端MVW框架，包含模板，数据双向绑定，路由，模块化，服务，依赖注入等所有功能，模板功能强大丰富，并且是声明式的，自带了丰富的 Angular 指令。</p><h3 id="34，用过哪些设计模式？"><a href="#34，用过哪些设计模式？" class="headerlink" title="34，用过哪些设计模式？"></a>34，用过哪些设计模式？</h3><h4 id="工厂模式："><a href="#工厂模式：" class="headerlink" title="工厂模式："></a>工厂模式：</h4><p>主要好处就是可以消除对象间的耦合，通过使用工程方法而不是new关键字。将所有实例化的代码集中在一个位置防止代码重复。</p><p>工厂模式解决了重复实例化的问题 ，但还有一个问题,那就是识别问题，因为根本无法搞清楚他们到底是哪个对象的实例。</p><p>function createObject(name,age,profession){//集中实例化的函数var obj = newObject(); obj.name =name;</p><p>obj.age = age; obj.profession= profession; obj.move =function () {</p><p>returnthis.name + ‘ at ‘ + this.age + ‘ engaged in ‘ + this.profession; };</p><p>return obj;</p><p>}</p><p>var test1 = createObject(‘trigkit4’,22,’programmer’);//第一个实例var test2 =createObject(‘mike’,25,’engineer’);//第二个实例</p><h4 id="构造函数模式"><a href="#构造函数模式" class="headerlink" title="构造函数模式"></a>构造函数模式</h4><p>使用构造函数的方法 ，即解决了重复实例化的问题 ，又解决了对象识别的问题，该模式与工厂模式的不同之处在于：</p><p>1）构造函数方法没有显示的创建对象 (new Object()); </p><p>2）直接将属性和方法赋值给 this 对象;</p><p>3）没有 renturn 语句。</p><h3 id="35，说说你对闭包的理解"><a href="#35，说说你对闭包的理解" class="headerlink" title="35，说说你对闭包的理解"></a>35，说说你对闭包的理解</h3><p>使用闭包主要是为了设计私有的方法和变量。闭包的优点是可以避免全局变量的污染，缺点是闭包会常驻内存，会增大内存使用量，使用不当很容易造成内存泄露。在js中，函数即闭包，只有函数才会产生作用域的概念</p><p>闭包有三个特性：</p><p>1）函数嵌套函数</p><p>2）函数内部可以引用外部的参数和变量</p><p>3）参数和变量不会被垃圾回收机制回收</p><h3 id="36，请你谈谈Cookie的弊端"><a href="#36，请你谈谈Cookie的弊端" class="headerlink" title="36，请你谈谈Cookie的弊端"></a>36，请你谈谈Cookie的弊端</h3><p><code>cookie</code>虽然在持久保存客户端数据提供了方便，分担了服务器存储的负担，但还是有很多局限性的。第一：每个特定的域名下最多生成20个cookie</p><p>1）<code>IE6</code>或更低版本最多20个<code>cookie</code></p><p>2）IE7和之后的版本最后可以有50个cookie。</p><p>3）Firefox最多50个cookie</p><p>4）chrome和Safari没有做硬性限制</p><p><code>IE</code>和<code>Opera</code>会清理近期最少使用的cookie，<code>Firefox</code>会随机清理cookie。cookie的最大大约为4096字节，为了兼容性，一般不能超过4095字节。</p><p>IE 提供了一种存储可以持久化用户数据，叫做<code>userdata</code>，从IE5.0就开始支持。每个数据最多128K，每个域名下最多1M。这个持久化数据放在缓存中，如果缓存没有清理，那么会一直存在。</p><p><strong>优点</strong>：</p><p>极高的扩展性和可用性</p><p>1）通过良好的编程，控制保存在cookie中的session对象的大小。</p><p>2）通过加密和安全传输技术（SSL），减少cookie被破解的可能性。</p><p>3）只在cookie中存放不敏感数据，即使被盗也不会有重大损失。</p><p>4）控制cookie的生命期，使之不会永远有效。偷盗者很可能拿到一个过期的cookie。</p><p><strong>缺点</strong>：</p><p>1） Cookie 数量和长度的限制。每个domain最多只能有20条cookie，每个cookie长度不能超过4KB，否则会被截掉.</p><p>2）安全性问题。如果cookie被人拦截了，那人就可以取得所有的session信息。即使加密也与事无补，因为拦截者并不需要知道cookie的意义，他只要原样转发cookie就可以达到目的了。</p><p>3）有些状态不可能保存在客户端。例如，为了防止重复提交表单，我们需要在服务器端保存一个计数器。如果我们把这个计数器保存在客户端，那么它起不到任何作用。</p><h3 id="37，浏览器本地存储"><a href="#37，浏览器本地存储" class="headerlink" title="37，浏览器本地存储"></a>37，浏览器本地存储</h3><p>在较高版本的浏览器中，js提供了<code>sessionStorage</code>和<code>globalStorage</code>。在HTML5中提供了<code>localStorage</code>来取代<code>globalStorage</code>。</p><p>html5中的Web Storage包括了两种存储方式：<code>sessionStorage</code>和<code>localStorage</code>。</p><p><code>sessionStorage</code>用于本地存储一个会话（<code>session</code>）中的数据，这些数据只有在同一个会话中的页面才能访问并且当会话结束后数据也随之销毁。因此<code>sessionStorage</code>不是一种持久化的本地存储，仅仅是会话级别的存储。</p><p>而<code>localStorage</code>用于持久化的本地存储，除非主动删除数据，否则数据是永远不会过期的。</p><h3 id="38，web-storage和cookie的区别"><a href="#38，web-storage和cookie的区别" class="headerlink" title="38，web storage和cookie的区别"></a>38，<code>web storage</code>和cookie的区别</h3><p><code>Web Storage</code>的概念和cookie相似，区别是它是为了更大容量存储设计的。Cookie的大小是受限的，并且每次你请求一个新的页面的时候Cookie都会被发送过去，这样无形中浪费了带宽，另外cookie还需要指定作用域，不可以跨域调用。</p><p>除此之外，<code>Web Storage</code>拥有<code>setItem</code>,<code>getItem</code>,<code>removeItem</code>,<code>clear</code>等方法，不像cookie需要前端开发者自己封装<code>setCookie</code>，<code>getCookie</code>。</p><p>但是cookie也是不可以或缺的：cookie的作用是与服务器进行交互，作为HTTP规范的一部分而存在 ，而<code>Web Storage</code>仅仅是为了在本地“存储”数据而生</p><p>浏览器的支持除了IE7及以下不支持外，其他标准浏览器都完全支持(ie及FF需在web服务器里运行)，值得一提的是IE总是办好事，例如IE7、IE6中的<code>userData</code>其实就是javascript本地存储的解决方案。通过简单的代码封装可以统一到所有的浏览器都支持<code>web storage</code>。</p><p><code>localStorage</code>和<code>sessionStorage</code>都具有相同的操作方法，例如<code>setItem</code>、<code>getItem</code>和<code>removeItem</code>等</p><h3 id="39，cookie和session的区别："><a href="#39，cookie和session的区别：" class="headerlink" title="39，cookie和session的区别："></a>39，cookie和session的区别：</h3><p>1）cookie数据存放在客户的浏览器上，session数据放在服务器上。</p><p>2）cookie不是很安全，别人可以分析存放在本地的COOKIE并进行COOKIE欺骗考虑到安全应当使用session。</p><p>3）session会在一定时间内保存在服务器上。当访问增多，会比较占用你服务器的性能考虑到减轻服务器性能方面，应当使用COOKIE。</p><p>4）单个cookie保存的数据不能超过4K，很多浏览器都限制一个站点最多保存20个cookie。5）所以个人建议：</p><p>将登陆信息等重要信息存放为SESSION</p><p>其他信息如果需要保留，可以放在COOKIE中</p><h3 id="40，display-none和visibility-hidden的区别？"><a href="#40，display-none和visibility-hidden的区别？" class="headerlink" title="40，display:none和visibility:hidden的区别？"></a>40，<code>display:none</code>和<code>visibility:hidden</code>的区别？</h3><p><code>display:none</code> 隐藏对应的元素，在文档布局中不再给它分配空间，它各边的元素会合拢，就当他从来不存在。</p><p><code>visibility:hidden</code> 隐藏对应的元素，但是在文档布局中仍保留原来的空间。</p><h3 id="41，CSS中link和-import的区别是？"><a href="#41，CSS中link和-import的区别是？" class="headerlink" title="41，CSS中link和@import的区别是？"></a>41，CSS中link和@import的区别是？</h3><p>(1) link属于HTML标签，而@import是CSS提供的;</p><p>(2) 页面被加载的时，link会同时被加载，而@import被引用的CSS会等到引用它的CSS文件被加载完再加载;</p><p>(3) import只在IE5以上才能识别，而link是HTML标签，无兼容问题;</p><p>(4) link方式的样式的权重 高于@import的权重.</p><h3 id="42，position-absolute和float属性的异同"><a href="#42，position-absolute和float属性的异同" class="headerlink" title="42，position:absolute和float属性的异同"></a>42，position:absolute和float属性的异同</h3><p>共同点：对内联元素设置float和absolute属性，可以让元素脱离文档流，并且可以设置其宽高。不同点：float仍会占据位置，absolute会覆盖文档流中的其他元素。</p><h3 id="43，介绍一下box-sizing属性？"><a href="#43，介绍一下box-sizing属性？" class="headerlink" title="43，介绍一下box-sizing属性？"></a>43，介绍一下<code>box-sizing</code>属性？</h3><p><code>box-sizing</code>属性主要用来控制元素的盒模型的解析模式。默认值是content-box。</p><p><code>content-box</code>：让元素维持W3C的标准盒模型。元素的宽度/高度由<code>border + padding + content</code>的宽度/高度决定，设置width/height属性指的是content部分的宽/高</p><p><code>border-box</code>：让元素维持IE传统盒模型（IE6以下版本和IE6~7的怪异模式）。设置<code>width/height</code>属性指的是<code>border + padding + content</code></p><p>标准浏览器下，按照W3C规范对盒模型解析，一旦修改了元素的边框或内距，就会影响元素的盒子尺寸，就不得不重新计算元素的盒子尺寸，从而影响整个页面的布局。</p><h3 id="44，选择符有哪些？哪些属性可以继承？"><a href="#44，选择符有哪些？哪些属性可以继承？" class="headerlink" title="44，选择符有哪些？哪些属性可以继承？"></a>44，选择符有哪些？哪些属性可以继承？</h3><p>1）id选择器（#myid）</p><p>2）类选择器（.myclassname）</p><p>3）标签选择器（div, h1, p）</p><p>4）相邻选择器（h1 + p）</p><p>5）子选择器（ul &gt; li）</p><p>6）后代选择器（lia）</p><p>7）通配符选择器（ * ）</p><p>8）属性选择器（a[rel = “external”]）</p><p>9）伪类选择器（a: hover, li:nth-child）</p><h3 id="45，优先级算法如何计算？"><a href="#45，优先级算法如何计算？" class="headerlink" title="45，优先级算法如何计算？"></a>45，优先级算法如何计算？</h3><p>优先级为:</p><p>!important &gt; id &gt; class &gt; tag</p><p>important 比 内联优先级高,但内联比 id 要高</p><h3 id="46，CSS3新增伪类有那些？"><a href="#46，CSS3新增伪类有那些？" class="headerlink" title="46，CSS3新增伪类有那些？"></a>46，CSS3新增伪类有那些？</h3><p>CSS3新增伪类举例：</p><p>p:first-of-type选择属于其父元素的首个 </p><p> 元素的每个 </p><p> 元素。p:last-of-type 选择属于其父元素的最后 </p><p> 元素的每个 </p><p> 元素。p:only-of-type 选择属于其父元素唯一的 </p><p> 元素的每个 </p><p> 元素。p:only-child 选择属于其父元素的唯一子元素的每个 </p><p> 元素。</p><p>p:nth-child(2) 选择属于其父元素的第二个子元素的每个 </p><p> 元素。:enabled :disabled控制表单控件的禁用状态。</p><p>:checked  单选框或复选框被选中。</p><h3 id="47，CSS3有哪些新特性？"><a href="#47，CSS3有哪些新特性？" class="headerlink" title="47，CSS3有哪些新特性？"></a>47，CSS3有哪些新特性？</h3><p>CSS3实现圆角（border-radius），阴影（box-shadow），</p><p>对文字加特效（text-shadow、），线性渐变（gradient），旋转（transform）transform:rotate(9deg) scale(0.85,0.90)translate(0px,-30px) skew(-9deg,0deg);//旋转,缩放,定位,倾斜增加了更多的CSS选择器 多背景 rgba</p><p>在CSS3中唯一引入的伪元素是::selection.媒体查询，多栏布局</p><p>border-image</p><p>CSS3中新增了一种盒模型计算方式：box-sizing。盒模型默认的值是content-box, 新增的值是padding- box和border-box，几种盒模型计算元素宽高的区别如下：</p><p>content-box（默认）布局所占宽度Width：</p><p>Width = width + padding-left + padding-right + border-left + border-right</p><p><strong>布局所占高度Height</strong>:</p><p>Height = height + padding-top + padding-bottom + border-top + border-bottom padding-box</p><p><strong>布局所占宽度Width</strong>：</p><p>Width = width(包含padding-left + padding-right) + border-top + border-bottom</p><p><strong>布局所占高度Height</strong>:</p><p>Height = height(包含padding-top + padding-bottom) + border-top + border-bottom</p><p>border-box</p><p><strong>布局所占宽度Width</strong>：</p><p>Width = width(包含padding-left + padding-right + border-left + border-right)</p><p><strong>布局所占高度Height</strong>:</p><p>Height = height(包含padding-top + padding-bottom + border-top + border-bottom)</p><h3 id="48，对BFC规范的理解？"><a href="#48，对BFC规范的理解？" class="headerlink" title="48，对BFC规范的理解？"></a>48，对<code>BFC</code>规范的理解？</h3><p>BFC，块级格式化上下文，一个创建了新的BFC的盒子是独立布局的，盒子里面的子元素的样式不会影响到外面的元素。在同一个BFC中的两个毗邻的块级盒在垂直方向（和布局方向有关系）的margin会发生折叠。</p><p>（W3C CSS 2.1 规范中的一个概念，它决定了元素如何对其内容进行布局，以及与其他元素的关系和相互作用。</p><h3 id="49，说说你对语义化的理解？"><a href="#49，说说你对语义化的理解？" class="headerlink" title="49，说说你对语义化的理解？"></a>49，说说你对语义化的理解？</h3><p>1）去掉或者丢失样式的时候能够让页面呈现出清晰的结构</p><p>2）有利于SEO：和搜索引擎建立良好沟通，有助于爬虫抓取更多的有效信息：爬虫依赖于标签来确定上下文和各个关键字的权重；</p><p>3）方便其他设备解析（如屏幕阅读器、盲人阅读器、移动设备）以意义的方式来渲染网页；</p><p>4）便于团队开发和维护，语义化更具可读性，是下一步吧网页的重要动向，遵循W3C标准的团队都遵循这个标准，可以减少差异化。</p><h3 id="50，Doctype作用-严格模式与混杂模式如何区分？它们有何意义"><a href="#50，Doctype作用-严格模式与混杂模式如何区分？它们有何意义" class="headerlink" title="50，Doctype作用? 严格模式与混杂模式如何区分？它们有何意义?"></a>50，<code>Doctype</code>作用? 严格模式与混杂模式如何区分？它们有何意义?</h3><p>1） &lt;!DOCTYPE&gt; 声明位于文档中的最前面，处于 <html> 标签之前。告知浏览器以何种模式来渲染文档。</html></p><p>2）严格模式的排版和 JS 运作模式是 以该浏览器支持的最高标准运行。</p><p>3）在混杂模式中，页面以宽松的向后兼容的方式显示。模拟老式浏览器的行为以防止站点无法工作。4）DOCTYPE不存在或格式不正确会导致文档以混杂模式呈现。</p><h3 id="51，你知道多少种Doctype文档类型？"><a href="#51，你知道多少种Doctype文档类型？" class="headerlink" title="51，你知道多少种Doctype文档类型？"></a>51，你知道多少种<code>Doctype</code>文档类型？</h3><p>该标签可声明三种<code>DTD</code>类型，分别表示严格版本、过渡版本以及基于框架的 HTML 文档。HTML 4.01 规定了三种文档类型：Strict、Transitional 以及 Frameset。</p><p><code>XHTML 1.0</code> 规定了三种 XML 文档类型：<code>Strict、Transitional </code>以及 Frameset。</p><p><code>Standards </code>（标准）模式（也就是严格呈现模式）用于呈现遵循最新标准的网页，而 Quirks</p><p>（包容）模式（也就是松散呈现模式或者兼容模式）用于呈现为传统浏览器而设计的网页。</p><h3 id="52，HTML与XHTML——二者有什么区别"><a href="#52，HTML与XHTML——二者有什么区别" class="headerlink" title="52，HTML与XHTML——二者有什么区别"></a>52，HTML与XHTML——二者有什么区别</h3><p>区别：</p><p>1）所有的标记都必须要有一个相应的结束标记</p><p>2）所有标签的元素和属性的名字都必须使用小写</p><p>3）所有的XML标记都必须合理嵌套</p><p>4）所有的属性必须用引号””括起来</p><p>5）把所有&lt;和&amp;特殊符号用编码表示</p><p>6）给所有属性赋一个值</p><p>7）不要在注释内容中使“–” </p><p>8）图片必须有说明文字</p><h3 id="53，常见兼容性问题？"><a href="#53，常见兼容性问题？" class="headerlink" title="53，常见兼容性问题？"></a>53，常见兼容性问题？</h3><p>png24位的图片在iE6浏览器上出现背景，解决方案是做成PNG8.也可以引用一段脚本处理.</p><p>浏览器默认的margin和padding不同。解决方案是加一个全局的*{margin:0;padding:0;}来统一。IE6双边距bug:块属性标签float后，又有横行的margin情况下，在ie6显示margin比设置的大。</p><p>浮动ie产生的双倍距离（IE6双边距问题：在IE6下，如果对元素设置了浮动，同时又设置了margin-left或margin-right，margin值会加倍。）</p><p>#box{ float:left; width:10px; margin:0 0 0 100px;}</p><p>这种情况之下IE会产生20px的距离，解决方案是在float的标签样式控制中加入</p><p>_display:inline; 将其转化为行内属性。(_这个符号只有ie6会识别)</p><p>渐进识别的方式，从总体中逐渐排除局部。</p><p>首先，巧妙的使用“\9”这一标记，将IE游览器从所有情况中分离出来。接着，再次使用“+”将IE8和IE7、IE6分离开来，这样IE8已经独立识别。</p><p>css</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">.bb&#123;</span><br><span class="line"></span><br><span class="line">background-color:#f1ee18;&#x2F;*所有识别*&#x2F;</span><br><span class="line"></span><br><span class="line">.background-color:#00deff\9; &#x2F;*IE6、7、8识别*&#x2F;</span><br><span class="line"></span><br><span class="line">+background-color:#a200ff;&#x2F;*IE6、7识别*&#x2F;</span><br><span class="line"></span><br><span class="line">_background-color:#1e0bd1;&#x2F;*IE6识别*&#x2F;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>怪异模式问题：漏写DTD声明，Firefox仍然会按照标准模式来解析网页，但在IE中会触发</p><p>怪异模式。为避免怪异模式给我们带来不必要的麻烦，最好养成书写DTD声明的好习惯。现在可以使用html5推荐的写法： <doctype html></doctype></p><p>上下margin重合问题</p><p>ie和ff都存在，相邻的两个div的margin-left和margin-right不会重合，但是margin-top和margin- bottom却会发生重合。</p><p>解决方法，养成良好的代码编写习惯，同时采用margin-top或者同时采用margin-bottom。</p><h3 id="54，解释下浮动和它的工作原理？清除浮动的技巧"><a href="#54，解释下浮动和它的工作原理？清除浮动的技巧" class="headerlink" title="54，解释下浮动和它的工作原理？清除浮动的技巧"></a>54，解释下浮动和它的工作原理？清除浮动的技巧</h3><p>浮动元素脱离文档流，不占据空间。浮动元素碰到包含它的边框或者浮动元素的边框停留。</p><p>1）<strong>使用空标签清除浮动</strong>。</p><p>这种方法是在所有浮动标签后面添加一个空标签 定义cssclear:both. 弊端就是增加了无意义标签。</p><p>2）<strong>使用overflow</strong>。</p><p>给包含浮动元素的父标签添加css属性 overflow:auto; zoom:1; zoom:1用于兼容IE6。</p><p>3）<strong>使用after伪对象清除浮动</strong>。</p><p>该方法只适用于非IE浏览器。具体写法可参照以下示例。使用中需注意以下几点。一、该方法中必须为需要清除浮动元素的伪对象中设置 height:0，否则该元素会比实际高出若干像素；</p><h3 id="55，浮动元素引起的问题和解决办法？"><a href="#55，浮动元素引起的问题和解决办法？" class="headerlink" title="55，浮动元素引起的问题和解决办法？"></a>55，浮动元素引起的问题和解决办法？</h3><p>浮动元素引起的问题：</p><p>（1）父元素的高度无法被撑开，影响与父元素同级的元素</p><p>（2）与浮动元素同级的非浮动元素（内联元素）会跟随其后</p><p>（3）若非第一个元素浮动，则该元素之前的元素也需要浮动，否则会影响页面显示的结构解决方法：</p><p>使用CSS中的clear:both;属性来清除元素的浮动可解决2、3问题，对于问题1，添加如下样式，给父元素添加clearfix样式：</p><p>.clearfix:after{content:”.”;display: block;height:0;clear: both;visibility: hidden;}</p><p>.clearfix{display: inline-block;} /* for IE/Mac */</p><h3 id="56，清除浮动的几种方法："><a href="#56，清除浮动的几种方法：" class="headerlink" title="56，清除浮动的几种方法："></a>56，清除浮动的几种方法：</h3><p>1）额外标签法， &lt;divstyle=”clear:both;”&gt; （缺点：不过这个办法会增加额外的标签使HTML结构看起来不够简洁。）</p><p>2）使用after伪类</p><p>#parent:after{ content:”.”; height:0; visibility:hidden; display:block; clear:both;</p><p>}</p><p>3）浮动外部元素</p><p>4）设置overflow为hidden或者auto</p><h3 id="57，DOM操作——怎样添加、移除、移动、复制、创建和查找节点。"><a href="#57，DOM操作——怎样添加、移除、移动、复制、创建和查找节点。" class="headerlink" title="57，DOM操作——怎样添加、移除、移动、复制、创建和查找节点。"></a>57，<code>DOM</code>操作——怎样添加、移除、移动、复制、创建和查找节点。</h3><p>1）<strong>创建新节点</strong></p><p>createDocumentFragment() //创建一个<code>DOM</code>片段createElement() //创建一个具体的元素createTextNode() //创建一个文本节点</p><p>2）<strong>添加、移除、替换、插入</strong></p><p>appendChild() removeChild() replaceChild()</p><p>insertBefore() //并没有insertAfter() 3）查找</p><p>getElementsByTagName() //通过标签名称</p><p>getElementsByName() //通过元素的Name属性的值(IE容错能力较强，会得到一个数组，其中包括id等于name值的)</p><p>getElementById() //通过元素Id，唯一性</p><h3 id="58，html5有哪些新特性、移除了那些元素？如何处理HTML5新标签的浏览器兼容问题？如何区分-HTML-和-HTML5？"><a href="#58，html5有哪些新特性、移除了那些元素？如何处理HTML5新标签的浏览器兼容问题？如何区分-HTML-和-HTML5？" class="headerlink" title="58，html5有哪些新特性、移除了那些元素？如何处理HTML5新标签的浏览器兼容问题？如何区分 HTML 和 HTML5？"></a>58，html5有哪些新特性、移除了那些元素？如何处理HTML5新标签的浏览器兼容问题？如何区分 HTML 和 HTML5？</h3><p>HTML5 现在已经不是 SGML 的子集，主要是关于图像，位置，存储，多任务等功能的增加。拖拽释放(Drag and drop) API</p><p>语义化更好的内容标签（header,nav,footer,aside,article,section）音频、视频API(audio,video)</p><p>画布(Canvas) API</p><p>地理(Geolocation) API</p><p>本地离线存储 localStorage 长期存储数据，浏览器关闭后数据不丢失；sessionStorage 的数据在浏览器关闭后自动删除</p><p>表单控件，calendar、date、time、email、url、search新的技术webworker, websocket,Geolocation</p><p><strong>移除的元素</strong>:</p><p>纯表现的元素：basefont，big，center，font, s，strike，tt，u；对可用性产生负面影响的元素：frame，frameset，noframes；</p><p>支持HTML5新标签：</p><p>IE8/IE7/IE6支持通过document.createElement方法产生的标签，可以利用这一特性让这些浏览器支持HTML5新标签，</p><p>当然最好的方式是直接使用成熟的框架、使用最多的是html5shim框架</p><!--[if lt IE 9]><script>src="http://html5shim.googlecode.com/svn/trunk/html5.js"</script><![endif]--><p>如何区分： DOCTYPE声明\新增的结构元素\功能元素</p><h3 id="59，如何实现浏览器内多个标签页之间的通信"><a href="#59，如何实现浏览器内多个标签页之间的通信" class="headerlink" title="59，如何实现浏览器内多个标签页之间的通信?"></a>59，如何实现浏览器内多个标签页之间的通信?</h3><p>调用<code>localstorge</code>、<code>cookies</code>等本地存储方式</p><h3 id="60，什么是-FOUC（无样式内容闪烁）？你如何来避免-FOUC？"><a href="#60，什么是-FOUC（无样式内容闪烁）？你如何来避免-FOUC？" class="headerlink" title="60，什么是 FOUC（无样式内容闪烁）？你如何来避免 FOUC？"></a>60，什么是 <code>FOUC</code>（无样式内容闪烁）？你如何来避免 <code>FOUC</code>？</h3><p><code>FOUC</code> - FlashOf Unstyled Content 文档样式闪烁</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;style type&#x3D;&quot;text&#x2F;css&quot;media&#x3D;&quot;all&quot;&gt;@import&quot;..&#x2F;FOUC.css&quot;;&lt;&#x2F;style&gt;</span><br></pre></td></tr></table></figure><p>而引用CSS文件的@import就是造成这个问题的罪魁祸首。IE会先加载整个HTML文档的<code>DOM</code>，然后再去导入外部的CSS文件，因此，在页面<code>DOM</code>加载完成到CSS导入完成中间会有一段时间页面上的内容是没有样式的，这段时间的长短跟网速，电脑速度都有关系。</p><p>解决方法简单的出奇，只要在 <code>&lt;head&gt;</code> 之间加入一个 <code>&lt;link&gt;</code> 或者 <code>&lt;script&gt;</code> 元素就可以了。</p><h3 id="61，null和undefined的区别"><a href="#61，null和undefined的区别" class="headerlink" title="61，null和undefined的区别"></a>61，<code>null</code>和<code>undefined</code>的区别</h3><p><code>null</code>是一个表示”无”的对象，转为数值时为0；undefined是一个表示”无”的原始值，转为数值时为<code>NaN</code>。当声明的变量还未被初始化时，变量的默认值为<code>undefined</code>。</p><p>null用来表示尚未存在的对象，常用来表示函数企图返回一个不存在的对象。<code>undefined</code>表示”缺少值”，就是此处应该有一个值，但是还没有定义。典型用法是：</p><p>（1）变量被声明了，但没有赋值时，就等于<code>undefined</code>。</p><p>（2) 调用函数时，应该提供的参数没有提供，该参数等于undefined。（3）对象没有赋值的属性，该属性的值为undefined。</p><p>（4）函数没有返回值时，默认返回undefined。</p><p>null表示”没有对象”，即该处不应该有值。典型用法是：（1） 作为函数的参数，表示该函数的参数不是对象。（2） 作为对象原型链的终点。</p><h3 id="62，new操作符具体干了什么呢"><a href="#62，new操作符具体干了什么呢" class="headerlink" title="62，new操作符具体干了什么呢?"></a>62，new操作符具体干了什么呢?</h3><p>1）创建一个空对象，并且 this 变量引用该对象，同时还继承了该函数的原型。</p><p>2）属性和方法被加入到 this 引用的对象中。</p><p>3）新创建的对象由 this 所引用，并且最后隐式的返回 this 。</p><p>var obj = {};</p><p>obj.<strong>proto</strong> = Base.prototype; Base.call(obj);</p><h3 id="63，js延迟加载的方式有哪些？"><a href="#63，js延迟加载的方式有哪些？" class="headerlink" title="63，js延迟加载的方式有哪些？"></a>63，js延迟加载的方式有哪些？</h3><p><code>defer</code>和<code>async</code>、动态创建<code>DOM</code>方式（创建script，插入到<code>DOM</code>中，加载完毕后<code>callBack</code>）、按需异步载入js</p><h3 id="64，call-和-apply-的区别和作用？"><a href="#64，call-和-apply-的区别和作用？" class="headerlink" title="64，call()和 apply() 的区别和作用？"></a>64，call()和 apply() 的区别和作用？</h3><p>作用：动态改变某个类的某个方法的运行环境（执行上下文）。</p><h3 id="65，哪些操作会造成内存泄漏？"><a href="#65，哪些操作会造成内存泄漏？" class="headerlink" title="65，哪些操作会造成内存泄漏？"></a>65，哪些操作会造成内存泄漏？</h3><p>内存泄漏指任何对象在您不再拥有或需要它之后仍然存在。</p><p>垃圾回收器定期扫描对象，并计算引用了每个对象的其他对象的数量。如果一个对象的引用数量为0（没有其他对象引用过该对象），或对该对象的惟一引用是循环的，那么该对象的内存即可回收。</p><p>setTimeout 的第一个参数使用字符串而非函数的话，会引发内存泄漏。</p><p>闭包、控制台日志、循环（在两个对象彼此引用且彼此保留时，就会产生一个循环）</p><h3 id="66，列举IE与其他浏览器不一样的特性？"><a href="#66，列举IE与其他浏览器不一样的特性？" class="headerlink" title="66，列举IE与其他浏览器不一样的特性？"></a>66，列举IE与其他浏览器不一样的特性？</h3><p>IE支持currentStyle，FIrefox使用getComputStyle IE 使用innerText，Firefox使用textContent</p><p>滤镜方面：IE:filter:alpha(opacity= num)；Firefox：-moz-opacity:num事件方面：IE：attachEvent：火狐是addEventListener</p><p>鼠标位置：IE是event.clientX；火狐是event.pageX IE使用event.srcElement；Firefox使用event.target</p><p>IE中消除list的原点仅需margin:0即可达到最终效果；FIrefox需要设置margin:0;padding:0以及list- style:none</p><p>CSS圆角：ie7以下不支持圆角</p><h3 id="67，WEB应用从服务器主动推送Data到客户端有那些方式？"><a href="#67，WEB应用从服务器主动推送Data到客户端有那些方式？" class="headerlink" title="67，WEB应用从服务器主动推送Data到客户端有那些方式？"></a>67，WEB应用从服务器主动推送Data到客户端有那些方式？</h3><p><strong>Javascript数据推送</strong></p><p><code>Commet</code>：基于HTTP长连接的服务器推送技术基于WebSocket的推送方案</p><p><code>SSE（Server-Send Event）</code>：服务器推送数据新方式</p><h3 id="68，对前端界面工程师这个职位是怎么样理解的？它的前景会怎么样？"><a href="#68，对前端界面工程师这个职位是怎么样理解的？它的前景会怎么样？" class="headerlink" title="68，对前端界面工程师这个职位是怎么样理解的？它的前景会怎么样？"></a>68，对前端界面工程师这个职位是怎么样理解的？它的前景会怎么样？</h3><p>前端是最贴近用户的程序员，比后端、数据库、产品经理、运营、安全都近。</p><p>1）实现界面交互</p><p>2）提升用户体验</p><p>3）有了Node.js，前端可以实现服务端的一些事情</p><p>前端是最贴近用户的程序员，前端的能力就是能让产品从 90分进化到 100 分，甚至更好，参与项目，快速高质量完成实现效果图，精确到1px；</p><p>与团队成员，UI设计，产品经理的沟通；做好的页面结构，页面重构和用户体验；处理hack，兼容、写出优美的代码格式；针对服务器的优化、拥抱最新前端技术。</p><h3 id="69，一个页面从输入-URL到页面加载显示完成，这个过程中都发生了什么？"><a href="#69，一个页面从输入-URL到页面加载显示完成，这个过程中都发生了什么？" class="headerlink" title="69，一个页面从输入 URL到页面加载显示完成，这个过程中都发生了什么？"></a>69，一个页面从输入 URL到页面加载显示完成，这个过程中都发生了什么？</h3><p>分为4个步骤：</p><p>（1），当发送一个URL请求时，不管这个URL是Web页面的URL还是Web页面上每个资源的URL，浏览器都会开启一个线程来处理这个请求，同时在远程DNS服务器上启动一个DNS查询。这能使浏览器获得请求对应的IP地址。</p><p>（2）， 浏览器与远程 Web 服务器通过 TCP 三次握手协商来建立一个 TCP/IP 连接。该握手包括一个同步报文，一个同步-应答报文和一个应答报文，这三个报文在浏览器和服务器之间传递。该握手首先由客户端尝试建立起通信，而后服务器应答并接受客户端的请求，最后由客户端发出该请求已经被接受的报文。</p><p>（3），一旦 TCP/IP 连接建立，浏览器会通过该连接向远程服务器发送 HTTP 的 GET 请求。远程服务器找到资源并使用HTTP响应返回该资源，值为200的HTTP响应状态表示一个正确的响应。</p><p>（4），此时， Web 服务器提供资源服务，客户端开始下载资源。请求返回后，便进入了我们关注的前端模块</p><p>简单来说，浏览器会解析 HTML 生成 <code>DOM</code> Tree ，其次会根据CSS生成CSS Rule Tree，而 javascript 又可以根据 <code>DOM</code> API 操作 <code>DOM</code></p><h3 id="70，javascript对象的几种创建方式"><a href="#70，javascript对象的几种创建方式" class="headerlink" title="70，javascript对象的几种创建方式"></a>70，javascript对象的几种创建方式</h3><p>1）工厂模式</p><p>2）构造函数模式</p><p>3）原型模式</p><p>4）混合构造函数和原型模式</p><p>5）动态原型模式</p><p>6）寄生构造函数模式</p><p>7）稳妥构造函数模式</p><h3 id="71，javascript继承的6种方法"><a href="#71，javascript继承的6种方法" class="headerlink" title="71，javascript继承的6种方法"></a>71，javascript继承的6种方法</h3><p>1）原型链继承</p><p>2）借用构造函数继承</p><p>3）组合继承(原型+借用构造) </p><p>4）原型式继承</p><p>5）寄生式继承</p><p>6）寄生组合式继承</p><h3 id="72，创建ajax的过程"><a href="#72，创建ajax的过程" class="headerlink" title="72，创建ajax的过程"></a>72，创建ajax的过程</h3><p>(1)创建 XMLHttpRequest 对象,也就是创建一个异步调用对象.</p><p>(2)创建一个新的 HTTP 请求,并指定该 HTTP 请求的方法、 URL 及验证信息. </p><p>(3)设置响应 HTTP 请求状态变化的函数.</p><p>(4)发送 HTTP 请求.</p><p>(5)获取异步调用返回的数据.</p><p>(6)使用JavaScript和<code>DOM</code>实现局部刷新.</p><p>var xmlHttp = new XMLHttpRequest(); xmlHttp.open(‘GET’,’demo.php’,’true’); xmlHttp.send() xmlHttp.onreadystatechange = function(){</p><p>if(xmlHttp.readyState === 4 &amp; xmlHttp.status=== 200){</p><p>}</p><p>}</p><h3 id="73，异步加载和延迟加载"><a href="#73，异步加载和延迟加载" class="headerlink" title="73，异步加载和延迟加载"></a>73，异步加载和延迟加载</h3><p>1）异步加载的方案： 动态插入script标签</p><p>2）通过ajax去获取js代码，然后通过<code>eval</code>执行</p><p>3）script标签上添加defer或者async属性</p><p>4）创建并插入iframe，让它异步执行js</p><p>5）延迟加载：有些 js 代码并不是页面初始化的时候就立刻需要的，而稍后的某些情况才需要的。</p><h3 id="74，ie各版本和chrome可以并行下载多少个资源"><a href="#74，ie各版本和chrome可以并行下载多少个资源" class="headerlink" title="74，ie各版本和chrome可以并行下载多少个资源"></a>74，ie各版本和chrome可以并行下载多少个资源</h3><p>IE6 两个并发，iE7升级之后的6个并发，之后版本也是6个Firefox，chrome也是6个</p><h3 id="75，Flash、Ajax各自的优缺点，在使用中如何取舍？"><a href="#75，Flash、Ajax各自的优缺点，在使用中如何取舍？" class="headerlink" title="75，Flash、Ajax各自的优缺点，在使用中如何取舍？"></a>75，Flash、Ajax各自的优缺点，在使用中如何取舍？</h3><p>Flash适合处理多媒体、矢量图形、访问机器；对CSS、处理文本上不足，不容易被搜索。Ajax对CSS、文本支持很好，支持搜索；多媒体、矢量图形、机器访问不足。</p><p>共同点：与服务器的无刷新传递消息、用户离线和在线状态、操作<code>DOM</code></p><h3 id="76，请解释一下-JavaScript的同源策略。"><a href="#76，请解释一下-JavaScript的同源策略。" class="headerlink" title="76，请解释一下 JavaScript的同源策略。"></a>76，请解释一下 JavaScript的同源策略。</h3><p>概念:同源策略是客户端脚本（尤其是Javascript）的重要的安全度量标准。它最早出自Netscape Navigator2.0，其目的是防止某个文档或脚本从多个不同源装载。</p><p>这里的同源策略指的是：协议，域名，端口相同，同源策略是一种安全协议。</p><p>指一段脚本只能读取来自同一来源的窗口和文档的属性。</p><h3 id="77，为什么要有同源限制？"><a href="#77，为什么要有同源限制？" class="headerlink" title="77，为什么要有同源限制？"></a>77，为什么要有同源限制？</h3><p>我们举例说明：比如一个黑客程序，他利用Iframe把真正的银行登录页面嵌到他的页面上，当你使用真实的用户名，密码登录时，他的页面就可以通过Javascript读取到你的表单中input中的内容，这样用户名，密码就轻松到手了。</p><p><strong>缺点</strong>：</p><p>现在网站的JS 都会进行压缩，一些文件用了严格模式，而另一些没有。这时这些本来是严格模式的文件，被 merge 后，这个串就到了文件的中间，不仅没有指示严格模式，反而在压缩后浪费了字节。</p><h3 id="78，GET和POST的区别，何时使用POST？"><a href="#78，GET和POST的区别，何时使用POST？" class="headerlink" title="78，GET和POST的区别，何时使用POST？"></a>78，GET和POST的区别，何时使用POST？</h3><p>GET：一般用于信息获取，使用URL传递参数，对所发送信息的数量也有限制，一般在2000个字符POST：一般用于修改服务器上的资源，对所发送的信息没有限制。</p><p>GET方式需要使用Request.QueryString来取得变量的值，而POST方式通过Request.Form来获取变量的值，</p><p>也就是说Get是通过地址栏来传值，而Post是通过提交表单来传值。然而，在以下情况中，请使用 POST 请求：</p><p>无法使用缓存文件（更新服务器上的文件或数据库）向服务器发送大量数据（POST 没有数据量限制）</p><p>发送包含未知字符的用户输入时，POST 比 GET 更稳定也更可靠</p><h3 id="79，事件、IE-与火狐的事件机制有什么区别？-如何阻止冒泡？"><a href="#79，事件、IE-与火狐的事件机制有什么区别？-如何阻止冒泡？" class="headerlink" title="79，事件、IE\与火狐的事件机制有什么区别？ 如何阻止冒泡？"></a>79，事件、IE\与火狐的事件机制有什么区别？ 如何阻止冒泡？</h3><p>1）我们在网页中的某个操作（有的操作对应多个事件）。例如：当我们点击一个按钮就会产生一个事件。是可以被 JavaScript 侦测到的行为。</p><p>2）事件处理机制：IE是事件冒泡、firefox同时支持两种事件模型，也就是：捕获型事件和冒泡型事件。；</p><p>3） ev.stopPropagation() ;注意旧ie的方法 ev.cancelBubble = true ;</p><h3 id="80，ajax的缺点和在IE下的问题？"><a href="#80，ajax的缺点和在IE下的问题？" class="headerlink" title="80，ajax的缺点和在IE下的问题？"></a>80，ajax的缺点和在IE下的问题？</h3><p><strong>ajax的缺点</strong></p><p>1）ajax不支持浏览器back按钮。</p><p>2）安全问题 AJAX暴露了与服务器交互的细节。</p><p>3）对搜索引擎的支持比较弱。</p><p>4）破坏了程序的异常机制。5）不容易调试。</p><p><strong>IE缓存问题</strong></p><p>在IE浏览器下，如果请求的方法是GET，并且请求的URL不变，那么这个请求的结果就会被缓存。解决这个问题的办法可以通过实时改变请求的URL，只要URL改变，就不会被缓存，可以通过在URL末尾添加上随机的时间戳参数(‘t’= + newDate().getTime())</p><p>或者：</p><p>open(‘GET’,’demo.php?rand=+Math.random()’,true);//</p><p>Ajax请求的页面历史记录状态问题</p><p>可以通过锚点来记录状态，location.hash。让浏览器记录Ajax请求时页面状态的变化。还可以通过HTML5的history.pushState，来实现浏览器地址栏的无刷新改变</p><h3 id="81，谈谈你对重构的理解"><a href="#81，谈谈你对重构的理解" class="headerlink" title="81，谈谈你对重构的理解"></a>81，谈谈你对重构的理解</h3><p><strong>网站重构</strong>：在不改变外部行为的前提下，简化结构、添加可读性，而在网站前端保持一致的行为。也就是说是在不改变UI的情况下，对网站进行优化，</p><p>在扩展的同时保持一致的UI。</p><p>对于传统的网站来说重构通常是：表格(table)布局改为DIV+CSS</p><p>使网站前端兼容于现代浏览器(针对于不合规范的CSS、如对IE6有效的)对于移动平台的优化</p><p>针对于SEO进行优化</p><p>深层次的网站重构应该考虑的方面减少代码间的耦合</p><p>让代码保持弹性</p><p>严格按规范编写代码设计可扩展的API</p><p>代替旧有的框架、语言(如VB)增强用户体验</p><p>通常来说对于速度的优化也包含在重构中</p><p>压缩JS、CSS、image等前端资源(通常是由服务器来解决)程序的性能优化(如数据读写)</p><p>采用<code>CDN</code>来加速资源加载对于JS <code>DOM</code>的优化HTTP服务器的文件缓存</p><h3 id="82，HTTP状态码"><a href="#82，HTTP状态码" class="headerlink" title="82，HTTP状态码"></a>82，HTTP状态码</h3><p>100 Continue 继续，一般在发送post请求时，已发送了http header之后服务端将返回此信息，表示确认，之后发送具体参数信息</p><p>200 OK 正常返回信息</p><p>201 Created 请求成功并且服务器创建了新的资源</p><p>202 Accepted 服务器已接受请求，但尚未处理</p><p>301 Moved Permanently 请求的网页已永久移动到新位置。</p><p>302 Found 临时性重定向。</p><p>303 SeeOther 临时性重定向，且总是使用 GET 请求新的 URI。</p><p>304 Not Modified 自从上次请求后，请求的网页未修改过。</p><p>400 BadRequest 服务器无法理解请求的格式，客户端不应当尝试再次使用相同的内容发起请求。</p><p>401 Unauthorized 请求未授权。403Forbidden 禁止访问。</p><p>404 NotFound 找不到如何与 URI 相匹配的资源。500 InternalServer Error 最常见的服务器端错误。</p><p>503 ServiceUnavailable 服务器端暂时无法处理请求（可能是过载或维护）。</p><h3 id="83，说说你对Promise的理解"><a href="#83，说说你对Promise的理解" class="headerlink" title="83，说说你对Promise的理解"></a>83，说说你对<code>Promise</code>的理解</h3><p>依照<code>Promise/A+</code>的定义，Promise 有四种状态：<code>pending</code>: 初始状态, 非<code>fulfilled </code>或 <code>rejected</code>. <code>fulfilled</code>: 成功的操作.</p><p>rejected: 失败的操作.</p><p>settled: Promise已被fulfilled或rejected，且不是pending</p><p>另外， fulfilled 与 rejected 一起合称 settled。</p><p>Promise 对象用来进行延迟(deferred) 和异步(asynchronous ) 计算。Promise 的构造函数</p><p>构造一个 Promise，最基本的用法如下：</p><p>var promise = new Promise(function(resolve, reject) { if (…) { // succeed</p><p>resolve(result);</p><p>} else { // fails reject(Error(errMessage));</p><p>}</p><p>});</p><p>Promise 实例拥有 then 方法（具有 then 方法的对象，通常被称为 thenable）。它的使用方法如下：</p><p>promise.then(onFulfilled, onRejected)</p><p>接收两个函数作为参数，一个在 fulfilled 的时候被调用，一个在 rejected 的时候被调用，接收参数就是future，onFulfilled对应 resolve, onRejected 对应 reject。</p><h3 id="84，说说你对前端架构师的理解"><a href="#84，说说你对前端架构师的理解" class="headerlink" title="84，说说你对前端架构师的理解"></a>84，说说你对前端架构师的理解</h3><p>负责前端团队的管理及与其他团队的协调工作，提升团队成员能力和整体效率；带领团队完成研发工具及平台前端部分的设计、研发和维护；</p><p>带领团队进行前端领域前沿技术研究及新技术调研，保证团队的技术领先</p><p>负责前端开发规范制定、功能模块化设计、公共组件搭建等工作，并组织培训。</p><p>实现一个函数clone，可以对JavaScript中的5种主要的数据类型（包括Number、String、Object、Array、Boolean）进行值复制</p><p>Object.prototype.clone = function(){</p><p>var o = this.constructor === Array ? [] : {}; for(var e inthis){</p><p>o[e] = typeofthis[e] === “object” ? this[e].clone() : this[e];</p><p>}</p><p>return o; }</p><h3 id="85，说说严格模式的限制"><a href="#85，说说严格模式的限制" class="headerlink" title="85，说说严格模式的限制"></a>85，说说严格模式的限制</h3><p>严格模式主要有以下限制：变量必须声明后再使用</p><p>函数的参数不能有同名属性，否则报错不能使用with语句</p><p>不能对只读属性赋值，否则报错</p><p>不能使用前缀0表示八进制数，否则报错不能删除不可删除的属性，否则报错</p><p>不能删除变量delete prop，会报错，只能删除属性delete global[prop]</p><p>eval不会在它的外层作用域引入变量eval和arguments不能被重新赋值arguments不会自动反映函数参数的变化不能使用arguments.callee</p><p>不能使用arguments.caller禁止this指向全局对象</p><p>不能使用fn.caller和fn.arguments获取函数调用的堆栈</p><p>增加了保留字（比如protected、static和interface）</p><p>设立”严格模式”的目的，主要有以下几个：</p><p>消除Javascript语法的一些不合理、不严谨之处，减少一些怪异行为;消除代码运行的一些不安全之处，保证代码运行的安全；</p><p>提高编译器效率，增加运行速度；</p><p>为未来新版本的Javascript做好铺垫。注：经过测试均不支持严格模式。</p><h3 id="86，如何删除一个cookie"><a href="#86，如何删除一个cookie" class="headerlink" title="86，如何删除一个cookie"></a>86，如何删除一个cookie</h3><p>1）将时间设为当前时间往前一点。var date = newDate();</p><p>date.setDate(date.getDate() - 1);//真正的删除setDate()方法用于设置一个月的某一天。</p><p>2）expires的设置</p><p>document.cookie= ‘user=’+ encodeURIComponent(‘name’) + ‘;expires = ‘ + newDate(0)</p><p><strong> ， <em> 和 <b> ， <i> 标签</i></b></em></strong></p><p><strong> 标签和 <em> 标签一样，用于强调文本，但它强调的程度更强一些。</em></strong></p><p>em 是 斜体强调标签，更强烈强调，表示内容的强调点。相当于html元素中的 <i>…</i> ;</p><p>&lt; b &gt; &lt; i &gt; 是视觉要素，分别表示无意义的加粗，无意义的斜体。em 和 strong 是表达要素(phraseelements)。</p><h3 id="87，说说你对AMD和CommonJS的理解"><a href="#87，说说你对AMD和CommonJS的理解" class="headerlink" title="87，说说你对AMD和CommonJS的理解"></a>87，说说你对<code>AMD</code>和<code>CommonJS</code>的理解</h3><p><code>CommonJS</code>是服务器端模块的规范，Node.js采用了这个规范。<code>CommonJS</code>规范加载模块是同步的，也就是说，只有加载完成，才能执行后面的操作。<code>AMD</code>规范则是非同步加载模块，允许指定回调函数。</p><p><code>AMD</code>推荐的风格通过返回一个对象做为模块对象，<code>CommonJS</code>的风格通过对module.exports或exports</p><p>的属性赋值来达到暴露模块对象的目的。</p><h3 id="88，document-write-的用法"><a href="#88，document-write-的用法" class="headerlink" title="88，document.write()的用法"></a>88，document.write()的用法</h3><p>document.write()方法可以用在两个方面：页面载入过程中用实时脚本创建页面内容，以及用延时脚本创建本窗口或新窗口的内容。</p><p>document.write只能重绘整个页面。innerHTML可以重绘页面的一部分编写一个方法求一个字符串的字节长度</p><p>假设：一个英文字符占用一个字节，一个中文字符占用两个字节</p><p>functionGetBytes(str){</p><p>var len = str.length; var bytes = len;</p><p>for(var i=0; i&lt;len; i++){</p><p>if (str.charCodeAt(i) &gt;255) bytes++; }</p><p>return bytes; }</p><p>alert(GetBytes(“你好,as”));</p><h3 id="89，git-fetch和git-pull的区别"><a href="#89，git-fetch和git-pull的区别" class="headerlink" title="89，git fetch和git pull的区别"></a>89，git fetch和git pull的区别</h3><p>git pull：相当于是从远程获取最新版本并merge到本地</p><p>git fetch：相当于是从远程获取最新版本到本地，不会自动merge</p><h3 id="90，说说你对MVC和MVVM的理解"><a href="#90，说说你对MVC和MVVM的理解" class="headerlink" title="90，说说你对MVC和MVVM的理解"></a>90，说说你对MVC和<code>MVVM</code>的理解</h3><p>MVC</p><p>View 传送指令到 Controller</p><p>Controller 完成业务逻辑后，要求 Model 改变状态Model 将新的数据发送到 View，用户得到反馈</p><p>所有通信都是单向的。</p><p>Angular它采用双向绑定（data-binding）：View的变动，自动反映在 ViewModel，反之亦然。组成部分Model、View、ViewModel</p><p>View：UI界面</p><p>ViewModel：它是View的抽象，负责View与Model之间信息转换，将View的Command传送到Model；</p><p>Model：数据访问层</p><h3 id="91，请解释什么是事件代理"><a href="#91，请解释什么是事件代理" class="headerlink" title="91，请解释什么是事件代理"></a>91，请解释什么是事件代理</h3><p>事件代理（Event Delegation），又称之为事件委托。是 JavaScript 中常用绑定事件的常用技巧。顾名思义，“事件代理”即是把原本需要绑定的事件委托给父元素，让父元素担当事件监听的职务。事件代理的原理是<code>DOM</code>元素的事件冒泡。使用事件代理的好处是可以提高性能。</p><h3 id="92，attribute和property的区别是什么？"><a href="#92，attribute和property的区别是什么？" class="headerlink" title="92，attribute和property的区别是什么？"></a>92，<code>attribute</code>和<code>property</code>的区别是什么？</h3><p><code>attribute</code>是<code>DOM</code>元素在文档中作为html标签拥有的属性；</p><p><code>property</code>就是<code>DOM</code>元素在js中作为对象拥有的属性。</p><p>所以：</p><p>对于html的标准属性来说，<code>attribute</code>和<code>property</code>是同步的，是会自动更新的，但是对于自定义的属性来说，他们是不同步的，</p><h3 id="93，说说网络分层里七层模型是哪七层"><a href="#93，说说网络分层里七层模型是哪七层" class="headerlink" title="93，说说网络分层里七层模型是哪七层"></a>93，说说网络分层里七层模型是哪七层</h3><p>应用层：应用层、表示层、会话层（从上往下）（HTTP、FTP、SMTP、DNS）传输层（TCP和UDP）</p><p>网络层（IP）</p><p>物理和数据链路层（以太网）</p><p>每一层的作用如下：</p><p>物理层：通过媒介传输比特,确定机械及电气规范（比特Bit）数据链路层：将比特组装成帧和点到点的传递（帧Frame）</p><p>网络层：负责数据包从源到宿的传递和网际互连（包PackeT）传输层：提供端到端的可靠报文传递和错误恢复（段Segment）会话层：建立、管理和终止会话（会话协议数据单元SPDU）</p><p>表示层：对数据进行翻译、加密和压缩（表示协议数据单元PPDU）应用层：允许访问OSI环境的手段（应用协议数据单元APDU）</p><p>各种协议</p><p>ICMP协议： 因特网控制报文协议。它是TCP/IP协议族的一个子协议，用于在IP主机、路由器之间传递控制消息。</p><p>TFTP协议： 是TCP/IP协议族中的一个用来在客户机与服务器之间进行简单文件传输的协议，提供不复杂、开销不大的文件传输服务。</p><p>HTTP协议： 超文本传输协议，是一个属于应用层的面向对象的协议，由于其简捷、快速的方式，适用于分布式超媒体信息系统。</p><p>DHCP协议： 动态主机配置协议，是一种让系统得以连接到网络上，并获取所需要的配置参数手段。</p><h3 id="94，说说mongoDB和MySQL的区别"><a href="#94，说说mongoDB和MySQL的区别" class="headerlink" title="94，说说mongoDB和MySQL的区别"></a>94，说说mongoDB和MySQL的区别</h3><p>MySQL是传统的关系型数据库，MongoDB则是非关系型数据库</p><p>mongodb以<code>BSON</code>结构（二进制）进行存储，对海量数据存储有着很明显的优势。</p><p>对比传统关系型数据库,NoSQL有着非常显著的性能和扩展性优势，与关系型数据库相比，MongoDB的优点有：</p><p>①弱一致性（最终一致），更能保证用户的访问速度：②文档结构的存储方式，能够更便捷的获取数据。</p><h3 id="95，讲讲304缓存的原理"><a href="#95，讲讲304缓存的原理" class="headerlink" title="95，讲讲304缓存的原理"></a>95，讲讲304缓存的原理</h3><p>服务器首先产生<code>Etag</code>，服务器可在稍后使用它来判断页面是否已经被修改。本质上，客户端通过将该记号传回服务器要求服务器验证其（客户端）缓存。</p><p>304是HTTP状态码，服务器用来标识这个文件没修改，不返回内容，浏览器在接收到个状态码后，会使用浏览器已缓存的文件</p><p>客户端请求一个页面（A）。 服务器返回页面A，并在给A加上一个<code>Etag</code>。 客户端展现该页面，并将页</p><p>面连同<code>Etag</code>一起缓存。 客户再次请求页面A，并将上次请求时服务器返回的<code>Etag</code>一起传递给服务器。 服务器检查该<code>Etag</code>，并判断出该页面自上次客户端请求之后还未被修改，直接返回响应304（未修改—— Not Modified）和一个空的响应体。</p><h3 id="96，什么样的前端代码是好的"><a href="#96，什么样的前端代码是好的" class="headerlink" title="96，什么样的前端代码是好的"></a>96，什么样的前端代码是好的</h3><p>高复用低耦合，这样文件小，好维护，而且好扩展。</p>]]></content>
      
      
      <categories>
          
          <category> 前端 </category>
          
          <category> 面试 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 前端 </tag>
            
            <tag> 学习笔记 </tag>
            
            <tag> js </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>古怪学习笔记</title>
      <link href="ckriv5z5x0000ikwfcgsm3o81/"/>
      <url>ckriv5z5x0000ikwfcgsm3o81/</url>
      
        <content type="html"><![CDATA[<blockquote><p>古怪学习笔记，亲测可用，对于项目开发，提示任务进度，可以提高代码的复用率，笔记中都有比较详细的注释。</p></blockquote><a id="more"></a><h3 id="数据展示"><a href="#数据展示" class="headerlink" title="数据展示"></a>数据展示</h3><h4 id="数据表格展示"><a href="#数据表格展示" class="headerlink" title="数据表格展示"></a>数据表格展示</h4><h5 id="tp中"><a href="#tp中" class="headerlink" title="tp中"></a>tp中</h5><blockquote><p>h5</p></blockquote><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>&#123;$Think.config.title&#125;<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;viewport&quot;</span> <span class="attr">content</span>=<span class="string">&quot;width=device-width,user-scalable=0,initial-scale=1&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;format-detection&quot;</span> <span class="attr">content</span>=<span class="string">&quot;telephone=yes&quot;</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;text/javascript&quot;</span>&gt;</span></span><br><span class="line"><span class="javascript">        <span class="built_in">document</span>.getElementsByTagName(<span class="string">&#x27;html&#x27;</span>)[<span class="number">0</span>].style.fontSize = (<span class="built_in">document</span>.documentElement.getBoundingClientRect().width ||</span></span><br><span class="line"><span class="javascript">            <span class="built_in">window</span>.screen.width) / <span class="number">20</span> + <span class="string">&#x27;px&#x27;</span></span></span><br><span class="line"><span class="javascript">        <span class="built_in">window</span>.onresize = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">            <span class="built_in">document</span>.getElementsByTagName(<span class="string">&#x27;html&#x27;</span>)[<span class="number">0</span>].style.fontSize = (<span class="built_in">document</span>.documentElement.getBoundingClientRect().width ||</span></span><br><span class="line"><span class="javascript">                <span class="built_in">window</span>.screen.width) / <span class="number">20</span> + <span class="string">&#x27;px&#x27;</span></span></span><br><span class="line">        &#125;</span><br><span class="line">    <span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;utf-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">&quot;stylesheet&quot;</span> <span class="attr">type</span>=<span class="string">&quot;text/css&quot;</span> <span class="attr">href</span>=<span class="string">&quot;https://www.layuicdn.com/layui-v2.5.6/css/layui.css&quot;</span>/&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span> <span class="attr">class</span>=<span class="string">&quot;container&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">table</span> <span class="attr">class</span>=<span class="string">&quot;layui-table&quot;</span> <span class="attr">id</span>=<span class="string">&quot;list&quot;</span> <span class="attr">lay-filter</span>=<span class="string">&quot;list&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">table</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;text/javascript&quot;</span> <span class="attr">src</span>=<span class="string">&quot;__static__/js/jQuery.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;https://cdn.bootcdn.net/ajax/libs/layui/2.6.8/layui.min.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">    layui.use([<span class="string">&#x27;table&#x27;</span>], <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">        <span class="keyword">var</span> $ = layui.jquery,</span></span><br><span class="line">            table = layui.table;</span><br><span class="line">        tableIn = table.render(&#123;</span><br><span class="line"><span class="javascript">            elem: <span class="string">&#x27;#list&#x27;</span>,</span></span><br><span class="line"><span class="javascript">            url: <span class="string">&#x27;&#123;:url(&quot;show&quot;)&#125;&#x27;</span>,</span></span><br><span class="line"><span class="javascript">            method: <span class="string">&#x27;post&#x27;</span>,</span></span><br><span class="line"><span class="javascript">            title: <span class="string">&#x27;数据表&#x27;</span>,</span></span><br><span class="line"><span class="javascript">            toolbar: <span class="string">&#x27;#toolbar&#x27;</span>, <span class="comment">//开启头部工具栏，并为其绑定左侧模板</span></span></span><br><span class="line"><span class="javascript">            <span class="comment">// defaultToolbar: [&#x27;filter&#x27;, &#x27;exports&#x27;, &#x27;print&#x27;, &#123; //自定义头部工具栏右侧图标。如无需自定义，去除该参数即可</span></span></span><br><span class="line"><span class="javascript">            <span class="comment">//     title: &#x27;提示&#x27;</span></span></span><br><span class="line"><span class="javascript">            <span class="comment">//     ,layEvent: &#x27;LAYTABLE_TIPS&#x27;</span></span></span><br><span class="line"><span class="javascript">            <span class="comment">//     ,icon: &#x27;layui-icon-tips&#x27; &#125;],</span></span></span><br><span class="line"><span class="javascript">            defaultToolbar: <span class="literal">false</span>,</span></span><br><span class="line">            cols: [[</span><br><span class="line"><span class="javascript">                <span class="comment">// &#123;checkbox: true, fixed: true&#125;,</span></span></span><br><span class="line"><span class="javascript">                &#123;<span class="attr">field</span>: <span class="string">&#x27;id&#x27;</span>, <span class="attr">title</span>: <span class="string">&#x27;ID&#x27;</span>, <span class="attr">width</span>: <span class="number">80</span>, <span class="attr">type</span>: <span class="string">&#x27;numbers&#x27;</span>, <span class="attr">fixed</span>: <span class="literal">true</span>, <span class="attr">sort</span>: <span class="literal">true</span>&#125;,</span></span><br><span class="line"><span class="javascript">                &#123;<span class="attr">field</span>: <span class="string">&#x27;username&#x27;</span>, <span class="attr">title</span>: <span class="string">&#x27;名字&#x27;</span>, <span class="attr">width</span>: <span class="number">150</span>,&#125;,</span></span><br><span class="line"><span class="javascript">                &#123;<span class="attr">field</span>: <span class="string">&#x27;wxname&#x27;</span>, <span class="attr">title</span>: <span class="string">&#x27;微信名&#x27;</span>, <span class="attr">width</span>: <span class="number">150</span>,&#125;,</span></span><br><span class="line"><span class="javascript">                &#123;<span class="attr">field</span>: <span class="string">&#x27;tel&#x27;</span>, <span class="attr">title</span>: <span class="string">&#x27;电话&#x27;</span>, <span class="attr">width</span>: <span class="number">150</span>,&#125;,</span></span><br><span class="line"><span class="javascript">                &#123;<span class="attr">field</span>: <span class="string">&#x27;score&#x27;</span>, <span class="attr">title</span>: <span class="string">&#x27;雪球&#x27;</span>, <span class="attr">width</span>: <span class="number">150</span>,&#125;,</span></span><br><span class="line"><span class="javascript">                <span class="comment">// &#123;field: &#x27;create_time&#x27;, title: &#x27;创建时间&#x27;, width: 180,templet:&#x27;#create_time&#x27;&#125;,</span></span></span><br><span class="line">            ]],</span><br><span class="line">            limits: [5, 10, 15, 20, 25, 50, 100],</span><br><span class="line">            limit: 15,</span><br><span class="line"><span class="javascript">            page: <span class="literal">true</span></span></span><br><span class="line">        &#125;);</span><br><span class="line">    &#125;)</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><blockquote><p>php</p></blockquote><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 展示数据表</span></span><br><span class="line"><span class="comment"> * 作者：糜家智</span></span><br><span class="line"><span class="comment"> * 时间：2021/7/13 10:20</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">show</span>(<span class="params">Request $request</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">if</span> ($request-&gt;isPost()) &#123;</span><br><span class="line">        $keys = <span class="keyword">$this</span>-&gt;request-&gt;post(<span class="string">&#x27;keys&#x27;</span>, <span class="string">&#x27;&#x27;</span>, <span class="string">&#x27;trim&#x27;</span>);</span><br><span class="line"></span><br><span class="line">        $where = [];</span><br><span class="line">        <span class="keyword">if</span> ($keys != <span class="string">&#x27;&#x27;</span>) &#123;</span><br><span class="line">            $where[] = [<span class="string">&#x27;title&#x27;</span>, <span class="string">&#x27;like&#x27;</span>, <span class="string">&#x27;%&#x27;</span> . $keys . <span class="string">&#x27;%&#x27;</span>];</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        $page = <span class="keyword">$this</span>-&gt;request-&gt;post(<span class="string">&#x27;page&#x27;</span>);</span><br><span class="line">        $limit = <span class="keyword">$this</span>-&gt;request-&gt;post(<span class="string">&#x27;limit&#x27;</span>);</span><br><span class="line">        $tol = ($page - <span class="number">1</span>) * $limit;</span><br><span class="line"></span><br><span class="line">        $banner = model(<span class="string">&#x27;user&#x27;</span>)-&gt;where($where)-&gt;limit($tol, $limit)</span><br><span class="line">            -&gt;order(<span class="string">&#x27;score desc&#x27;</span>)</span><br><span class="line">            -&gt;select();</span><br><span class="line">        $count = model(<span class="string">&#x27;user&#x27;</span>)-&gt;where($where)-&gt;count();</span><br><span class="line">        <span class="keyword">if</span> (!$banner) <span class="built_in">error</span>();</span><br><span class="line">        success($banner, $count);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> view();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h5 id="原生php"><a href="#原生php" class="headerlink" title="原生php"></a>原生php</h5><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>报名名单<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;viewport&quot;</span> <span class="attr">content</span>=<span class="string">&quot;width=device-width,user-scalable=0,initial-scale=1&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;format-detection&quot;</span> <span class="attr">content</span>=<span class="string">&quot;telephone=yes&quot;</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;utf-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">&quot;stylesheet&quot;</span> <span class="attr">type</span>=<span class="string">&quot;text/css&quot;</span> <span class="attr">href</span>=<span class="string">&quot;https://www.layuicdn.com/layui-v2.5.6/css/layui.css&quot;</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="css">        <span class="selector-class">.layui-laypage-skip</span>&#123;<span class="attribute">display</span>: block <span class="meta">!important</span>;&#125;</span></span><br><span class="line"><span class="css">        <span class="selector-class">.layui-table-page</span>&#123;<span class="attribute">height</span>: <span class="number">118px</span> <span class="meta">!important</span>;<span class="attribute">text-align</span>: center <span class="meta">!important</span>;&#125;</span></span><br><span class="line"><span class="css">        <span class="selector-id">#list</span>&#123;<span class="attribute">margin-top</span>: -<span class="number">18px</span>;&#125;</span></span><br><span class="line"><span class="css">        <span class="selector-class">.title</span>&#123;<span class="attribute">position</span>: absolute;<span class="attribute">width</span>: <span class="number">100%</span>;<span class="attribute">top</span>: <span class="number">4vw</span>;<span class="attribute">z-index</span>: <span class="number">999</span>;<span class="attribute">text-align</span>: center&#125;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span> <span class="attr">class</span>=<span class="string">&quot;container&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">p</span> <span class="attr">class</span>=<span class="string">&quot;title&quot;</span>&gt;</span>报名名单<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">table</span> <span class="attr">class</span>=<span class="string">&quot;layui-table&quot;</span> <span class="attr">id</span>=<span class="string">&quot;list&quot;</span> <span class="attr">lay-filter</span>=<span class="string">&quot;list&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">table</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;text/javascript&quot;</span> <span class="attr">src</span>=<span class="string">&quot;./js/jQuery.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;https://cdn.bootcdn.net/ajax/libs/layui/2.6.8/layui.min.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">    layui.use([<span class="string">&#x27;table&#x27;</span>], <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">        <span class="keyword">var</span> $ = layui.jquery,</span></span><br><span class="line">            table = layui.table;</span><br><span class="line">        tableIn = table.render(&#123;</span><br><span class="line"><span class="javascript">            elem: <span class="string">&#x27;#list&#x27;</span>,</span></span><br><span class="line"><span class="javascript">            url: <span class="string">&#x27;select.php&#x27;</span>,</span></span><br><span class="line"><span class="javascript">            method: <span class="string">&#x27;post&#x27;</span>,</span></span><br><span class="line"><span class="javascript">            title: <span class="string">&#x27;数据表&#x27;</span>,</span></span><br><span class="line"><span class="javascript">            toolbar: <span class="string">&#x27;#toolbar&#x27;</span>, <span class="comment">//开启头部工具栏，并为其绑定左侧模板</span></span></span><br><span class="line"><span class="javascript">            defaultToolbar: <span class="literal">false</span>,</span></span><br><span class="line">            cols: [[</span><br><span class="line"><span class="javascript">                &#123;<span class="attr">field</span>: <span class="string">&#x27;0&#x27;</span>, <span class="attr">title</span>: <span class="string">&#x27;ID&#x27;</span>, <span class="attr">type</span>: <span class="string">&#x27;numbers&#x27;</span>, <span class="attr">fixed</span>: <span class="literal">true</span>&#125;,</span></span><br><span class="line"><span class="javascript">                &#123;<span class="attr">field</span>: <span class="string">&#x27;2&#x27;</span>, <span class="attr">title</span>: <span class="string">&#x27;微信名&#x27;</span>, <span class="attr">width</span>: <span class="number">100</span>,&#125;,</span></span><br><span class="line"><span class="javascript">                &#123;<span class="attr">field</span>: <span class="string">&#x27;3&#x27;</span>, <span class="attr">title</span>: <span class="string">&#x27;名字&#x27;</span>, <span class="attr">width</span>: <span class="number">100</span>,&#125;,</span></span><br><span class="line"><span class="javascript">                &#123;<span class="attr">field</span>: <span class="string">&#x27;4&#x27;</span>, <span class="attr">title</span>: <span class="string">&#x27;电话&#x27;</span>, <span class="attr">width</span>: <span class="number">120</span>,&#125;,</span></span><br><span class="line"><span class="javascript">                &#123;<span class="attr">field</span>: <span class="string">&#x27;5&#x27;</span>, <span class="attr">title</span>: <span class="string">&#x27;地址&#x27;</span>, <span class="attr">width</span>: <span class="number">150</span>,&#125;,</span></span><br><span class="line"><span class="javascript">                &#123;<span class="attr">field</span>: <span class="string">&#x27;7&#x27;</span>, <span class="attr">title</span>: <span class="string">&#x27;身份证号&#x27;</span>, <span class="attr">width</span>: <span class="number">100</span>,&#125;,</span></span><br><span class="line">            ]],</span><br><span class="line">            limits: [5, 10, 15, 20, 25, 50, 100],</span><br><span class="line">            limit: 10,</span><br><span class="line"><span class="javascript">            page: <span class="literal">true</span></span></span><br><span class="line">        &#125;);</span><br><span class="line">    &#125;)</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><blockquote><p>查询数据的select.php</p></blockquote><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line">header(<span class="string">&#x27;Content-type:text/json&#x27;</span>);</span><br><span class="line"><span class="keyword">require_once</span>(<span class="string">&#x27;php/mysql.class.php&#x27;</span>);</span><br><span class="line">$db = <span class="keyword">new</span> Mysql(</span><br><span class="line">    <span class="keyword">array</span>(<span class="string">&#x27;dbhost&#x27;</span> =&gt; <span class="string">&#x27;124.71.68.151&#x27;</span>,</span><br><span class="line">        <span class="string">&#x27;dbuser&#x27;</span> =&gt; <span class="string">&#x27;guguan&#x27;</span>,<span class="comment">//用户名</span></span><br><span class="line">        <span class="string">&#x27;dbpsw&#x27;</span> =&gt; <span class="string">&#x27;guguan2021.&#x27;</span>,<span class="comment">//数据库密码</span></span><br><span class="line">        <span class="string">&#x27;dbname&#x27;</span> =&gt; <span class="string">&#x27;guguan&#x27;</span>,<span class="comment">//数据库名字</span></span><br><span class="line">        <span class="string">&#x27;dbcharset&#x27;</span> =&gt; <span class="string">&#x27;utf8mb4&#x27;</span><span class="comment">//字符集</span></span><br><span class="line">    )</span><br><span class="line">);</span><br><span class="line">$table = <span class="string">&#x27;ty_20210709_user&#x27;</span>;</span><br><span class="line">$page = $_POST[<span class="string">&#x27;page&#x27;</span>];</span><br><span class="line">$limit = $_POST[<span class="string">&#x27;limit&#x27;</span>];</span><br><span class="line">$tol = ($page - <span class="number">1</span>) * $limit;</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> ($_SERVER[<span class="string">&#x27;REQUEST_METHOD&#x27;</span>] == <span class="string">&#x27;POST&#x27;</span>) &#123;</span><br><span class="line">    $find = $db-&gt;findAll(<span class="string">&quot;select * from <span class="subst">$table</span> limit <span class="subst">$tol</span>,<span class="subst">$limit</span>&quot;</span>);</span><br><span class="line">    $count = $db-&gt;findOne(<span class="string">&#x27;select count(id) from &#x27;</span>.$table);</span><br><span class="line">    <span class="keyword">echo</span> json_encode([<span class="string">&quot;code&quot;</span> =&gt; <span class="number">0</span>, <span class="string">&quot;data&quot;</span> =&gt; $find, <span class="string">&quot;count&quot;</span> =&gt; $count[<span class="number">0</span>]]);</span><br><span class="line">    <span class="keyword">exit</span>();</span><br><span class="line">&#125;</span><br><span class="line"><span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure><h4 id="排行榜展示"><a href="#排行榜展示" class="headerlink" title="排行榜展示"></a>排行榜展示</h4><blockquote><p>简单模拟，效果没问题</p></blockquote><p>引入js：<code>&lt;script src=&quot;https://cdn.bootcdn.net/ajax/libs/iScroll/5.2.0/iscroll-infinite.min.js&quot; defer&gt;&lt;/script&gt;</code></p><h5 id="ajax初次加载"><a href="#ajax初次加载" class="headerlink" title="ajax初次加载"></a>ajax初次加载</h5><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">scrollData = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">   <span class="keyword">var</span> myScroll = <span class="keyword">new</span> IScroll(<span class="string">&quot;#wrapper&quot;</span>, &#123;</span><br><span class="line">      scrollbars: <span class="literal">false</span>,<span class="comment">//有滚动条</span></span><br><span class="line">      mouseWheel: <span class="literal">false</span>,<span class="comment">//允许滑轮滚动</span></span><br><span class="line">      interactiveScrollbars: <span class="literal">true</span>,<span class="comment">//滚动条可以拖动</span></span><br><span class="line">      scrollY: <span class="literal">true</span>,<span class="comment">//纵向滚动条可以使用</span></span><br><span class="line">      freeScroll: <span class="literal">true</span>,<span class="comment">//既有上下又有左右（自由滚动）</span></span><br><span class="line">      probeType: <span class="number">1</span>,<span class="comment">//对性能没有影响。在滚动事件被触发时，滚动轴是不是忙着做它的东西。</span></span><br><span class="line">   &#125;);</span><br><span class="line"></span><br><span class="line">   <span class="comment">//开始滚动时触发的事件</span></span><br><span class="line">   myScroll.on(<span class="string">&quot;scrollStart&quot;</span>, <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">      rankData()</span><br><span class="line">   &#125;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br></pre></td><td class="code"><pre><span class="line">rankData = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">   loading = weui.loading(<span class="string">&#x27;loading...&#x27;</span>);</span><br><span class="line"></span><br><span class="line">   $.ajax(&#123;</span><br><span class="line">      type: <span class="string">&quot;POST&quot;</span>,</span><br><span class="line">      url: actionRoot + <span class="string">&#x27;get_rank&#x27;</span>,</span><br><span class="line">      dataType: <span class="string">&#x27;json&#x27;</span>,</span><br><span class="line">      data: &#123;</span><br><span class="line">         page: page</span><br><span class="line">      &#125;,</span><br><span class="line">      <span class="comment">//请求成功</span></span><br><span class="line">      success: <span class="function"><span class="keyword">function</span> (<span class="params">res</span>) </span>&#123;</span><br><span class="line"></span><br><span class="line">         <span class="keyword">if</span> (res.code == <span class="number">1</span>) &#123;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">var</span> data = res.data;</span><br><span class="line">            <span class="keyword">var</span> limit = (page - <span class="number">1</span>) * <span class="number">10</span>;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; data.length; i++) &#123;</span><br><span class="line">               <span class="keyword">var</span> value = i + limit + <span class="number">1</span>;</span><br><span class="line">               <span class="keyword">var</span> num = value;</span><br><span class="line">                </span><br><span class="line">               <span class="keyword">if</span> (value === <span class="number">1</span>)&#123;</span><br><span class="line">                  num = <span class="string">&#x27;&lt;img class=&quot;rank-img&quot; src=&quot;&#x27;</span>+sources_root+<span class="string">&#x27;img/rank1.png&quot;&gt;&#x27;</span>;</span><br><span class="line">               &#125;</span><br><span class="line"></span><br><span class="line">               <span class="keyword">if</span> (value === <span class="number">2</span>)&#123;</span><br><span class="line">                  num = <span class="string">&#x27;&lt;img class=&quot;rank-img&quot; src=&quot;&#x27;</span>+sources_root+<span class="string">&#x27;img/rank2.png&quot;&gt;&#x27;</span>;</span><br><span class="line">               &#125;</span><br><span class="line"></span><br><span class="line">               <span class="keyword">if</span> (value === <span class="number">3</span>)&#123;</span><br><span class="line">                  num = <span class="string">&#x27;&lt;img class=&quot;rank-img&quot; src=&quot;&#x27;</span>+sources_root+<span class="string">&#x27;img/rank3.png&quot;&gt;&#x27;</span>;</span><br><span class="line">               &#125;</span><br><span class="line"></span><br><span class="line">               $(<span class="string">`&lt;div class=&quot;rank-c&quot;&gt;</span></span><br><span class="line"><span class="string">                       &lt;div class=&quot;rank-one&quot;&gt;<span class="subst">$&#123;num&#125;</span>&lt;/div&gt;</span></span><br><span class="line"><span class="string">                       &lt;div&gt;&lt;img class=&quot;rank-head&quot; src=&quot;<span class="subst">$&#123;data[i].wxhead&#125;</span>&quot;&gt;&lt;/div&gt;</span></span><br><span class="line"><span class="string">                       &lt;div class=&quot;wx-name&quot;&gt;<span class="subst">$&#123;data[i].wxname&#125;</span>&lt;/div&gt;</span></span><br><span class="line"><span class="string">                       &lt;div class=&quot;grade&quot;&gt;<span class="subst">$&#123;data[i].score&#125;</span>&lt;/div&gt;</span></span><br><span class="line"><span class="string">                   &lt;/div&gt;`</span>).appendTo($(<span class="string">&quot;#wrapper&quot;</span>))</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            loading.hide();</span><br><span class="line">            $(<span class="string">&quot;.ranking&quot;</span>).show()</span><br><span class="line">            page++;</span><br><span class="line">         &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            mui.toast(res.msg, &#123;<span class="attr">duration</span>: <span class="string">&#x27;1000&#x27;</span>, <span class="attr">type</span>: <span class="string">&#x27;div&#x27;</span>&#125;)</span><br><span class="line">         &#125;</span><br><span class="line">      &#125;,</span><br><span class="line"></span><br><span class="line">      <span class="comment">//请求失败，包含具体的错误信息</span></span><br><span class="line">      error: <span class="function"><span class="keyword">function</span> (<span class="params">e</span>) </span>&#123;</span><br><span class="line">         <span class="built_in">console</span>.log(e);</span><br><span class="line">      &#125;</span><br><span class="line">   &#125;);</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">$(<span class="string">&quot;.pageh0-4-2&quot;</span>).click(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">   rankData()</span><br><span class="line">   <span class="built_in">setTimeout</span>(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">      scrollData()</span><br><span class="line">   &#125;, <span class="number">1000</span>)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><h5 id="ajax二次加载"><a href="#ajax二次加载" class="headerlink" title="ajax二次加载"></a>ajax二次加载</h5><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> myScroll = <span class="keyword">new</span> IScroll(<span class="string">&quot;#wrapper&quot;</span>, &#123;</span><br><span class="line">   scrollbars: <span class="literal">false</span>,<span class="comment">//有滚动条</span></span><br><span class="line">   mouseWheel: <span class="literal">false</span>,<span class="comment">//允许滑轮滚动</span></span><br><span class="line">   interactiveScrollbars: <span class="literal">true</span>,<span class="comment">//滚动条可以拖动</span></span><br><span class="line">   scrollY: <span class="literal">true</span>,<span class="comment">//纵向滚动条可以使用</span></span><br><span class="line">   freeScroll: <span class="literal">true</span>,<span class="comment">//既有上下又有左右（自由滚动）</span></span><br><span class="line">   probeType: <span class="number">1</span>,<span class="comment">//对性能没有影响。在滚动事件被触发时，滚动轴是不是忙着做它的东西。</span></span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> page = <span class="number">2</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">//开始滚动时触发的事件</span></span><br><span class="line">myScroll.on(<span class="string">&quot;scrollStart&quot;</span>, <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">   loading = weui.loading(<span class="string">&#x27;loading...&#x27;</span>);</span><br><span class="line"></span><br><span class="line">   $.ajax(&#123;</span><br><span class="line">       type: <span class="string">&quot;POST&quot;</span>,</span><br><span class="line">       url: actionRoot + <span class="string">&#x27;get_rank&#x27;</span>,</span><br><span class="line">       dataType: <span class="string">&#x27;json&#x27;</span>,</span><br><span class="line">       data: &#123;</span><br><span class="line">           page: page</span><br><span class="line">       &#125;,</span><br><span class="line">       <span class="comment">//请求成功</span></span><br><span class="line">       success: <span class="function"><span class="keyword">function</span> (<span class="params">res</span>) </span>&#123;</span><br><span class="line"></span><br><span class="line">           <span class="keyword">if</span> (res.code == <span class="number">1</span>) &#123;</span><br><span class="line">               <span class="keyword">var</span> data = res.data;</span><br><span class="line">               <span class="keyword">var</span> limit = (page - <span class="number">1</span>) * <span class="number">10</span>;</span><br><span class="line"></span><br><span class="line">               <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; data.length; i++) &#123;</span><br><span class="line">                   $(<span class="string">`&lt;div class=&quot;rank-c&quot;&gt;</span></span><br><span class="line"><span class="string">                       &lt;div class=&quot;rank-one&quot;&gt;<span class="subst">$&#123;i + limit + <span class="number">1</span>&#125;</span>&lt;/div&gt;</span></span><br><span class="line"><span class="string">                       &lt;div&gt;&lt;img class=&quot;rank-head&quot; src=&quot;<span class="subst">$&#123;data[i].wxhead&#125;</span>&quot;&gt;&lt;/div&gt;</span></span><br><span class="line"><span class="string">                       &lt;div class=&quot;wx-name&quot;&gt;<span class="subst">$&#123;data[i].wxname&#125;</span>&lt;/div&gt;</span></span><br><span class="line"><span class="string">                       &lt;div&gt;<span class="subst">$&#123;data[i].score&#125;</span>&lt;/div&gt;</span></span><br><span class="line"><span class="string">                   &lt;/div&gt;`</span>).appendTo($(<span class="string">&quot;#wrapper&quot;</span>))</span><br><span class="line">               &#125;</span><br><span class="line"></span><br><span class="line">               loading.hide();</span><br><span class="line">               page++;</span><br><span class="line">           &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">               mui.toast(res.msg, &#123;<span class="attr">duration</span>: <span class="string">&#x27;1000&#x27;</span>, <span class="attr">type</span>: <span class="string">&#x27;div&#x27;</span>&#125;)</span><br><span class="line">           &#125;</span><br><span class="line">       &#125;,</span><br><span class="line"></span><br><span class="line">       <span class="comment">//请求失败，包含具体的错误信息</span></span><br><span class="line">       error: <span class="function"><span class="keyword">function</span> (<span class="params">e</span>) </span>&#123;</span><br><span class="line">           <span class="built_in">console</span>.log(e);</span><br><span class="line">       &#125;</span><br><span class="line">   &#125;);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><h5 id="页面和样式"><a href="#页面和样式" class="headerlink" title="页面和样式"></a>页面和样式</h5><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;ranking&quot;</span> <span class="attr">style</span>=<span class="string">&quot;display: none&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;close&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">img</span> <span class="attr">data-src</span>=<span class="string">&quot;__static__/img/rank.png&quot;</span> <span class="attr">class</span>=<span class="string">&quot;rankimg&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;rank-table&quot;</span> <span class="attr">id</span>=<span class="string">&quot;wrapper&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line">        &#123;volist name=&quot;rank&quot; id=&quot;vo&quot; key=&quot;k&quot;&#125;</span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;rank-c&quot;</span>&gt;</span></span><br><span class="line">            &#123;if condition=&quot;$k eq 1&quot;&#125;</span><br><span class="line">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;rank-one&quot;</span>&gt;</span><span class="tag">&lt;<span class="name">img</span> <span class="attr">class</span>=<span class="string">&quot;rank-img&quot;</span> <span class="attr">data-src</span>=<span class="string">&quot;__static__/img/rank1.png&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">            &#123;elseif condition=&quot;$k eq 2&quot;&#125;</span><br><span class="line">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;rank-one&quot;</span>&gt;</span><span class="tag">&lt;<span class="name">img</span> <span class="attr">class</span>=<span class="string">&quot;rank-img&quot;</span> <span class="attr">data-src</span>=<span class="string">&quot;__static__/img/rank2.png&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">            &#123;elseif condition=&quot;$k eq 3&quot;&#125;</span><br><span class="line">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;rank-one&quot;</span>&gt;</span><span class="tag">&lt;<span class="name">img</span> <span class="attr">class</span>=<span class="string">&quot;rank-img&quot;</span> <span class="attr">data-src</span>=<span class="string">&quot;__static__/img/rank3.png&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">            &#123;else/&#125;</span><br><span class="line">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;rank-one&quot;</span>&gt;</span>&#123;$k&#125;<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">            &#123;/if&#125;</span><br><span class="line">            <span class="tag">&lt;<span class="name">div</span>&gt;</span><span class="tag">&lt;<span class="name">img</span> <span class="attr">class</span>=<span class="string">&quot;rank-head&quot;</span> <span class="attr">data-src</span>=<span class="string">&quot;&#123;$vo.wxhead&#125;&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;wx-name&quot;</span>&gt;</span>&#123;$vo.wxname&#125;<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">div</span>&gt;</span>&#123;$vo.score&#125;<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        &#123;/volist&#125;</span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.ranking</span>&#123;<span class="attribute">position</span>: absolute;<span class="attribute">width</span>: <span class="number">100%</span>;<span class="attribute">height</span>: <span class="number">100%</span>;<span class="attribute">background-color</span>: <span class="built_in">rgba</span>(<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0.7</span>);&#125;</span><br><span class="line"><span class="selector-class">.rankimg</span>&#123;<span class="attribute">width</span>: <span class="number">80vw</span>;<span class="attribute">position</span>: absolute;<span class="attribute">left</span>: <span class="number">50%</span>;<span class="attribute">top</span>: <span class="number">50%</span>;<span class="attribute">transform</span>: <span class="built_in">translate</span>(-<span class="number">50%</span>, -<span class="number">50%</span>);&#125;</span><br><span class="line"><span class="selector-class">.close</span>&#123;<span class="attribute">position</span>: absolute;<span class="attribute">width</span>: <span class="number">5vw</span>;<span class="attribute">height</span>: <span class="number">5vw</span>;<span class="attribute">left</span>: <span class="number">50%</span>;<span class="attribute">top</span>: <span class="number">50%</span>;<span class="attribute">transform</span>: <span class="built_in">translate</span>(-<span class="number">710%</span>, -<span class="number">1172%</span>);&#125;</span><br><span class="line"><span class="selector-class">.rank-table</span>&#123;</span><br><span class="line">    <span class="attribute">font-size</span>: <span class="number">12px</span>;<span class="attribute">width</span>: <span class="number">65vw</span>;<span class="attribute">position</span>: absolute;<span class="attribute">left</span>: <span class="number">50%</span>;<span class="attribute">top</span>: <span class="number">50%</span>;<span class="attribute">height</span>: <span class="number">102vw</span>;<span class="attribute">overflow</span>: hidden;</span><br><span class="line">    <span class="attribute">overflow-y</span>: scroll;<span class="attribute">transform</span>: <span class="built_in">translate</span>(-<span class="number">50%</span>, -<span class="number">47%</span>);<span class="attribute">display</span>: flex;<span class="attribute">flex-direction</span>: column;<span class="attribute">justify-items</span>: center;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.rank-c</span>&#123;<span class="attribute">margin-top</span>: <span class="number">2vw</span>;<span class="attribute">display</span>: flex;<span class="attribute">flex-direction</span>: row;<span class="attribute">justify-items</span>: center;<span class="attribute">align-items</span>: center;<span class="attribute">justify-content</span>: space-around;&#125;</span><br><span class="line"><span class="selector-class">.wx-name</span>&#123;<span class="attribute">width</span>: <span class="number">30%</span>;<span class="attribute">white-space</span>: nowrap;<span class="attribute">overflow</span>: hidden;<span class="attribute">text-overflow</span>: ellipsis;&#125;</span><br><span class="line"><span class="selector-class">.rank-head</span>&#123;<span class="attribute">width</span>: <span class="number">9vw</span>;<span class="attribute">height</span>: <span class="number">9vw</span>;<span class="attribute">border-radius</span>: <span class="number">100%</span>;<span class="attribute">position</span>: sticky <span class="meta">!important</span>;&#125;</span><br><span class="line"><span class="selector-class">.rank-img</span>&#123;<span class="attribute">width</span>: <span class="number">4vw</span>;<span class="attribute">margin-left</span>: -<span class="number">1vw</span>;<span class="attribute">margin-top</span>: -<span class="number">1vw</span>;&#125;</span><br><span class="line"><span class="selector-class">.rank-one</span>&#123;<span class="attribute">width</span>: <span class="number">4vw</span>;<span class="attribute">height</span>: <span class="number">4vw</span>;<span class="attribute">text-align</span>: left&#125;</span><br></pre></td></tr></table></figure><p><strong>图片资源</strong><br><img src="/ckriv5z5x0000ikwfcgsm3o81/%E5%8F%A4%E6%80%AA.assets/rank.png" class="lazyload" data-srcset="/ckriv5z5x0000ikwfcgsm3o81/%E5%8F%A4%E6%80%AA.assets/rank.png" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" alt="rank"><br><img src="/ckriv5z5x0000ikwfcgsm3o81/%E5%8F%A4%E6%80%AA.assets/rank1.png" class="lazyload" data-srcset="/ckriv5z5x0000ikwfcgsm3o81/%E5%8F%A4%E6%80%AA.assets/rank1.png" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" alt="rank1"><img src="/ckriv5z5x0000ikwfcgsm3o81/%E5%8F%A4%E6%80%AA.assets/rank2.png" class="lazyload" data-srcset="/ckriv5z5x0000ikwfcgsm3o81/%E5%8F%A4%E6%80%AA.assets/rank2.png" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" alt="rank2"><img src="/ckriv5z5x0000ikwfcgsm3o81/%E5%8F%A4%E6%80%AA.assets/rank3.png" class="lazyload" data-srcset="/ckriv5z5x0000ikwfcgsm3o81/%E5%8F%A4%E6%80%AA.assets/rank3.png" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" alt="rank3"></p><h3 id="页面显示"><a href="#页面显示" class="headerlink" title="页面显示"></a>页面显示</h3><h4 id="分享弹窗"><a href="#分享弹窗" class="headerlink" title="分享弹窗"></a>分享弹窗</h4><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;share&quot;</span> <span class="attr">style</span>=<span class="string">&quot;display: none;position:absolute;height: 100%;width: 100%;background-color: rgba(0,0,0,0.6)&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">img</span> <span class="attr">style</span>=<span class="string">&quot;width: 94%;left: 3%&quot;</span> <span class="attr">data-src</span>=<span class="string">&quot;__static__/img/share_alert.png&quot;</span> <span class="attr">class</span>=<span class="string">&quot;&quot;</span> <span class="attr">a-eff</span>=<span class="string">&quot;bounceInUp&quot;</span></span></span><br><span class="line"><span class="tag">         <span class="attr">a-fun</span>=<span class="string">&quot;&quot;</span> <span class="attr">a-dur</span>=<span class="string">&quot;1s&quot;</span> <span class="attr">a-del</span>=<span class="string">&quot;1s&quot;</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$(<span class="string">&quot;.share&quot;</span>).click(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    $(<span class="string">&quot;.share&quot;</span>).hide()</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><h3 id="助力"><a href="#助力" class="headerlink" title="助力"></a>助力</h3><h4 id="分享助力"><a href="#分享助力" class="headerlink" title="分享助力"></a>分享助力</h4><blockquote><p>引入js </p></blockquote><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;text/javascript&quot;</span> <span class="attr">src</span>=<span class="string">&quot;__static__/js/wxshares.js?v=2&quot;</span> <span class="attr">defer</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><blockquote><p>main.js</p></blockquote><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">getCount = <span class="function"><span class="keyword">function</span>(<span class="params">type, isCom, callback</span>) </span>&#123;</span><br><span class="line">   <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">   <span class="keyword">if</span> (!isCom) &#123;</span><br><span class="line">      isCom = <span class="literal">null</span></span><br><span class="line">   &#125;</span><br><span class="line">   <span class="keyword">if</span> (!type) &#123;</span><br><span class="line">      type = <span class="literal">null</span></span><br><span class="line">   &#125;</span><br><span class="line">   loading = weui.loading(<span class="string">&#x27;loading...&#x27;</span>);</span><br><span class="line">   $.ajax(&#123;</span><br><span class="line">      type: <span class="string">&#x27;POST&#x27;</span>,</span><br><span class="line">      <span class="keyword">async</span>: <span class="literal">false</span>,</span><br><span class="line">      data: &#123;</span><br><span class="line">         <span class="string">&#x27;type&#x27;</span>: type,</span><br><span class="line">         <span class="string">&#x27;isCom&#x27;</span>: isCom</span><br><span class="line">      &#125;,</span><br><span class="line">      url: actionRoot + <span class="string">&#x27;getDrawcount&#x27;</span>,</span><br><span class="line">      success: <span class="function"><span class="keyword">function</span>(<span class="params">res</span>) </span>&#123;</span><br><span class="line">         <span class="built_in">console</span>.log(res.msg)</span><br><span class="line">         loading.hide();</span><br><span class="line">         <span class="keyword">if</span> (res.code == <span class="number">1</span>) &#123;</span><br><span class="line">            weui.alert(<span class="string">&#x27;恭喜您获得一次额外游戏机会！&#x27;</span>)</span><br><span class="line">         &#125;</span><br><span class="line"></span><br><span class="line">      &#125;</span><br><span class="line">   &#125;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>wxshares.js 中找到对应方法</strong></p><h3 id="数据提交"><a href="#数据提交" class="headerlink" title="数据提交"></a>数据提交</h3><h4 id="用户信息提交"><a href="#用户信息提交" class="headerlink" title="用户信息提交"></a>用户信息提交</h4><blockquote><p>适用于弹窗为一整张图片，输入框、关闭和提交按钮覆盖图片</p></blockquote><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--        填写用户信息 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;info popover&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;info-con&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;close-info&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">name</span>=<span class="string">&quot;username&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">input</span> <span class="attr">style</span>=<span class="string">&quot;margin-top: 19.8vw&quot;</span> <span class="attr">type</span>=<span class="string">&quot;number&quot;</span> <span class="attr">name</span>=<span class="string">&quot;tel&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="tag">&lt;<span class="name">img</span> <span class="attr">data-src</span>=<span class="string">&quot;__static__/img/info-bg.png&quot;</span> <span class="attr">btn</span>=<span class="string">&quot;&quot;</span> <span class="attr">class</span>=<span class="string">&quot;info-bg ani&quot;</span> <span class="attr">a-eff</span>=<span class="string">&quot;zoomIn&quot;</span> <span class="attr">a-fun</span>=<span class="string">&quot;&quot;</span></span></span><br><span class="line"><span class="tag">             <span class="attr">a-dur</span>=<span class="string">&quot;1s&quot;</span> <span class="attr">a-del</span>=<span class="string">&quot;0.5s&quot;</span>/&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;sub-info&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.info-con</span>&#123;</span><br><span class="line">    <span class="attribute">position</span>: absolute;<span class="attribute">left</span>: <span class="number">50%</span>;<span class="attribute">top</span>: <span class="number">35%</span>;<span class="attribute">width</span>: <span class="number">100%</span>;<span class="attribute">height</span>: auto;</span><br><span class="line">    <span class="attribute">transform</span>: <span class="built_in">translate</span>(-<span class="number">50%</span>, -<span class="number">50%</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.info-bg</span>&#123;<span class="attribute">width</span>: <span class="number">80%</span>;<span class="attribute">left</span>: <span class="number">10%</span>;&#125;</span><br><span class="line"><span class="selector-tag">input</span>&#123;</span><br><span class="line">    <span class="attribute">border</span>: <span class="number">0</span>;<span class="attribute">margin-left</span>: <span class="number">54%</span>;<span class="attribute">transform</span>: <span class="built_in">translate</span>(-<span class="number">50%</span>,<span class="number">0</span>);</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">32%</span>;<span class="attribute">margin-top</span>: <span class="number">8.7vw</span>;<span class="attribute">position</span>: absolute;<span class="attribute">z-index</span>: <span class="number">999</span>;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">5vw</span>;<span class="attribute">background-color</span>: transparent;</span><br><span class="line">    <span class="attribute">padding-left</span>: <span class="number">2vw</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.close-info</span>&#123;</span><br><span class="line">    <span class="attribute">position</span>: absolute;<span class="attribute">left</span>: <span class="number">83%</span>;<span class="attribute">top</span>: <span class="number">2vw</span>;<span class="attribute">transform</span>: <span class="built_in">translate</span>(-<span class="number">50%</span>, <span class="number">0</span>);</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">4vw</span>;<span class="attribute">height</span>: <span class="number">4vw</span>;<span class="attribute">z-index</span>: <span class="number">999</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.sub-info</span>&#123;</span><br><span class="line">    <span class="attribute">position</span>: absolute;<span class="attribute">left</span>: <span class="number">50%</span>;<span class="attribute">top</span>: <span class="number">33vw</span>;<span class="attribute">transform</span>: <span class="built_in">translate</span>(-<span class="number">50%</span>, <span class="number">0</span>);</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">27vw</span>;<span class="attribute">height</span>: <span class="number">10vw</span>;<span class="attribute">z-index</span>: <span class="number">999</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><p>关闭弹窗</p></blockquote><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$(<span class="string">&quot;.close-info&quot;</span>).click(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">   $(<span class="string">&quot;.info&quot;</span>).hide()</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><blockquote><p>提交信息</p></blockquote><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//提交信息</span></span><br><span class="line">$(<span class="string">&quot;.sub-info&quot;</span>).click(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">   <span class="keyword">let</span> name = $(<span class="string">&quot;input[name=&#x27;username&#x27;]&quot;</span>).val();</span><br><span class="line">   <span class="keyword">let</span> tel = $(<span class="string">&quot;input[name=&#x27;tel&#x27;]&quot;</span>).val();</span><br><span class="line">   <span class="keyword">if</span> (name == <span class="string">&quot;&quot;</span> || tel == <span class="string">&quot;&quot;</span>) &#123;</span><br><span class="line">      <span class="keyword">return</span> weui.alert(<span class="string">&quot;请填写完整信息&quot;</span>)</span><br><span class="line">   &#125;</span><br><span class="line">   <span class="keyword">if</span> (!checkMobile(tel)) &#123;</span><br><span class="line">      <span class="keyword">return</span> weui.alert(<span class="string">&quot;请填写正确的手机号&quot;</span>);</span><br><span class="line">   &#125;</span><br><span class="line">   loading = weui.loading(<span class="string">&quot;loading...&quot;</span>);</span><br><span class="line">   $.post(</span><br><span class="line">      actionRoot + <span class="string">&quot;putinfo&quot;</span>, &#123;</span><br><span class="line">         username: name,</span><br><span class="line">         tel: tel,</span><br><span class="line">      &#125;,</span><br><span class="line">      <span class="function"><span class="keyword">function</span>(<span class="params">res</span>) </span>&#123;</span><br><span class="line">         loading.hide();</span><br><span class="line">         <span class="keyword">if</span> (res.code == <span class="number">1</span>) &#123;</span><br><span class="line">            weui.alert(<span class="string">&quot;信息提交成功！&quot;</span>);</span><br><span class="line">         &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            weui.alert(res.msg);</span><br><span class="line">         &#125;</span><br><span class="line">         $(<span class="string">&quot;.info&quot;</span>).hide();</span><br><span class="line">      &#125;, <span class="string">&quot;json&quot;</span>);</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 提交信息</span></span><br><span class="line"><span class="comment"> * 作者：糜家智</span></span><br><span class="line"><span class="comment"> * 时间：2021/7/21 15:20</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">putInfo</span>(<span class="params">Request $request</span>)</span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    $find = model(<span class="string">&#x27;User&#x27;</span>)-&gt;where(<span class="string">&#x27;openid&#x27;</span>, <span class="keyword">$this</span>-&gt;openid)-&gt;find();</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (!$find) <span class="keyword">$this</span>-&gt;error(<span class="string">&#x27;网络错误&#x27;</span>);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> ($find[<span class="string">&#x27;tel&#x27;</span>]) &#123;</span><br><span class="line">        <span class="keyword">$this</span>-&gt;success(<span class="string">&#x27;已经提交过了，无需重复！&#x27;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    $username = $request-&gt;post(<span class="string">&#x27;username&#x27;</span>);</span><br><span class="line">    $tel = $request-&gt;post(<span class="string">&#x27;tel&#x27;</span>);</span><br><span class="line"></span><br><span class="line">    $insert_data = [</span><br><span class="line">        <span class="string">&#x27;username&#x27;</span> =&gt; $username,</span><br><span class="line">        <span class="string">&#x27;tel&#x27;</span> =&gt; $tel,</span><br><span class="line">    ];</span><br><span class="line"></span><br><span class="line">    $res = model(<span class="string">&#x27;User&#x27;</span>)-&gt;where(<span class="string">&#x27;openid&#x27;</span>, <span class="keyword">$this</span>-&gt;openid)-&gt;update($insert_data);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> ($res) &#123;</span><br><span class="line">        <span class="keyword">return</span> [<span class="string">&#x27;code&#x27;</span> =&gt; <span class="number">1</span>, <span class="string">&#x27;msg&#x27;</span> =&gt; <span class="string">&#x27;信息提交成功！&#x27;</span>, <span class="string">&#x27;data&#x27;</span> =&gt; [<span class="string">&#x27;wxname&#x27;</span> =&gt; <span class="keyword">$this</span>-&gt;wxname, <span class="string">&#x27;openid&#x27;</span> =&gt; <span class="keyword">$this</span>-&gt;openid, <span class="string">&#x27;wxhead&#x27;</span> =&gt; <span class="keyword">$this</span>-&gt;wxhead]];</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="keyword">$this</span>-&gt;error(<span class="string">&#x27;网络错误，请稍后再试&#x27;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">checkMobile</span>(<span class="params">str</span>) </span>&#123;</span><br><span class="line">   <span class="keyword">var</span> myreg = <span class="regexp">/^[1][3,4,5,7,8,9][0-9]&#123;9&#125;$/</span>;</span><br><span class="line">   <span class="keyword">if</span> (!myreg.test(str)) &#123;</span><br><span class="line">      <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">   &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="weui下拉选择"><a href="#weui下拉选择" class="headerlink" title="weui下拉选择"></a>weui下拉选择</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> dataArr = [</span><br><span class="line">    &#123;</span><br><span class="line">        label: <span class="string">&#x27;&#x27;</span>,</span><br><span class="line">        value: <span class="string">&#x27;&#x27;</span></span><br><span class="line">    &#125;</span><br><span class="line">];</span><br><span class="line">$(<span class="string">&quot;.address&quot;</span>).click(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    weui.picker(dataArr, &#123;</span><br><span class="line">        defaultValue: <span class="string">&#x27;&#x27;</span>, <span class="comment">// 这里是value</span></span><br><span class="line">        onChange: <span class="function"><span class="keyword">function</span> (<span class="params">result</span>) </span>&#123;</span><br><span class="line">        &#125;,</span><br><span class="line">        onConfirm: <span class="function"><span class="keyword">function</span> (<span class="params">result</span>) </span>&#123;</span><br><span class="line">            $(<span class="string">&quot;input[name=&#x27;address&#x27;]&quot;</span>).val(result[<span class="number">0</span>].value)</span><br><span class="line">        &#125;,</span><br><span class="line">        id: <span class="string">&#x27;search_xqpicker&#x27;</span></span><br><span class="line">    &#125;);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> 前端 </category>
          
          <category> 古怪 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 前端 </tag>
            
            <tag> 开发 </tag>
            
            <tag> javascript </tag>
            
            <tag> 古怪学习 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>程序员多款软件推荐分享</title>
      <link href="ckrivcdqq0009ikwff2f014q4/"/>
      <url>ckrivcdqq0009ikwff2f014q4/</url>
      
        <content type="html"><![CDATA[<p>工欲善其事，必先利其器。对于程序员来说需要的“器”太多了，如今各种同类型的软件都有很多种，但是否都是“利器”呢，等你一个一个装好去试简直就是麻烦。这里直接给还在寻找“利器”的程序员推荐几款必备的辅助软件工具。</p><a id="more"></a><h3 id="Snipaste-截图-贴图工具"><a href="#Snipaste-截图-贴图工具" class="headerlink" title="Snipaste 截图+贴图工具"></a>Snipaste 截图+贴图工具</h3><p>官方主页：<a href="https://zh.snipaste.com/">https://zh.snipaste.com/</a><br>介绍：Snipaste 是一个简单但强大的截图工具，也可以让你将截图贴回到屏幕上！<br>贴图功能非常好用，尤其是对于单屏显示的程序猿们，再也不用按Alt+Tab来回切换屏幕了</p><p>（偷偷告诉你：用Snipaste 辅助写博客也非常方便哦！：）</p><p>价格：免费</p><h3 id="Notepad"><a href="#Notepad" class="headerlink" title="Notepad++"></a>Notepad++</h3><p>官方主页：<a href="https://notepad-plus-plus.org/">https://notepad-plus-plus.org/</a><br>介绍：Notepad++用来查看源码文件极其方便，用它你就可以不用打开那庞大的工程而直接查看文件的代码。相比使用记事本查看，Notepad++有代码高亮显示，非常适合查看部分工程源码。</p><p>价格：免费</p><h3 id="Everything"><a href="#Everything" class="headerlink" title="Everything"></a>Everything</h3><p>官方主页：<a href="https://www.voidtools.com/zh-cn/">https://www.voidtools.com/zh-cn/</a><br>介绍：快速查找电脑中的文件（非常快），相比Window自带的文件检索框，Everything就是降维打击，简直神器！</p><p>flux屏幕色温调节</p><p>介绍：调节屏幕色温，缓解眼部疲劳，对于天天盯着惨白电脑的人着实是个小福利。<br>官网地址：<a href="https://justgetflux.com/">https://justgetflux.com/</a><br>价格：免费</p><h3 id="福析阅读器"><a href="#福析阅读器" class="headerlink" title="福析阅读器"></a>福析阅读器</h3><p>官网地址：<a href="https://www.foxitsoftware.cn/">https://www.foxitsoftware.cn/</a><br>介绍：做软硬件开发的，总是少不了要看一些官方等等的说明文档以及一些pdf格式的原理图，用自带的浏览器看原理图时总是不好移动，而福析阅读器就能很好的胜任这份工作，并且也可以调节为暗色模式哦 (￣▽￣)ブ<br>价格：普通功能免费，高级功能收费，对于普通用户来说，免费的就够用了</p><h3 id="BeyondCompare-代码差异对比工具"><a href="#BeyondCompare-代码差异对比工具" class="headerlink" title="BeyondCompare 代码差异对比工具"></a>BeyondCompare 代码差异对比工具</h3><p>官网地址：<a href="https://www.scootersoftware.com/">https://www.scootersoftware.com/</a><br>介绍：<br>使用BeyondCompare您可以快速轻松地比较文件和文件夹。通过使用简单，功能强大的命令，您可以专注于您感兴趣的差异，而忽略那些您不需要的差异。然后，您可以合并更改，同步文件并生成报告以作记录。<br>你可以不使用，但你一定要知道。有时候看学习视频时，对比着人家提供的工程文件，和自己敲的代码和人家的代码明明“一毛一样”，但是自己的就是报错，而你又找不出来，编译器还定位不到错误位置。光靠眼睛去看还不得累死，这时候，导入这两份文件，一个对比，哪里不同清清楚楚，要多爽有多爽。</p><p>价格：收费</p><h3 id="坚果云"><a href="#坚果云" class="headerlink" title="坚果云"></a>坚果云</h3><p>官网地址：<a href="https://www.jianguoyun.com/">https://www.jianguoyun.com/</a></p><p>介绍：实现多设备之间文件同步共享，适合多台电脑办公的，时时工程同步文件到另一台电脑（设备），下班后打开工程就可以继续快乐的干活了，下载速度看个人网速，杠杠的，再也不要5k的速度了。♪(∇*)</p><p>价格：普通用户每月最多可上传1GB文件，下载3GB文件。（上传一点工程文件对俺来说还是够用的）</p><h3 id="WOX"><a href="#WOX" class="headerlink" title="WOX"></a>WOX</h3><p>你可以将 Wox 看作一个高效的本地快速搜索框，通过快捷键呼出，然后输入关键字来搜索程序进行快速启动，或者搜索本地硬盘的文件，打开百度、Google 进行搜索，甚至是通过一些插件的功能实现单词翻译、关闭屏幕、查询剪贴板历史、查询编程文档、查询天气等更多功能。<br>官网下载地址：<a href="http://www.wox.one/">http://www.wox.one/</a></p>]]></content>
      
      
      <categories>
          
          <category> 生活 </category>
          
          <category> 必备软件 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 软件 </tag>
            
            <tag> windows </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>vue框架篇</title>
      <link href="ckqxqe4n3000sbwwf1folf50x/"/>
      <url>ckqxqe4n3000sbwwf1folf50x/</url>
      
        <content type="html"><![CDATA[<p>本文以前端面试官的角度出发，对 Vue 框架中一些重要的特性、框架的原理以问题的形式进行整理汇总，意在帮助作者及读者自测下 Vue 掌握的程度。</p><a id="more"></a>]]></content>
      
      
      <categories>
          
          <category> 前端 </category>
          
          <category> vue </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 前端 </tag>
            
            <tag> vue </tag>
            
            <tag> 指南 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>scroll-view双向联动</title>
      <link href="ckqxqe4n2000rbwwf0ghu7do4/"/>
      <url>ckqxqe4n2000rbwwf0ghu7do4/</url>
      
        <content type="html"><![CDATA[<p>scroll-view的双向联动，主要应用场景为分类菜单，点击左边分类右边自动滑动到对应的分类菜单下，滑动右边分类列表的同时，左边的分类菜单也会同时滑动</p><a id="more"></a><blockquote><p>在得到分类数据的时候，首先得到整个分类列表的高度</p></blockquote><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">this.$nextTick(() &#x3D;&gt; &#123;</span><br><span class="line">setTimeout(() &#x3D;&gt; &#123;</span><br><span class="line">this.setScrollHeight();</span><br><span class="line">&#125;, 1500);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">setScrollHeight() &#123;</span><br><span class="line">let h &#x3D; 0;</span><br><span class="line">const query &#x3D; uni.createSelectorQuery();</span><br><span class="line">query.selectAll(&#39;.goods-item&#39;).boundingClientRect().exec((res) &#x3D;&gt; &#123;</span><br><span class="line">res[0].forEach((item) &#x3D;&gt; &#123;</span><br><span class="line">h +&#x3D; item.height;</span><br><span class="line">this.goodsHeight.push(h);</span><br><span class="line">&#125;)</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">this.menuHeight &#x3D; [];</span><br><span class="line">let m &#x3D; 0;</span><br><span class="line">query.select(&quot;.cu-item&quot;).boundingClientRect().exec((res) &#x3D;&gt; &#123;</span><br><span class="line">res[0].forEach((item) &#x3D;&gt; &#123;</span><br><span class="line">m +&#x3D; item.height;</span><br><span class="line">this.menuHeight.push(m);</span><br><span class="line">&#125;)</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><p>右边联动</p></blockquote><p>scroll-view中的属性<code>:scroll-into-view=&quot;&#39;main-&#39;+mainCur&quot;</code>，和标题的<code>:id=&quot;&#39;main-&#39;+index&quot;</code>进行相对应的关联；点击左边菜单赋值给<code>mainCur</code>即可</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">TabSelect(e) &#123;</span><br><span class="line">this.tabCur &#x3D; e.currentTarget.dataset.id;</span><br><span class="line">this.mainCur &#x3D; e.currentTarget.dataset.id;</span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure><blockquote><p>左边联动，重点</p></blockquote><p>上面已经获取到菜单和分类页的高度，根据高度来对菜单加值，减值，实现左边联动滑动的效果<br>右边<code>scroll-view</code>中属性<code>@scroll=&quot;VerticalMain&quot;</code>可监听<code>scroll-view</code>滚动</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">VerticalMain(e) &#123;</span><br><span class="line"></span><br><span class="line">if (this.goodsHeight.length &#x3D;&#x3D; 0) &#123;</span><br><span class="line">return;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">let scrollTop &#x3D; e.detail.scrollTop + 10;</span><br><span class="line">let current &#x3D; this.tabCur;</span><br><span class="line"></span><br><span class="line">if (scrollTop &gt;&#x3D; this.verticalNavTop) &#123;</span><br><span class="line">if (current + 1 &lt; this.goodsHeight.length &amp;&amp; scrollTop &gt;&#x3D; this.goodsHeight[current]) &#123;</span><br><span class="line">this.tabCur &#x3D; current + 1;</span><br><span class="line">&#125;</span><br><span class="line">&#125; else &#123;</span><br><span class="line">if (current - 1 &gt;&#x3D; 0 &amp;&amp; scrollTop &lt; this.goodsHeight[current - 1]) &#123;</span><br><span class="line">this.tabCur &#x3D; current - 1;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">this.verticalNavTop &#x3D; scrollTop;</span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure><p><strong>优点</strong>：如果得到的分类数据标题没有id值，可根据此方法来<br><strong>缺点</strong>：代码量比用id来进行赋值多了一些，根据得到的接口数据来使用</p>]]></content>
      
      
      <categories>
          
          <category> 前端 </category>
          
          <category> uni-app </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 前端 </tag>
            
            <tag> uni-app </tag>
            
            <tag> 页面操作 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>前端指南-css部分</title>
      <link href="ckqxqe4pk003lbwwf3a8bggza/"/>
      <url>ckqxqe4pk003lbwwf3a8bggza/</url>
      
        <content type="html"><![CDATA[<p>这是对于前端-JavaScript部分的学习笔记及分享，会一直更新，保持学习的进步</p><a id="more"></a><h3 id="1-闭包"><a href="#1-闭包" class="headerlink" title="1 闭包"></a>1 闭包</h3><ul><li>闭包就是能够读取其他函数内部变量的函数</li><li>闭包是指有权访问另一个函数作用域中变量的函数，创建闭包的最常见的方式就是在一个函数内创建另一个函数，通过另一个函数访问这个函数的局部变量,利用闭包可以突破作用链域</li><li>闭包的特性：<ul><li>函数内再嵌套函数</li><li>内部函数可以引用外层的参数和变量</li><li>参数和变量不会被垃圾回收机制回收</li></ul></li></ul><p><strong>说说你对闭包的理解</strong></p><ul><li>使用闭包主要是为了设计私有的方法和变量。闭包的优点是可以避免全局变量的污染，缺点是闭包会常驻内存，会增大内存使用量，使用不当很容易造成内存泄露。在js中，函数即闭包，只有函数才会产生作用域的概念</li><li>闭包 的最大用处有两个，一个是可以读取函数内部的变量，另一个就是让这些变量始终保持在内存中</li><li>闭包的另一个用处，是封装对象的私有属性和私有方法</li><li><strong>好处</strong>：能够实现封装和缓存等；</li><li><strong>坏处</strong>：就是消耗内存、不正当使用会造成内存溢出的问题</li></ul><p><strong>使用闭包的注意点</strong></p><ul><li>由于闭包会使得函数中的变量都被保存在内存中，内存消耗很大，所以不能滥用闭包，否则会造成网页的性能问题，在IE中可能导致内存泄露</li><li>解决方法是，在退出函数之前，将不使用的局部变量全部删除</li></ul><h3 id="2-说说你对作用域链的理解"><a href="#2-说说你对作用域链的理解" class="headerlink" title="2 说说你对作用域链的理解"></a>2 说说你对作用域链的理解</h3><ul><li>作用域链的作用是保证执行环境里有权访问的变量和函数是有序的，作用域链的变量只能向上访问，变量访问到<code>window</code>对象即被终止，作用域链向下访问变量是不被允许的</li><li>简单的说，作用域就是变量与函数的可访问范围，即作用域控制着变量与函数的可见性和生命周期</li></ul><h3 id="3-JavaScript原型，原型链-有什么特点？"><a href="#3-JavaScript原型，原型链-有什么特点？" class="headerlink" title="3 JavaScript原型，原型链 ? 有什么特点？"></a>3 JavaScript原型，原型链 ? 有什么特点？</h3><ul><li>每个对象都会在其内部初始化一个属性，就是<code>prototype</code>(原型)，当我们访问一个对象的属性时</li><li>如果这个对象内部不存在这个属性，那么他就会去<code>prototype</code>里找这个属性，这个<code>prototype</code>又会有自己的<code>prototype</code>，于是就这样一直找下去，也就是我们平时所说的原型链的概念</li><li>关系：<code>instance.constructor.prototype = instance.__proto__</code></li><li>特点：<ul><li><code>JavaScript</code>对象是通过引用来传递的，我们创建的每个新对象实体中并没有一份属于自己的原型副本。当我们修改原型时，与之相关的对象也会继承这一改变</li></ul></li><li>当我们需要一个属性的时，<code>Javascript</code>引擎会先看当前对象中是否有这个属性， 如果没有的</li><li>就会查找他的<code>Prototype</code>对象是否有这个属性，如此递推下去，一直检索到 <code>Object</code> 内建对象</li><li><strong>原型：</strong><ul><li><code>JavaScript</code>的所有对象中都包含了一个 <code>[__proto__]</code> 内部属性，这个属性所对应的就是该对象的原型</li><li>JavaScript的函数对象，除了原型 <code>[__proto__]</code> 之外，还预置了 <code>prototype</code> 属性</li><li>当函数对象作为构造函数创建实例时，该 prototype 属性值将被作为实例对象的原型 <code>[__proto__]</code>。</li></ul></li><li><strong>原型链：</strong><ul><li>当一个对象调用的属性/方法自身不存在时，就会去自己 <code>[__proto__]</code> 关联的前辈 <code>prototype</code> 对象上去找</li><li>如果没找到，就会去该 <code>prototype</code> 原型 <code>[__proto__]</code> 关联的前辈 <code>prototype</code> 去找。依次类推，直到找到属性/方法或 <code>undefined</code> 为止。从而形成了所谓的“原型链”</li></ul></li><li><strong>原型特点：</strong><ul><li><code>JavaScript</code>对象是通过引用来传递的，当修改原型时，与之相关的对象也会继承这一改变</li></ul></li></ul><h3 id="4-请解释什么是事件代理"><a href="#4-请解释什么是事件代理" class="headerlink" title="4 请解释什么是事件代理"></a>4 请解释什么是事件代理</h3><ul><li>事件代理（<code>Event Delegation</code>），又称之为事件委托。是 <code>JavaScript</code> 中常用绑定事件的常用技巧。顾名思义，“事件代理”即是把原本需要绑定的事件委托给父元素，让父元素担当事件监听的职务。事件代理的原理是DOM元素的事件冒泡。使用事件代理的好处是可以提高性能</li><li>可以大量节省内存占用，减少事件注册，比如在<code>table</code>上代理所有<code>td</code>的<code>click</code>事件就非常棒</li><li>可以实现当新增子对象时无需再次对其绑定</li></ul><h3 id="5-JavaScript如何实现继承？"><a href="#5-JavaScript如何实现继承？" class="headerlink" title="5 JavaScript如何实现继承？"></a>5 JavaScript如何实现继承？</h3><ul><li>构造继承</li><li>原型继承</li><li>实例继承</li><li>拷贝继承</li><li>原型<code>prototype</code>机制或<code>apply</code>和<code>call</code>方法去实现较简单，建议使用构造函数与原型混合方式</li></ul><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Parent</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line"><span class="built_in">this</span>.name = <span class="string">&#x27;wang&#x27;</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Child</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        <span class="built_in">this</span>.age = <span class="number">28</span>;</span><br><span class="line">&#125;</span><br><span class="line">    </span><br><span class="line">Child.prototype = <span class="keyword">new</span> Parent();<span class="comment">//继承了Parent，通过原型</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> demo = <span class="keyword">new</span> Child();</span><br><span class="line">alert(demo.age);</span><br><span class="line">alert(demo.name);<span class="comment">//得到被继承的属性</span></span><br></pre></td></tr></table></figure><h3 id="6-谈谈This对象的理解"><a href="#6-谈谈This对象的理解" class="headerlink" title="6 谈谈This对象的理解"></a>6 谈谈This对象的理解</h3><ul><li><code>this</code>总是指向函数的直接调用者（而非间接调用者）</li><li>如果有<code>new</code>关键字，<code>this</code>指向<code>new</code>出来的那个对象</li><li>在事件中，<code>this</code>指向触发这个事件的对象，特殊的是，<code>IE</code>中的<code>attachEvent</code>中的<code>this</code>总是指向全局对象<code>Window</code></li></ul><h3 id="7-事件模型"><a href="#7-事件模型" class="headerlink" title="7 事件模型"></a>7 事件模型</h3><blockquote><p><code>W3C</code>中定义事件的发生经历三个阶段：捕获阶段（<code>capturing</code>）、目标阶段（<code>targetin</code>）、冒泡阶段（<code>bubbling</code>）</p></blockquote><ul><li>冒泡型事件：当你使用事件冒泡时，子级元素先触发，父级元素后触发</li><li>捕获型事件：当你使用事件捕获时，父级元素先触发，子级元素后触发</li><li><code>DOM</code>事件流：同时支持两种事件模型：捕获型事件和冒泡型事件</li><li>阻止冒泡：在<code>W3c</code>中，使用<code>stopPropagation()</code>方法；在IE下设置<code>cancelBubble = true</code></li><li>阻止捕获：阻止事件的默认行为，例如<code>click - &lt;a&gt;</code>后的跳转。在<code>W3c</code>中，使用<code>preventDefault()</code>方法，在<code>IE</code>下设置<code>window.event.returnValue = false</code></li></ul><h3 id="8-new操作符具体干了什么呢"><a href="#8-new操作符具体干了什么呢" class="headerlink" title="8 new操作符具体干了什么呢?"></a>8 new操作符具体干了什么呢?</h3><ul><li>创建一个空对象，并且 <code>this</code> 变量引用该对象，同时还继承了该函数的原型</li><li>属性和方法被加入到 <code>this</code> 引用的对象中</li><li>新创建的对象由 <code>this</code> 所引用，并且最后隐式的返回 <code>this</code></li></ul><h3 id="9-Ajax原理"><a href="#9-Ajax原理" class="headerlink" title="9 Ajax原理"></a>9 Ajax原理</h3><ul><li><code>Ajax</code>的原理简单来说是在用户和服务器之间加了—个中间层(<code>AJAX</code>引擎)，通过<code>XmlHttpRequest</code>对象来向服务器发异步请求，从服务器获得数据，然后用<code>javascrip</code>t来操作<code>DOM</code>而更新页面。使用户操作与服务器响应异步化。这其中最关键的一步就是从服务器获得请求数据</li><li><code>Ajax</code>的过程只涉及<code>JavaScript</code>、<code>XMLHttpRequest</code>和<code>DOM</code>。<code>XMLHttpRequest</code>是<code>aja</code>x的核心机制</li></ul><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/** 1. 创建连接 **/</span></span><br><span class="line"><span class="keyword">var</span> xhr = <span class="literal">null</span>;</span><br><span class="line">xhr = <span class="keyword">new</span> XMLHttpRequest()</span><br><span class="line"><span class="comment">/** 2. 连接服务器 **/</span></span><br><span class="line">xhr.open(<span class="string">&#x27;get&#x27;</span>, url, <span class="literal">true</span>)</span><br><span class="line"><span class="comment">/** 3. 发送请求 **/</span></span><br><span class="line">xhr.send(<span class="literal">null</span>);</span><br><span class="line"><span class="comment">/** 4. 接受请求 **/</span></span><br><span class="line">xhr.onreadystatechange = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line"><span class="keyword">if</span>(xhr.readyState == <span class="number">4</span>)&#123;</span><br><span class="line"><span class="keyword">if</span>(xhr.status == <span class="number">200</span>)&#123;</span><br><span class="line">success(xhr.responseText);</span><br><span class="line">&#125; <span class="keyword">else</span> &#123; </span><br><span class="line"><span class="comment">/** false **/</span></span><br><span class="line">fail &amp;&amp; fail(xhr.status);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>ajax 有那些优缺点?</strong></p><ul><li>优点：<ul><li>通过异步模式，提升了用户体验.</li><li>优化了浏览器和服务器之间的传输，减少不必要的数据往返，减少了带宽占用.</li><li><code>Ajax</code>在客户端运行，承担了一部分本来由服务器承担的工作，减少了大用户量下的服务器负载。</li><li><code>Ajax</code>可以实现动态不刷新（局部刷新）</li></ul></li><li>缺点：<ul><li>安全问题 <code>AJAX</code>暴露了与服务器交互的细节。</li><li>对搜索引擎的支持比较弱。</li><li>不容易调试。</li></ul></li></ul><h3 id="10-如何解决跨域问题"><a href="#10-如何解决跨域问题" class="headerlink" title="10 如何解决跨域问题?"></a>10 如何解决跨域问题?</h3><blockquote><p>首先了解下浏览器的同源策略 同源策略<code>/SOP（Same origin policy）</code>是一种约定，由Netscape公司1995年引入浏览器，它是浏览器最核心也最基本的安全功能，如果缺少了同源策略，浏览器很容易受到<code>XSS</code>、<code>CSFR</code>等攻击。所谓同源是指”<strong>协议+域名+端口</strong>“三者相同，即便两个不同的域名指向同一个ip地址，也非同源</p></blockquote><p><strong>那么怎样解决跨域问题的呢？</strong></p><ul><li><strong>通过jsonp跨域</strong></li></ul><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> script = <span class="built_in">document</span>.createElement(<span class="string">&#x27;script&#x27;</span>);</span><br><span class="line">script.type = <span class="string">&#x27;text/javascript&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 传参并指定回调执行函数为onBack</span></span><br><span class="line">script.src = <span class="string">&#x27;http://www.....:8080/login?user=admin&amp;callback=onBack&#x27;</span>;</span><br><span class="line"><span class="built_in">document</span>.head.appendChild(script);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 回调执行函数</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">onBack</span>(<span class="params">res</span>) </span>&#123;</span><br><span class="line">    alert(<span class="built_in">JSON</span>.stringify(res));</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li><strong>document.domain + iframe跨域</strong></li></ul><blockquote><p>此方案仅限主域相同，子域不同的跨域应用场景</p></blockquote><p>1.）父窗口：(<a href="http://www.domain.com/a.html">http://www.domain.com/a.html</a>)</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">iframe</span> <span class="attr">id</span>=<span class="string">&quot;iframe&quot;</span> <span class="attr">src</span>=<span class="string">&quot;http://child.domain.com/b.html&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">iframe</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">    <span class="built_in">document</span>.domain = <span class="string">&#x27;domain.com&#x27;</span>;</span></span><br><span class="line"><span class="javascript">    <span class="keyword">var</span> user = <span class="string">&#x27;admin&#x27;</span>;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><p>2.）子窗口：(<a href="http://child.domain.com/b.html">http://child.domain.com/b.html</a>)</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">document</span>.domain = <span class="string">&#x27;domain.com&#x27;</span>;</span><br><span class="line"><span class="comment">// 获取父窗口中变量</span></span><br><span class="line">alert(<span class="string">&#x27;get js data from parent ---&gt; &#x27;</span> + <span class="built_in">window</span>.parent.user);</span><br></pre></td></tr></table></figure><ul><li><strong>nginx代理跨域</strong></li><li><strong>nodejs中间件代理跨域</strong></li><li><strong>后端在头部信息里面设置安全域名</strong></li></ul><h3 id="11-模块化开发怎么做？"><a href="#11-模块化开发怎么做？" class="headerlink" title="11 模块化开发怎么做？"></a>11 模块化开发怎么做？</h3><ul><li>立即执行函数,不暴露私有成员</li></ul><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> module1 = (<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">　　　　<span class="keyword">var</span> _count = <span class="number">0</span>;</span><br><span class="line">　　　　<span class="keyword">var</span> m1 = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">　　　　　　<span class="comment">//...</span></span><br><span class="line">　　　　&#125;;</span><br><span class="line">　　　　<span class="keyword">var</span> m2 = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">　　　　　　<span class="comment">//...</span></span><br><span class="line">　　　　&#125;;</span><br><span class="line">　　　　<span class="keyword">return</span> &#123;</span><br><span class="line">　　　　　　m1 : m1,</span><br><span class="line">　　　　　　m2 : m2</span><br><span class="line">　　　　&#125;;</span><br><span class="line">&#125;)();</span><br></pre></td></tr></table></figure><h3 id="12-异步加载JS的方式有哪些？"><a href="#12-异步加载JS的方式有哪些？" class="headerlink" title="12 异步加载JS的方式有哪些？"></a>12 异步加载JS的方式有哪些？</h3><ul><li>设置<code>&lt;script&gt;</code>属性 async=”async” （一旦脚本可用，则会异步执行）</li><li>动态创建 <code>script DOM</code>：<code>document.createElement(&#39;script&#39;);</code></li><li><code>XmlHttpRequest</code> 脚本注入</li><li>异步加载库 <code>LABjs</code></li><li>模块加载器 <code>Sea.js</code></li></ul><h3 id="13-那些操作会造成内存泄漏？"><a href="#13-那些操作会造成内存泄漏？" class="headerlink" title="13 那些操作会造成内存泄漏？"></a>13 那些操作会造成内存泄漏？</h3><blockquote><p>JavaScript 内存泄露指对象在不需要使用它时仍然存在，导致占用的内存不能使用或回收</p></blockquote><ul><li>未使用 var 声明的全局变量</li><li>闭包函数(Closures)</li><li>循环引用(两个对象相互引用)</li><li>控制台日志(console.log)</li><li>移除存在绑定事件的DOM元素(IE)</li><li><code>setTimeout</code> 的第一个参数使用字符串而非函数的话，会引发内存泄漏</li><li>垃圾回收器定期扫描对象，并计算引用了每个对象的其他对象的数量。如果一个对象的引用数量为 0（没有其他对象引用过该对象），或对该对象的惟一引用是循环的，那么该对象的内存即可回收</li></ul><h3 id="14-XML和JSON的区别？"><a href="#14-XML和JSON的区别？" class="headerlink" title="14 XML和JSON的区别？"></a>14 XML和JSON的区别？</h3><ul><li>数据体积方面<ul><li><code>JSON</code>相对<code>于XML</code>来讲，数据的体积小，传递的速度更快些。</li></ul></li><li>数据交互方面<ul><li><code>JSON</code>与<code>JavaScript</code>的交互更加方便，更容易解析处理，更好的数据交互</li></ul></li><li>数据描述方面<ul><li><code>JSON</code>对数据的描述性比<code>XML</code>较差</li></ul></li><li>传输速度方面<ul><li><code>JSON</code>的速度要远远快于<code>XML</code></li></ul></li></ul><h3 id="15-谈谈你对webpack的看法"><a href="#15-谈谈你对webpack的看法" class="headerlink" title="15 谈谈你对webpack的看法"></a>15 谈谈你对webpack的看法</h3><ul><li><code>WebPack</code> 是一个模块打包工具，你可以使用<code>WebPack</code>管理你的模块依赖，并编绎输出模块们所需的静态文件。它能够很好地管理、打包<code>Web</code>开发中所用到的<code>HTML</code>、<code>Javascript</code>、<code>CSS</code>以及各种静态文件（图片、字体等），让开发过程更加高效。对于不同类型的资源，<code>webpack</code>有对应的模块加载器。<code>webpack</code>模块打包器会分析模块间的依赖关系，最后 生成了优化且合并后的静态资源</li></ul><h3 id="16-说说你对AMD和Commonjs的理解"><a href="#16-说说你对AMD和Commonjs的理解" class="headerlink" title="16 说说你对AMD和Commonjs的理解"></a>16 说说你对AMD和Commonjs的理解</h3><ul><li><code>CommonJS</code>是服务器端模块的规范，<code>Node.js</code>采用了这个规范。<code>CommonJS</code>规范加载模块是同步的，也就是说，只有加载完成，才能执行后面的操作。<code>AMD</code>规范则是非同步加载模块，允许指定回调函数</li><li><code>AMD</code>推荐的风格通过返回一个对象做为模块对象，<code>CommonJS</code>的风格通过对<code>module.exports</code>或<code>exports</code>的属性赋值来达到暴露模块对象的目的</li></ul><h3 id="17-常见web安全及防护原理"><a href="#17-常见web安全及防护原理" class="headerlink" title="17 常见web安全及防护原理"></a>17 常见web安全及防护原理</h3><ul><li><code>sql</code>注入原理<ul><li>就是通过把<code>SQL</code>命令插入到<code>Web</code>表单递交或输入域名或页面请求的查询字符串，最终达到欺骗服务器执行恶意的SQL命令</li></ul></li><li>总的来说有以下几点<ul><li>永远不要信任用户的输入，要对用户的输入进行校验，可以通过正则表达式，或限制长度，对单引号和双<code>&quot;-&quot;</code>进行转换等</li><li>永远不要使用动态拼装SQL，可以使用参数化的<code>SQL</code>或者直接使用存储过程进行数据查询存取</li><li>永远不要使用管理员权限的数据库连接，为每个应用使用单独的权限有限的数据库连接</li><li>不要把机密信息明文存放，请加密或者<code>hash</code>掉密码和敏感的信息</li></ul></li></ul><p><strong>XSS原理及防范</strong></p><ul><li><code>Xss(cross-site scripting)</code>攻击指的是攻击者往<code>Web</code>页面里插入恶意<code>html</code>标签或者<code>javascript</code>代码。比如：攻击者在论坛中放一个看似安全的链接，骗取用户点击后，窃取<code>cookie</code>中的用户私密信息；或者攻击者在论坛中加一个恶意表单，当用户提交表单的时候，却把信息传送到攻击者的服务器中，而不是用户原本以为的信任站点</li></ul><p><strong>XSS防范方法</strong></p><ul><li>首先代码里对用户输入的地方和变量都需要仔细检查长度和对<code>”&lt;”,”&gt;”,”;”,”’”</code>等字符做过滤；其次任何内容写到页面之前都必须加以encode，避免不小心把<code>html tag</code> 弄出来。这一个层面做好，至少可以堵住超过一半的XSS 攻击</li></ul><p><strong>XSS与CSRF有什么区别吗？</strong></p><ul><li><code>XSS</code>是获取信息，不需要提前知道其他用户页面的代码和数据包。<code>CSRF</code>是代替用户完成指定的动作，需要知道其他用户页面的代码和数据包。要完成一次<code>CSRF</code>攻击，受害者必须依次完成两个步骤</li><li>登录受信任网站<code>A</code>，并在本地生成<code>Cookie</code></li><li>在不登出<code>A</code>的情况下，访问危险网站<code>B</code></li></ul><p><strong>CSRF的防御</strong></p><ul><li>服务端的<code>CSRF</code>方式方法很多样，但总的思想都是一致的，就是在客户端页面增加伪随机数</li><li>通过验证码的方法</li></ul><h3 id="18-用过哪些设计模式？"><a href="#18-用过哪些设计模式？" class="headerlink" title="18 用过哪些设计模式？"></a>18 用过哪些设计模式？</h3><ul><li>工厂模式：<ul><li>工厂模式解决了重复实例化的问题，但还有一个问题,那就是识别问题，因为根本无法</li><li>主要好处就是可以消除对象间的耦合，通过使用工程方法而不是<code>new</code>关键字</li></ul></li><li>构造函数模式<ul><li>使用构造函数的方法，即解决了重复实例化的问题，又解决了对象识别的问题，该模式与工厂模式的不同之处在于</li><li>直接将属性和方法赋值给 <code>this</code>对象;</li></ul></li></ul><h3 id="19-为什么要有同源限制？"><a href="#19-为什么要有同源限制？" class="headerlink" title="19 为什么要有同源限制？"></a>19 为什么要有同源限制？</h3><ul><li>同源策略指的是：协议，域名，端口相同，同源策略是一种安全协议</li><li>举例说明：比如一个黑客程序，他利用<code>Iframe</code>把真正的银行登录页面嵌到他的页面上，当你使用真实的用户名，密码登录时，他的页面就可以通过<code>Javascript</code>读取到你的表单中<code>input</code>中的内容，这样用户名，密码就轻松到手了。</li></ul><h3 id="20-常见兼容性问题？"><a href="#20-常见兼容性问题？" class="headerlink" title="20 常见兼容性问题？"></a>20 常见兼容性问题？</h3><ul><li><code>png24</code>位的图片在iE6浏览器上出现背景，解决方案是做成<code>PNG8</code></li><li>浏览器默认的<code>margin</code>和<code>padding</code>不同。解决方案是加一个全局的<code>*&#123;margin:0;padding:0;&#125;</code>来统一,，但是全局效率很低，一般是如下这样解决：</li></ul><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">body</span>,<span class="selector-tag">ul</span>,<span class="selector-tag">li</span>,<span class="selector-tag">ol</span>,<span class="selector-tag">dl</span>,<span class="selector-tag">dt</span>,<span class="selector-tag">dd</span>,<span class="selector-tag">form</span>,<span class="selector-tag">input</span>,<span class="selector-tag">h1</span>,<span class="selector-tag">h2</span>,<span class="selector-tag">h3</span>,<span class="selector-tag">h4</span>,<span class="selector-tag">h5</span>,<span class="selector-tag">h6</span>,<span class="selector-tag">p</span>&#123;</span><br><span class="line"><span class="attribute">margin</span>:<span class="number">0</span>;</span><br><span class="line"><span class="attribute">padding</span>:<span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li><code>IE</code>下,<code>event</code>对象有<code>x</code>,<code>y</code>属性,但是没有<code>pageX</code>,<code>pageY</code>属性</li><li><code>Firefox</code>下,<code>event</code>对象有<code>pageX</code>,<code>pageY</code>属性,但是没有<code>x,y</code>属性.</li></ul><h3 id="21-说说你对promise的了解"><a href="#21-说说你对promise的了解" class="headerlink" title="21 说说你对promise的了解"></a>21 说说你对promise的了解</h3><ul><li>依照 <code>Promise/A+</code> 的定义，<code>Promise</code> 有四种状态：<ul><li><code>pending:</code> 初始状态, 非 <code>fulfilled</code> 或 <code>rejected.</code></li><li><code>fulfilled:</code> 成功的操作.</li><li><code>rejected:</code> 失败的操作.</li><li><code>settled: Promise</code>已被<code>fulfilled</code>或<code>rejected</code>，且不是<code>pending</code></li></ul></li><li>另外， <code>fulfilled</code>与 <code>rejected</code>一起合称 <code>settled</code></li><li><code>Promise</code> 对象用来进行延迟(<code>deferred</code>) 和异步(<code>asynchronous</code>) 计算</li></ul><p><strong>Promise 的构造函数</strong></p><ul><li>构造一个 <code>Promise</code>，最基本的用法如下：</li></ul><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> promise = <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function"><span class="keyword">function</span>(<span class="params">resolve, reject</span>) </span>&#123;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (...) &#123;  <span class="comment">// succeed</span></span><br><span class="line"></span><br><span class="line">            resolve(result);</span><br><span class="line"></span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;   <span class="comment">// fails</span></span><br><span class="line"></span><br><span class="line">            reject(<span class="built_in">Error</span>(errMessage));</span><br><span class="line"></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;);</span><br></pre></td></tr></table></figure><ul><li><code>Promise</code> 实例拥有 <code>then</code> 方法（具有 <code>then</code> 方法的对象，通常被称为<code>thenable</code>）。它的使用方法如下：</li></ul><figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">promise.then(onFulfilled, onRejected)</span><br></pre></td></tr></table></figure><ul><li>接收两个函数作为参数，一个在 <code>fulfilled</code> 的时候被调用，一个在<code>rejected</code>的时候被调用，接收参数就是 <code>future</code>，<code>onFulfilled</code> 对应<code>resolve</code>, <code>onRejected</code>对应 <code>reject</code></li></ul><h3 id="22-你觉得jQuery源码有哪些写的好的地方"><a href="#22-你觉得jQuery源码有哪些写的好的地方" class="headerlink" title="22 你觉得jQuery源码有哪些写的好的地方"></a>22 你觉得jQuery源码有哪些写的好的地方</h3><ul><li><code>jquery</code>源码封装在一个匿名函数的自执行环境中，有助于防止变量的全局污染，然后通过传入<code>window</code>对象参数，可以使<code>window</code>对象作为局部变量使用，好处是当<code>jquery</code>中访问<code>window</code>对象的时候，就不用将作用域链退回到顶层作用域了，从而可以更快的访问window对象。同样，传入<code>undefined</code>参数，可以缩短查找<code>undefined</code>时的作用域链</li><li><code>jquery</code>将一些原型属性和方法封装在了<code>jquery.prototype</code>中，为了缩短名称，又赋值给了<code>jquery.fn</code>，这是很形象的写法</li><li>有一些数组或对象的方法经常能使用到，<code>jQuery</code>将其保存为局部变量以提高访问速度</li><li><code>jquery</code>实现的链式调用可以节约代码，所返回的都是同一个对象，可以提高代码效率</li></ul><h3 id="23-vue、react、angular"><a href="#23-vue、react、angular" class="headerlink" title="23 vue、react、angular"></a>23 vue、react、angular</h3><ul><li><code>Vue.js</code> 一个用于创建 <code>web</code> 交互界面的库，是一个精简的 <code>MVVM</code>。它通过双向数据绑定把 <code>View</code> 层和 <code>Model</code> 层连接了起来。实际的 <code>DOM</code> 封装和输出格式都被抽象为了<code>Directives</code> 和 <code>Filters</code></li><li><code>AngularJS</code> 是一个比较完善的前端<code>MVVM</code>框架，包含模板，数据双向绑定，路由，模块化，服务，依赖注入等所有功能，模板功能强大丰富，自带了丰富的 <code>Angular</code>指令</li><li><code>react</code> <code>React</code> 仅仅是 <code>VIEW</code> 层是<code>facebook</code>公司。推出的一个用于构建<code>UI</code>的一个库，能够实现服务器端的渲染。用了<code>virtual dom</code>，所以性能很好。</li></ul><h3 id="24-Node的应用场景"><a href="#24-Node的应用场景" class="headerlink" title="24 Node的应用场景"></a>24 Node的应用场景</h3><ul><li>特点：<ul><li>1、它是一个<code>Javascript</code>运行环境</li><li>2、依赖于<code>Chrome V8</code>引擎进行代码解释</li><li>3、事件驱动</li><li>4、非阻塞<code>I/O</code></li><li>5、单进程，单线程</li></ul></li><li>优点：<ul><li>高并发（最重要的优点）</li></ul></li><li>缺点：<ul><li>1、只支持单核<code>CPU</code>，不能充分利用<code>CPU</code></li><li>2、可靠性低，一旦代码某个环节崩溃，整个系统都崩溃</li></ul></li></ul><h3 id="27-谈谈你对AMD、CMD的理解"><a href="#27-谈谈你对AMD、CMD的理解" class="headerlink" title="27 谈谈你对AMD、CMD的理解"></a>27 谈谈你对AMD、CMD的理解</h3><ul><li><code>CommonJS</code>是服务器端模块的规范，<code>Node.js</code>采用了这个规范。<code>CommonJS</code>规范加载模块是同步的，也就是说，只有加载完成，才能执行后面的操作。<code>AMD</code>规范则是非同步加载模块，允许指定回调函数</li><li><code>AMD</code>推荐的风格通过返回一个对象做为模块对象，<code>CommonJS</code>的风格通过对<code>module.exports</code>或<code>exports</code>的属性赋值来达到暴露模块对象的目的</li></ul><p><strong>es6模块 CommonJS、AMD、CMD</strong></p><ul><li><code>CommonJS</code> 的规范中，每个 <code>JavaScript</code> 文件就是一个独立的模块上下文（<code>module context</code>），在这个上下文中默认创建的属性都是私有的。也就是说，在一个文件定义的变量（还包括函数和类），都是私有的，对其他文件是不可见的。</li><li><code>CommonJS</code>是同步加载模块,在浏览器中会出现堵塞情况，所以不适用</li><li><code>AMD</code> 异步，需要定义回调<code>define</code>方式</li><li><code>es6</code> 一个模块就是一个独立的文件，该文件内部的所有变量，外部无法获取。如果你希望外部能够读取模块内部的某个变量，就必须使用<code>export</code>关键字输出该变量 <code>es6</code>还可以导出类、方法，自动适用严格模式</li></ul><h3 id="28-那些操作会造成内存泄漏"><a href="#28-那些操作会造成内存泄漏" class="headerlink" title="28 那些操作会造成内存泄漏"></a>28 那些操作会造成内存泄漏</h3><ul><li>内存泄漏指任何对象在您不再拥有或需要它之后仍然存在</li><li><code>setTimeout</code> 的第一个参数使用字符串而非函数的话，会引发内存泄漏</li><li>闭包、控制台日志、循环（在两个对象彼此引用且彼此保留时，就会产生一个循环）</li></ul><h3 id="29-web开发中会话跟踪的方法有哪些"><a href="#29-web开发中会话跟踪的方法有哪些" class="headerlink" title="29 web开发中会话跟踪的方法有哪些"></a>29 web开发中会话跟踪的方法有哪些</h3><p><code>cookie</code>、<code>session</code>、<code>url</code>、重写隐藏<code>input</code>、<code>ip</code>地址</p><h3 id="30-JS的基本数据类型和引用数据类型"><a href="#30-JS的基本数据类型和引用数据类型" class="headerlink" title="30 JS的基本数据类型和引用数据类型"></a>30 JS的基本数据类型和引用数据类型</h3><ul><li>基本数据类型：<code>undefined</code>、<code>null</code>、<code>boolean</code>、<code>number</code>、<code>string</code>、<code>symbol</code></li><li>引用数据类型：<code>object</code>、<code>array</code>、<code>function</code></li></ul><h3 id="31-介绍js有哪些内置对象"><a href="#31-介绍js有哪些内置对象" class="headerlink" title="31 介绍js有哪些内置对象"></a>31 介绍js有哪些内置对象</h3><ul><li><code>Object</code> 是 <code>JavaScript</code> 中所有对象的父对象</li><li>数据封装类对象：<code>Object</code>、<code>Array</code>、<code>Boolean</code>、<code>Number</code> 和 <code>String</code></li><li>其他对象：<code>Function</code>、<code>Arguments</code>、<code>Math</code>、<code>Date</code>、<code>RegExp</code>、<code>Error</code></li></ul><h3 id="32-说几条写JavaScript的基本规范"><a href="#32-说几条写JavaScript的基本规范" class="headerlink" title="32 说几条写JavaScript的基本规范"></a>32 说几条写JavaScript的基本规范</h3><ul><li>不要在同一行声明多个变量</li><li>请使用<code>===/!==</code>来比较<code>true/false</code>或者数值</li><li>使用对象字面量替代<code>new Array</code>这种形式</li><li>不要使用全局函数</li><li><code>Switch</code>语句必须带有<code>default</code>分支</li><li><code>If</code>语句必须使用大括号</li><li><code>for-in</code>循环中的变量 应该使用<code>var</code>关键字明确限定作用域，从而避免作用域污</li></ul><h3 id="33-JavaScript有几种类型的值"><a href="#33-JavaScript有几种类型的值" class="headerlink" title="33 JavaScript有几种类型的值"></a>33 JavaScript有几种类型的值</h3><ul><li>栈：原始数据类型（<code>Undefined</code>，<code>Null</code>，<code>Boolean</code>，<code>Number</code>、<code>String</code>）</li><li>堆：引用数据类型（对象、数组和函数）</li><li>两种类型的区别是：存储位置不同；</li><li>原始数据类型直接存储在栈(<code>stack</code>)中的简单数据段，占据空间小、大小固定，属于被频繁使用数据，所以放入栈中存储；</li><li>引用数据类型存储在堆(<code>heap</code>)中的对象,占据空间大、大小不固定,如果存储在栈中，将会影响程序运行的性能；引用数据类型在栈中存储了指针，该指针指向堆中该实体的起始地址。当解释器寻找引用值时，会首先检索其</li><li>在栈中的地址，取得地址后从堆中获得实体</li></ul><h3 id="34-javascript创建对象的几种方式"><a href="#34-javascript创建对象的几种方式" class="headerlink" title="34 javascript创建对象的几种方式"></a>34 javascript创建对象的几种方式</h3><blockquote><p><code>javascript</code>创建对象简单的说,无非就是使用内置对象或各种自定义对象，当然还可以用<code>JSON</code>；但写法有很多种，也能混合使用</p></blockquote><ul><li>对象字面量的方式</li></ul><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">person=&#123;<span class="attr">firstname</span>:<span class="string">&quot;Mark&quot;</span>,<span class="attr">lastname</span>:<span class="string">&quot;Yun&quot;</span>,<span class="attr">age</span>:<span class="number">25</span>,<span class="attr">eyecolor</span>:<span class="string">&quot;black&quot;</span>&#125;;</span><br></pre></td></tr></table></figure><ul><li>用<code>function</code>来模拟无参的构造函数</li></ul><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Person</span>(<span class="params"></span>)</span>&#123;&#125;</span><br><span class="line"><span class="keyword">var</span> person=<span class="keyword">new</span> Person();<span class="comment">//定义一个function，如果使用new&quot;实例化&quot;,该function可以看作是一个Class</span></span><br><span class="line">        person.name=<span class="string">&quot;Mark&quot;</span>;</span><br><span class="line">        person.age=<span class="string">&quot;25&quot;</span>;</span><br><span class="line">        person.work=<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        alert(person.name+<span class="string">&quot; hello...&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line">person.work();</span><br></pre></td></tr></table></figure><ul><li>用<code>function</code>来模拟参构造函数来实现（用<code>this</code>关键字定义构造的上下文属性）</li></ul><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Pet</span>(<span class="params">name,age,hobby</span>)</span>&#123;</span><br><span class="line">       <span class="built_in">this</span>.name=name;<span class="comment">//this作用域：当前对象</span></span><br><span class="line">       <span class="built_in">this</span>.age=age;</span><br><span class="line">       <span class="built_in">this</span>.hobby=hobby;</span><br><span class="line">       <span class="built_in">this</span>.eat=<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">           alert(<span class="string">&quot;我叫&quot;</span>+<span class="built_in">this</span>.name+<span class="string">&quot;,我喜欢&quot;</span>+<span class="built_in">this</span>.hobby+<span class="string">&quot;,是个程序员&quot;</span>);</span><br><span class="line">       &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> maidou =<span class="keyword">new</span> Pet(<span class="string">&quot;麦兜&quot;</span>,<span class="number">25</span>,<span class="string">&quot;coding&quot;</span>);<span class="comment">//实例化、创建对象</span></span><br><span class="line">maidou.eat();<span class="comment">//调用eat方法</span></span><br></pre></td></tr></table></figure><ul><li>用工厂方式来创建（内置对象）</li></ul><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> wcDog =<span class="keyword">new</span> <span class="built_in">Object</span>();</span><br><span class="line">     wcDog.name=<span class="string">&quot;旺财&quot;</span>;</span><br><span class="line">     wcDog.age=<span class="number">3</span>;</span><br><span class="line">     wcDog.work=<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">       alert(<span class="string">&quot;我是&quot;</span>+wcDog.name+<span class="string">&quot;,汪汪汪......&quot;</span>);</span><br><span class="line">     &#125;</span><br><span class="line">     wcDog.work();</span><br></pre></td></tr></table></figure><ul><li>用原型方式来创建</li></ul><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Dog</span>(<span class="params"></span>)</span>&#123;&#125;</span><br><span class="line">Dog.prototype.name=<span class="string">&quot;旺财&quot;</span>;</span><br><span class="line">Dog.prototype.eat=<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">alert(<span class="built_in">this</span>.name+<span class="string">&quot;是个吃货&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> wangcai =<span class="keyword">new</span> Dog();</span><br><span class="line">wangcai.eat();</span><br></pre></td></tr></table></figure><ul><li>用混合方式来创建</li></ul><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Car</span>(<span class="params">name,price</span>)</span>&#123;</span><br><span class="line"><span class="built_in">this</span>.name=name;</span><br><span class="line"><span class="built_in">this</span>.price=price;</span><br><span class="line">&#125;</span><br><span class="line">Car.prototype.sell=<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">alert(<span class="string">&quot;我是&quot;</span>+<span class="built_in">this</span>.name+<span class="string">&quot;，我现在卖&quot;</span>+<span class="built_in">this</span>.price+<span class="string">&quot;万元&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> camry =<span class="keyword">new</span> Car(<span class="string">&quot;凯美瑞&quot;</span>,<span class="number">27</span>);</span><br><span class="line">camry.sell();</span><br></pre></td></tr></table></figure><h3 id="35-eval是做什么的"><a href="#35-eval是做什么的" class="headerlink" title="35 eval是做什么的"></a>35 eval是做什么的</h3><ul><li>它的功能是把对应的字符串解析成<code>JS</code>代码并运行</li><li>应该避免使用<code>eval</code>，不安全，非常耗性能（<code>2</code>次，一次解析成<code>js</code>语句，一次执行）</li><li>由<code>JSON</code>字符串转换为JSON对象的时候可以用<code>eval，var obj =eval(&#39;(&#39;+ str +&#39;)&#39;)</code></li></ul><h3 id="36-null，undefined-的区别"><a href="#36-null，undefined-的区别" class="headerlink" title="36 null，undefined 的区别"></a>36 null，undefined 的区别</h3><ul><li><code>undefined</code>   表示不存在这个值。</li><li><code>undefined</code> :是一个表示”无”的原始值或者说表示”缺少值”，就是此处应该有一个值，但是还没有定义。当尝试读取时会返回 <code>undefined</code></li><li>例如变量被声明了，但没有赋值时，就等于<code>undefined</code></li><li><code>null</code> 表示一个对象被定义了，值为“空值”</li><li><code>null</code> : 是一个对象(空对象, 没有任何属性和方法)</li><li>例如作为函数的参数，表示该函数的参数不是对象；</li><li>在验证<code>null</code>时，一定要使用　<code>===</code> ，因为 <code>==</code>无法分别<code>null</code> 和　<code>undefined</code></li></ul><h3 id="39-JSON-的了解"><a href="#39-JSON-的了解" class="headerlink" title="39 JSON 的了解"></a>39 JSON 的了解</h3><ul><li><code>JSON(JavaScript Object Notation)</code> 是一种轻量级的数据交换格式</li><li>它是基于<code>JavaScript</code>的一个子集。数据格式简单, 易于读写, 占用带宽小</li><li><code>JSON</code>字符串转换为JSON对象:</li></ul><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> obj =<span class="built_in">eval</span>(<span class="string">&#x27;(&#x27;</span>+ str +<span class="string">&#x27;)&#x27;</span>);</span><br><span class="line"><span class="keyword">var</span> obj = str.parseJSON();</span><br><span class="line"><span class="keyword">var</span> obj = <span class="built_in">JSON</span>.parse(str);</span><br></pre></td></tr></table></figure><ul><li><code>JSON</code>对象转换为JSON字符串：</li></ul><figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">var last=obj.toJSONString();</span><br><span class="line">var last=JSON.stringify(obj);</span><br></pre></td></tr></table></figure><h3 id="40-js延迟加载的方式有哪些"><a href="#40-js延迟加载的方式有哪些" class="headerlink" title="40 js延迟加载的方式有哪些"></a>40 js延迟加载的方式有哪些</h3><ul><li>设置<code>&lt;script&gt;</code>属性 <code>defer=&quot;defer&quot;</code> （脚本将在页面完成解析时执行）</li><li>动态创建 <code>script DOM</code>：<code>document.createElement(&#39;script&#39;);</code></li><li><code>XmlHttpRequest</code> 脚本注入</li><li>延迟加载工具 <code>LazyLoad</code></li></ul><h3 id="43-defer和async"><a href="#43-defer和async" class="headerlink" title="43 defer和async"></a>43 defer和async</h3><ul><li><code>defer</code>并行加载<code>js</code>文件，会按照页面上<code>script</code>标签的顺序执行</li><li><code>async</code>并行加载<code>js</code>文件，下载完成立即执行，不会按照页面上<code>script</code>标签的顺序执行</li></ul><h3 id="44-说说严格模式的限制"><a href="#44-说说严格模式的限制" class="headerlink" title="44 说说严格模式的限制"></a>44 说说严格模式的限制</h3><ul><li>变量必须声明后再使用</li><li>函数的参数不能有同名属性，否则报错</li><li>不能使用with语句</li><li>不能对只读属性赋值，否则报错</li><li>不能使用前缀0表示八进制数，否则报错</li><li>不能删除不可删除的属性，否则报错</li><li>不能删除变量<code>delete prop</code>，会报错，只能删除属性<code>delete global[prop]</code></li><li><code>eval</code>不会在它的外层作用域引入变量</li><li><code>eval</code>和<code>arguments</code>不能被重新赋值</li><li><code>arguments</code>不会自动反映函数参数的变化</li><li>不能使用<code>arguments.callee</code></li><li>不能使用<code>arguments.caller</code></li><li>禁止<code>this</code>指向全局对象</li><li>不能使用<code>fn.caller</code>和<code>fn.arguments</code>获取函数调用的堆栈</li><li>增加了保留字（比如<code>protected</code>、<code>static</code>和<code>interface</code>）</li></ul><h3 id="45-attribute和property的区别是什么"><a href="#45-attribute和property的区别是什么" class="headerlink" title="45 attribute和property的区别是什么"></a>45 attribute和property的区别是什么</h3><ul><li><code>attribute</code>是<code>dom</code>元素在文档中作为<code>html</code>标签拥有的属性；</li><li><code>property</code>就是<code>dom</code>元素在<code>js</code>中作为对象拥有的属性。</li><li>对于<code>html</code>的标准属性来说，<code>attribute</code>和<code>property</code>是同步的，是会自动更新的</li><li>但是对于自定义的属性来说，他们是不同步的</li></ul><h3 id="46-谈谈你对ES6的理解"><a href="#46-谈谈你对ES6的理解" class="headerlink" title="46 谈谈你对ES6的理解"></a>46 谈谈你对ES6的理解</h3><ul><li>新增模板字符串（为<code>JavaScript</code>提供了简单的字符串插值功能）</li><li>箭头函数</li><li><code>for-of</code>（用来遍历数据—例如数组中的值。）</li><li><code>arguments</code>对象可被不定参数和默认参数完美代替。</li><li><code>ES6</code>将p<code>romise</code>对象纳入规范，提供了原生的<code>Promise</code>对象。</li><li>增加了<code>let</code>和<code>const</code>命令，用来声明变量。</li><li>增加了块级作用域。</li><li><code>let</code>命令实际上就增加了块级作用域。</li><li>还有就是引入<code>module</code>模块的概念</li></ul><h3 id="52-谈一谈let与var的区别"><a href="#52-谈一谈let与var的区别" class="headerlink" title="52 谈一谈let与var的区别"></a>52 谈一谈let与var的区别</h3><ul><li><code>let</code>命令不存在变量提升，如果在<code>let</code>前使用，会导致报错</li><li>如果块区中存在<code>let</code>和<code>const</code>命令，就会形成封闭作用域</li><li>不允许重复声明，因此，不能在函数内部重新声明参数</li></ul><h3 id="53-map与forEach的区别"><a href="#53-map与forEach的区别" class="headerlink" title="53 map与forEach的区别"></a>53 map与forEach的区别</h3><ul><li><code>forEach</code>方法，是最基本的方法，就是遍历与循环，默认有3个传参：分别是遍历的数组内容<code>item</code>、数组索引<code>index</code>、和当前遍历数组<code>Array</code></li><li><code>map</code>方法，基本用法与<code>forEach</code>一致，但是不同的，它会返回一个新的数组，所以在callback需要有<code>return</code>值，如果没有，会返回<code>undefined</code></li></ul><h3 id="55-谈一谈箭头函数与普通函数的区别？"><a href="#55-谈一谈箭头函数与普通函数的区别？" class="headerlink" title="55 谈一谈箭头函数与普通函数的区别？"></a>55 谈一谈箭头函数与普通函数的区别？</h3><ul><li>函数体内的<code>this</code>对象，就是定义时所在的对象，而不是使用时所在的对象</li><li>不可以当作构造函数，也就是说，不可以使用<code>new</code>命令，否则会抛出一个错误</li><li>不可以使用<code>arguments</code>对象，该对象在函数体内不存在。如果要用，可以用<code>Rest</code>参数代替</li><li>不可以使用<code>yield</code>命令，因此箭头函数不能用作<code>Generator</code>函数</li></ul><h3 id="57-异步编程的实现方式"><a href="#57-异步编程的实现方式" class="headerlink" title="57 异步编程的实现方式"></a>57 异步编程的实现方式</h3><ul><li>回调函数<ul><li>优点：简单、容易理解</li><li>缺点：不利于维护，代码耦合高</li></ul></li><li>事件监听(采用时间驱动模式，取决于某个事件是否发生)：<ul><li>优点：容易理解，可以绑定多个事件，每个事件可以指定多个回调函数</li><li>缺点：事件驱动型，流程不够清晰</li></ul></li><li>发布/订阅(观察者模式)<ul><li>类似于事件监听，但是可以通过‘消息中心’，了解现在有多少发布者，多少订阅者</li></ul></li><li>Promise对象<ul><li>优点：可以利用then方法，进行链式写法；可以书写错误时的回调函数；</li><li>缺点：编写和理解，相对比较难</li></ul></li><li>Generator函数<ul><li>优点：函数体内外的数据交换、错误处理机制</li><li>缺点：流程管理不方便</li></ul></li><li>async函数<ul><li>优点：内置执行器、更好的语义、更广的适用性、返回的是Promise、结构清晰。</li><li>缺点：错误处理机制</li></ul></li></ul><h3 id="58-对原生Javascript了解程度"><a href="#58-对原生Javascript了解程度" class="headerlink" title="58 对原生Javascript了解程度"></a>58 对原生Javascript了解程度</h3><ul><li>数据类型、运算、对象、Function、继承、闭包、作用域、原型链、事件、<code>RegExp</code>、<code>JSON</code>、<code>Ajax</code>、<code>DOM</code>、<code>BOM</code>、内存泄漏、跨域、异步装载、模板引擎、前端<code>MVC</code>、路由、模块化、<code>Canvas</code>、<code>ECMAScript</code></li></ul><h3 id="59-Js动画与CSS动画区别及相应实现"><a href="#59-Js动画与CSS动画区别及相应实现" class="headerlink" title="59 Js动画与CSS动画区别及相应实现"></a>59 Js动画与CSS动画区别及相应实现</h3><ul><li>```<br>CSS3<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">  的动画的优点</span><br><span class="line"></span><br><span class="line">  - 在性能上会稍微好一些，浏览器会对&#96;CSS3&#96;的动画做一些优化</span><br><span class="line">  - 代码相对简单</span><br><span class="line"></span><br><span class="line">- 缺点</span><br><span class="line"></span><br><span class="line">  - 在动画控制上不够灵活</span><br><span class="line">  - 兼容性不好</span><br><span class="line"></span><br><span class="line">- &#96;JavaScript&#96;的动画正好弥补了这两个缺点，控制能力很强，可以单帧的控制、变换，同时写得好完全可以兼容&#96;IE6&#96;，并且功能强大。对于一些复杂控制的动画，使用&#96;javascript&#96;会比较靠谱。而在实现一些小的交互动效的时候，就多考虑考虑&#96;CSS&#96;吧</span><br><span class="line"></span><br><span class="line">### 60 JS 数组和对象的遍历方式，以及几种方式的比较</span><br><span class="line"></span><br><span class="line">&gt; 通常我们会用循环的方式来遍历数组。但是循环是 导致js 性能问题的原因之一。一般我们会采用下几种方式来进行数组的遍历</span><br><span class="line"></span><br><span class="line">- &#96;for in&#96;循环</span><br><span class="line">- &#96;for&#96;循环</span><br><span class="line">- &#96;forEach&#96;</span><br><span class="line">  - 这里的 &#96;forEach&#96;回调中两个参数分别为 &#96;value&#96;，&#96;index&#96;</span><br><span class="line">  - &#96;forEach&#96; 无法遍历对象</span><br><span class="line">  - IE不支持该方法；&#96;Firefox&#96; 和 &#96;chrome&#96; 支持</span><br><span class="line">  - &#96;forEach&#96; 无法使用 &#96;break&#96;，&#96;continue&#96; 跳出循环，且使用 &#96;return&#96; 是跳过本次循环</span><br><span class="line">- 这两种方法应该非常常见且使用很频繁。但实际上，这两种方法都存在性能问题</span><br><span class="line">- 在方式一中，&#96;for-in&#96;需要分析出&#96;array&#96;的每个属性，这个操作性能开销很大。用在 &#96;key&#96; 已知的数组上是非常不划算的。所以尽量不要用&#96;for-in&#96;，除非你不清楚要处理哪些属性，例如 &#96;JSON&#96;对象这样的情况</span><br><span class="line">- 在方式2中，循环每进行一次，就要检查一下数组长度。读取属性（数组长度）要比读局部变量慢，尤其是当 &#96;array&#96; 里存放的都是 &#96;DOM&#96; 元素，因为每次读取都会扫描一遍页面上的选择器相关元素，速度会大大降低</span><br><span class="line"></span><br><span class="line">### 61 gulp是什么</span><br><span class="line"></span><br><span class="line">- &#96;gulp&#96;是前端开发过程中一种基于流的代码构建工具，是自动化项目的构建利器；它不仅能对网站资源进行优化，而且在开发过程中很多重复的任务能够使用正确的工具自动完成</span><br><span class="line">- Gulp的核心概念：流</span><br><span class="line">- 流，简单来说就是建立在面向对象基础上的一种抽象的处理数据的工具。在流中，定义了一些处理数据的基本操作，如读取数据，写入数据等，程序员是对流进行所有操作的，而不用关心流的另一头数据的真正流向</span><br><span class="line">- gulp正是通过流和代码优于配置的策略来尽量简化任务编写的工作</span><br><span class="line">- Gulp的特点：</span><br><span class="line">  - **易于使用**：通过代码优于配置的策略，gulp 让简单的任务简单，复杂的任务可管理</span><br><span class="line">  - **构建快速** 利用 &#96;Node.js&#96; 流的威力，你可以快速构建项目并减少频繁的 &#96;IO&#96; 操作</span><br><span class="line">  - **易于学习** 通过最少的 &#96;API&#96;，掌握 &#96;gulp&#96; 毫不费力，构建工作尽在掌握：如同一系列流管道</span><br><span class="line"></span><br><span class="line">### 64 let var const</span><br><span class="line"></span><br><span class="line">**let**</span><br><span class="line"></span><br><span class="line">- 允许你声明一个作用域被限制在块级中的变量、语句或者表达式</span><br><span class="line">- let绑定不受变量提升的约束，这意味着let声明不会被提升到当前</span><br><span class="line">- 该变量处于从块开始到初始化处理的“暂存死区”</span><br><span class="line"></span><br><span class="line">**var**</span><br><span class="line"></span><br><span class="line">- 声明变量的作用域限制在其声明位置的上下文中，而非声明变量总是全局的</span><br><span class="line">- 由于变量声明（以及其他声明）总是在任意代码执行之前处理的，所以在代码中的任意位置声明变量总是等效于在代码开头声明</span><br><span class="line"></span><br><span class="line">**const**</span><br><span class="line"></span><br><span class="line">- 声明创建一个值的只读引用 (即指针)</span><br><span class="line">- 基本数据当值发生改变时，那么其对应的指针也将发生改变，故造成 &#96;const&#96;申明基本数据类型时</span><br><span class="line">- 再将其值改变时，将会造成报错， 例如 &#96;const a &#x3D; 3&#96; ; &#96;a &#x3D; 5&#96;时 将会报错</span><br><span class="line">- 但是如果是复合类型时，如果只改变复合类型的其中某个&#96;Value&#96;项时， 将还是正常使用</span><br><span class="line"></span><br><span class="line">### 71 window.onload和$(document).ready</span><br><span class="line"></span><br><span class="line">&gt; 原生&#96;JS&#96;的&#96;window.onload&#96;与&#96;Jquery&#96;的&#96;$(document).ready(function()&#123;&#125;)&#96;有什么不同？如何用原生JS实现Jq的&#96;ready&#96;方法？</span><br><span class="line"></span><br><span class="line">- &#96;window.onload()&#96;方法是必须等到页面内包括图片的所有元素加载完毕后才能执行。</span><br><span class="line">- &#96;$(document).ready()&#96;是&#96;DOM&#96;结构绘制完毕后就执行，不必等到加载完毕</span><br><span class="line"></span><br><span class="line">&#96;&#96;&#96;js</span><br><span class="line">function ready(fn)&#123;</span><br><span class="line">      if(document.addEventListener) &#123;        &#x2F;&#x2F;标准浏览器</span><br><span class="line">          document.addEventListener(&#39;DOMContentLoaded&#39;, function() &#123;</span><br><span class="line">              &#x2F;&#x2F;注销事件, 避免反复触发</span><br><span class="line">              document.removeEventListener(&#39;DOMContentLoaded&#39;,arguments.callee, false);</span><br><span class="line">              fn();            &#x2F;&#x2F;执行函数</span><br><span class="line">          &#125;, false);</span><br><span class="line">      &#125;else if(document.attachEvent) &#123;        &#x2F;&#x2F;IE</span><br><span class="line">          document.attachEvent(&#39;onreadystatechange&#39;, function() &#123;</span><br><span class="line">             if(document.readyState &#x3D;&#x3D; &#39;complete&#39;) &#123;</span><br><span class="line">                 document.detachEvent(&#39;onreadystatechange&#39;, arguments.callee);</span><br><span class="line">                 fn();        &#x2F;&#x2F;函数执行</span><br><span class="line">             &#125;</span><br><span class="line">         &#125;);</span><br><span class="line">     &#125;</span><br><span class="line"> &#125;;</span><br></pre></td></tr></table></figure></li></ul><h3 id="72-addEventListener-和attachEvent-的区别"><a href="#72-addEventListener-和attachEvent-的区别" class="headerlink" title="72 addEventListener()和attachEvent()的区别"></a>72 addEventListener()和attachEvent()的区别</h3><ul><li><code>addEventListener()</code>是符合W3C规范的标准方法;  <code>attachEvent()</code>是IE低版本的非标准方法</li><li><code>addEventListener()</code>支持事件冒泡和事件捕获; - 而<code>attachEvent()</code>只支持事件冒泡</li><li><code>addEventListener()</code>的第一个参数中,事件类型不需要添加<code>on</code>; <code>attachEvent()</code>需要添加<code>&#39;on&#39;</code></li><li>如果为同一个元素绑定多个事件, <code>addEventListener()</code>会按照事件绑定的顺序依次执行,  <code>attachEvent()</code>会按照事件绑定的顺序倒序执行</li></ul><h3 id="77-使用js实现一个持续的动画效果"><a href="#77-使用js实现一个持续的动画效果" class="headerlink" title="77 使用js实现一个持续的动画效果"></a>77 使用js实现一个持续的动画效果</h3><p><strong>定时器思路</strong></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> e = <span class="built_in">document</span>.getElementById(<span class="string">&#x27;e&#x27;</span>)</span><br><span class="line"><span class="keyword">var</span> flag = <span class="literal">true</span>;</span><br><span class="line"><span class="keyword">var</span> left = <span class="number">0</span>;</span><br><span class="line"><span class="built_in">setInterval</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">    left == <span class="number">0</span> ? flag = <span class="literal">true</span> : left == <span class="number">100</span> ? flag = <span class="literal">false</span> : <span class="string">&#x27;&#x27;</span></span><br><span class="line">    flag ? e.style.left = <span class="string">` <span class="subst">$&#123;left++&#125;</span>px`</span> : e.style.left = <span class="string">` <span class="subst">$&#123;left--&#125;</span>px`</span></span><br><span class="line">&#125;, <span class="number">1000</span> / <span class="number">60</span>)</span><br></pre></td></tr></table></figure><p><strong>requestAnimationFrame</strong></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//兼容性处理</span></span><br><span class="line"><span class="built_in">window</span>.requestAnimFrame = (<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">window</span>.requestAnimationFrame       ||</span><br><span class="line">           <span class="built_in">window</span>.webkitRequestAnimationFrame ||</span><br><span class="line">           <span class="built_in">window</span>.mozRequestAnimationFrame    ||</span><br><span class="line">           <span class="function"><span class="keyword">function</span>(<span class="params">callback</span>)</span>&#123;</span><br><span class="line">                <span class="built_in">window</span>.setTimeout(callback, <span class="number">1000</span> / <span class="number">60</span>);</span><br><span class="line">           &#125;;</span><br><span class="line">&#125;)();</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> e = <span class="built_in">document</span>.getElementById(<span class="string">&quot;e&quot;</span>);</span><br><span class="line"><span class="keyword">var</span> flag = <span class="literal">true</span>;</span><br><span class="line"><span class="keyword">var</span> left = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">render</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    left == <span class="number">0</span> ? flag = <span class="literal">true</span> : left == <span class="number">100</span> ? flag = <span class="literal">false</span> : <span class="string">&#x27;&#x27;</span>;</span><br><span class="line">    flag ? e.style.left = <span class="string">` <span class="subst">$&#123;left++&#125;</span>px`</span> :</span><br><span class="line">        e.style.left = <span class="string">` <span class="subst">$&#123;left--&#125;</span>px`</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">(<span class="function"><span class="keyword">function</span> <span class="title">animloop</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    render();</span><br><span class="line">    requestAnimFrame(animloop);</span><br><span class="line">&#125;)();</span><br></pre></td></tr></table></figure><p><strong>使用css实现一个持续的动画效果</strong></p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">animation</span><span class="selector-pseudo">:mymove</span> 5<span class="selector-tag">s</span> <span class="selector-tag">infinite</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">@keyframes</span> mymove &#123;</span><br><span class="line">    <span class="selector-tag">from</span> &#123;<span class="attribute">top</span>:<span class="number">0px</span>;&#125;</span><br><span class="line">    <span class="selector-tag">to</span> &#123;<span class="attribute">top</span>:<span class="number">200px</span>;&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li><code>animation-name</code> 规定需要绑定到选择器的 <code>keyframe</code>名称。</li><li><code>animation-duration</code> 规定完成动画所花费的时间，以秒或毫秒计。</li><li><code>animation-timing-function</code> 规定动画的速度曲线。</li><li><code>animation-delay</code> 规定在动画开始之前的延迟。</li><li><code>animation-iteration-count</code> 规定动画应该播放的次数。</li><li><code>animation-direction</code> 规定是否应该轮流反向播放动画</li></ul><h3 id="80-项目做过哪些性能优化？"><a href="#80-项目做过哪些性能优化？" class="headerlink" title="80 项目做过哪些性能优化？"></a>80 项目做过哪些性能优化？</h3><ul><li>减少 <code>HTTP</code> 请求数</li><li>减少 <code>DNS</code> 查询</li><li>使用 <code>CDN</code></li><li>避免重定向</li><li>图片懒加载</li><li>减少 <code>DOM</code> 元素数量</li><li>减少<code>DOM</code> 操作</li><li>使用外部 <code>JavaScript</code> 和 <code>CSS</code></li><li>压缩 <code>JavaScript</code> 、 <code>CSS</code> 、字体、图片等</li><li>优化 <code>CSS Sprite</code></li><li>使用 <code>iconfont</code></li><li>字体裁剪</li><li>多域名分发划分内容到不同域名</li><li>尽量减少 <code>iframe</code> 使用</li><li>避免图片 <code>src</code> 为空</li><li>把样式表放在<code>link</code>  中</li><li>把<code>JavaScript</code>放在页面底部</li></ul><h3 id="81-浏览器缓存"><a href="#81-浏览器缓存" class="headerlink" title="81 浏览器缓存"></a>81 浏览器缓存</h3><blockquote><p>浏览器缓存分为强缓存和协商缓存。当客户端请求某个资源时，获取缓存的流程如下</p></blockquote><ul><li>先根据这个资源的一些 <code>http header</code> 判断它是否命中强缓存，如果命中，则直接从本地获取缓存资源，不会发请求到服务器；</li><li>当强缓存没有命中时，客户端会发送请求到服务器，服务器通过另一些<code>request header</code>验证这个资源是否命中协商缓存，称为<code>http</code>再验证，如果命中，服务器将请求返回，但不返回资源，而是告诉客户端直接从缓存中获取，客户端收到返回后就会从缓存中获取资源；</li><li>强缓存和协商缓存共同之处在于，如果命中缓存，服务器都不会返回资源； 区别是，强缓存不对发送请求到服务器，但协商缓存会。</li><li>当协商缓存也没命中时，服务器就会将资源发送回客户端。</li><li>当 <code>ctrl+f5</code> 强制刷新网页时，直接从服务器加载，跳过强缓存和协商缓存；</li><li>当 <code>f5</code>刷新网页时，跳过强缓存，但是会检查协商缓存；</li></ul><p><strong>强缓存</strong></p><ul><li><code>Expires</code>（该字段是 <code>http1.0</code> 时的规范，值为一个绝对时间的 <code>GMT</code> 格式的时间字符串，代表缓存资源的过期时间）</li><li><code>Cache-Control:max-age</code>（该字段是 <code>http1.1</code>的规范，强缓存利用其 <code>max-age</code> 值来判断缓存资源的最大生命周期，它的值单位为秒）</li></ul><p><strong>协商缓存</strong></p><ul><li><code>Last-Modified</code>（值为资源最后更新时间，随服务器response返回）</li><li><code>If-Modified-Since</code>（通过比较两个时间来判断资源在两次请求期间是否有过修改，如果没有修改，则命中协商缓存）</li><li><code>ETag</code>（表示资源内容的唯一标识，随服务器<code>response</code>返回）</li><li><code>If-None-Match</code>（服务器通过比较请求头部的<code>If-None-Match</code>与当前资源的<code>ETag</code>是否一致来判断资源是否在两次请求之间有过修改，如果没有修改，则命中协商缓存）</li></ul><h3 id="82-WebSocket"><a href="#82-WebSocket" class="headerlink" title="# 82 WebSocket"></a><a href="http://interview.poetries.top/docs/base.html#_82-websocket">#</a> 82 WebSocket</h3><blockquote><p>由于 <code>http</code> 存在一个明显的弊端（消息只能有客户端推送到服务器端，而服务器端不能主动推送到客户端），导致如果服务器如果有连续的变化，这时只能使用轮询，而轮询效率过低，并不适合。于是 <code>WebSocket</code>被发明出来</p></blockquote><blockquote><p>相比与 <code>http</code> 具有以下有点</p></blockquote><ul><li>支持双向通信，实时性更强；</li><li>可以发送文本，也可以二进制文件；</li><li>协议标识符是 <code>ws</code>，加密后是 <code>wss</code> ；</li><li>较少的控制开销。连接创建后，<code>ws</code>客户端、服务端进行数据交换时，协议控制的数据包头部较小。在不包含头部的情况下，服务端到客户端的包头只有<code>2~10</code>字节（取决于数据包长度），客户端到服务端的的话，需要加上额外的4字节的掩码。而<code>HTTP</code>协议每次通信都需要携带完整的头部；</li><li>支持扩展。ws协议定义了扩展，用户可以扩展协议，或者实现自定义的子协议。（比如支持自定义压缩算法等）</li><li>无跨域问题。</li></ul><blockquote><p>实现比较简单，服务端库如 <code>socket.io</code>、<code>ws</code>，可以很好的帮助我们入门。而客户端也只需要参照 <code>api</code> 实现即可</p></blockquote><h3 id="83-尽可能多的说出你对-Electron-的理解"><a href="#83-尽可能多的说出你对-Electron-的理解" class="headerlink" title="# 83 尽可能多的说出你对 Electron 的理解"></a><a href="http://interview.poetries.top/docs/base.html#_83-%E5%B0%BD%E5%8F%AF%E8%83%BD%E5%A4%9A%E7%9A%84%E8%AF%B4%E5%87%BA%E4%BD%A0%E5%AF%B9-electron-%E7%9A%84%E7%90%86%E8%A7%A3">#</a> 83 尽可能多的说出你对 Electron 的理解</h3><blockquote><p>最最重要的一点，<code>electron</code> 实际上是一个套了 <code>Chrome</code> 的 <code>nodeJS</code>程序</p></blockquote><p><strong>所以应该是从两个方面说开来</strong></p><ul><li><code>Chrome</code> （无各种兼容性问题）；</li><li><code>NodeJS</code>（<code>NodeJS</code> 能做的它也能做）</li></ul><h3 id="84-深浅拷贝"><a href="#84-深浅拷贝" class="headerlink" title="# 84 深浅拷贝"></a><a href="http://interview.poetries.top/docs/base.html#_84-%E6%B7%B1%E6%B5%85%E6%8B%B7%E8%B4%9D">#</a> 84 深浅拷贝</h3><p><strong>浅拷贝</strong></p><ul><li><code>Object.assign</code></li><li>或者展开运算符</li></ul><p><strong>深拷贝</strong></p><ul><li>可以通过 <code>JSON.parse(JSON.stringify(object))</code> 来解决</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> a = &#123;</span><br><span class="line">    age: <span class="number">1</span>,</span><br><span class="line">    jobs: &#123;</span><br><span class="line">        first: <span class="string">&#x27;FE&#x27;</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> b = <span class="built_in">JSON</span>.parse(<span class="built_in">JSON</span>.stringify(a))</span><br><span class="line">a.jobs.first = <span class="string">&#x27;native&#x27;</span></span><br><span class="line"><span class="built_in">console</span>.log(b.jobs.first) <span class="comment">// FE</span></span><br></pre></td></tr></table></figure><p><strong>该方法也是有局限性的</strong></p><ul><li>会忽略 <code>undefined</code></li><li>不能序列化函数</li><li>不能解决循环引用的对象</li></ul><h3 id="85-防抖-节流"><a href="#85-防抖-节流" class="headerlink" title="# 85 防抖/节流"></a><a href="http://interview.poetries.top/docs/base.html#_85-%E9%98%B2%E6%8A%96-%E8%8A%82%E6%B5%81">#</a> 85 防抖/节流</h3><p><strong>防抖</strong></p><blockquote><p>在滚动事件中需要做个复杂计算或者实现一个按钮的防二次点击操作。可以通过函数防抖动来实现</p></blockquote><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 使用 underscore 的源码来解释防抖动</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * underscore 防抖函数，返回函数连续调用时，空闲时间必须大于或等于 wait，func 才会执行</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param  <span class="type">&#123;function&#125;</span> </span>func        回调函数</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param  <span class="type">&#123;number&#125;</span>   </span>wait        表示时间窗口的间隔</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param  <span class="type">&#123;boolean&#125;</span>  </span>immediate   设置为ture时，是否立即调用函数</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return <span class="type">&#123;function&#125;</span>             </span>返回客户调用函数</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line">_.debounce = <span class="function"><span class="keyword">function</span>(<span class="params">func, wait, immediate</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> timeout, args, context, timestamp, result;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">var</span> later = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">      <span class="comment">// 现在和上一次时间戳比较</span></span><br><span class="line">      <span class="keyword">var</span> last = _.now() - timestamp;</span><br><span class="line">      <span class="comment">// 如果当前间隔时间少于设定时间且大于0就重新设置定时器</span></span><br><span class="line">      <span class="keyword">if</span> (last &lt; wait &amp;&amp; last &gt;= <span class="number">0</span>) &#123;</span><br><span class="line">        timeout = <span class="built_in">setTimeout</span>(later, wait - last);</span><br><span class="line">      &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="comment">// 否则的话就是时间到了执行回调函数</span></span><br><span class="line">        timeout = <span class="literal">null</span>;</span><br><span class="line">        <span class="keyword">if</span> (!immediate) &#123;</span><br><span class="line">          result = func.apply(context, args);</span><br><span class="line">          <span class="keyword">if</span> (!timeout) context = args = <span class="literal">null</span>;</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">      context = <span class="built_in">this</span>;</span><br><span class="line">      args = <span class="built_in">arguments</span>;</span><br><span class="line">      <span class="comment">// 获得时间戳</span></span><br><span class="line">      timestamp = _.now();</span><br><span class="line">      <span class="comment">// 如果定时器不存在且立即执行函数</span></span><br><span class="line">      <span class="keyword">var</span> callNow = immediate &amp;&amp; !timeout;</span><br><span class="line">      <span class="comment">// 如果定时器不存在就创建一个</span></span><br><span class="line">      <span class="keyword">if</span> (!timeout) timeout = <span class="built_in">setTimeout</span>(later, wait);</span><br><span class="line">      <span class="keyword">if</span> (callNow) &#123;</span><br><span class="line">        <span class="comment">// 如果需要立即执行函数的话 通过 apply 执行</span></span><br><span class="line">        result = func.apply(context, args);</span><br><span class="line">        context = args = <span class="literal">null</span>;</span><br><span class="line">      &#125;</span><br><span class="line"></span><br><span class="line">      <span class="keyword">return</span> result;</span><br><span class="line">    &#125;;</span><br><span class="line">  &#125;;</span><br></pre></td></tr></table></figure><blockquote><p>整体函数实现</p></blockquote><p>对于按钮防点击来说的实现</p><ul><li>开始一个定时器，只要我定时器还在，不管你怎么点击都不会执行回调函数。一旦定时器结束并设置为 null，就可以再次点击了</li><li>对于延时执行函数来说的实现：每次调用防抖动函数都会判断本次调用和之前的时间间隔，如果小于需要的时间间隔，就会重新创建一个定时器，并且定时器的延时为设定时间减去之前的时间间隔。一旦时间到了，就会执行相应的回调函数</li></ul><p><strong>节流</strong></p><blockquote><p>防抖动和节流本质是不一样的。防抖动是将多次执行变为最后一次执行，节流是将多次执行变成每隔一段时间执行</p></blockquote><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * underscore 节流函数，返回函数连续调用时，func 执行频率限定为 次 / wait</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param  <span class="type">&#123;function&#125;</span>   </span>func      回调函数</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param  <span class="type">&#123;number&#125;</span>     </span>wait      表示时间窗口的间隔</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param  <span class="type">&#123;object&#125;</span>     </span>options   如果想忽略开始函数的的调用，传入&#123;leading: false&#125;。</span></span><br><span class="line"><span class="comment"> *                                如果想忽略结尾函数的调用，传入&#123;trailing: false&#125;</span></span><br><span class="line"><span class="comment"> *                                两者不能共存，否则函数不能执行</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return <span class="type">&#123;function&#125;</span>             </span>返回客户调用函数   </span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line">_.throttle = <span class="function"><span class="keyword">function</span>(<span class="params">func, wait, options</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> context, args, result;</span><br><span class="line">    <span class="keyword">var</span> timeout = <span class="literal">null</span>;</span><br><span class="line">    <span class="comment">// 之前的时间戳</span></span><br><span class="line">    <span class="keyword">var</span> previous = <span class="number">0</span>;</span><br><span class="line">    <span class="comment">// 如果 options 没传则设为空对象</span></span><br><span class="line">    <span class="keyword">if</span> (!options) options = &#123;&#125;;</span><br><span class="line">    <span class="comment">// 定时器回调函数</span></span><br><span class="line">    <span class="keyword">var</span> later = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">      <span class="comment">// 如果设置了 leading，就将 previous 设为 0</span></span><br><span class="line">      <span class="comment">// 用于下面函数的第一个 if 判断</span></span><br><span class="line">      previous = options.leading === <span class="literal">false</span> ? <span class="number">0</span> : _.now();</span><br><span class="line">      <span class="comment">// 置空一是为了防止内存泄漏，二是为了下面的定时器判断</span></span><br><span class="line">      timeout = <span class="literal">null</span>;</span><br><span class="line">      result = func.apply(context, args);</span><br><span class="line">      <span class="keyword">if</span> (!timeout) context = args = <span class="literal">null</span>;</span><br><span class="line">    &#125;;</span><br><span class="line">    <span class="keyword">return</span> <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">      <span class="comment">// 获得当前时间戳</span></span><br><span class="line">      <span class="keyword">var</span> now = _.now();</span><br><span class="line">      <span class="comment">// 首次进入前者肯定为 true</span></span><br><span class="line">  <span class="comment">// 如果需要第一次不执行函数</span></span><br><span class="line">  <span class="comment">// 就将上次时间戳设为当前的</span></span><br><span class="line">      <span class="comment">// 这样在接下来计算 remaining 的值时会大于0</span></span><br><span class="line">      <span class="keyword">if</span> (!previous &amp;&amp; options.leading === <span class="literal">false</span>) previous = now;</span><br><span class="line">      <span class="comment">// 计算剩余时间</span></span><br><span class="line">      <span class="keyword">var</span> remaining = wait - (now - previous);</span><br><span class="line">      context = <span class="built_in">this</span>;</span><br><span class="line">      args = <span class="built_in">arguments</span>;</span><br><span class="line">      <span class="comment">// 如果当前调用已经大于上次调用时间 + wait</span></span><br><span class="line">      <span class="comment">// 或者用户手动调了时间</span></span><br><span class="line">   <span class="comment">// 如果设置了 trailing，只会进入这个条件</span></span><br><span class="line">  <span class="comment">// 如果没有设置 leading，那么第一次会进入这个条件</span></span><br><span class="line">  <span class="comment">// 还有一点，你可能会觉得开启了定时器那么应该不会进入这个 if 条件了</span></span><br><span class="line">  <span class="comment">// 其实还是会进入的，因为定时器的延时</span></span><br><span class="line">  <span class="comment">// 并不是准确的时间，很可能你设置了2秒</span></span><br><span class="line">  <span class="comment">// 但是他需要2.2秒才触发，这时候就会进入这个条件</span></span><br><span class="line">      <span class="keyword">if</span> (remaining &lt;= <span class="number">0</span> || remaining &gt; wait) &#123;</span><br><span class="line">        <span class="comment">// 如果存在定时器就清理掉否则会调用二次回调</span></span><br><span class="line">        <span class="keyword">if</span> (timeout) &#123;</span><br><span class="line">          <span class="built_in">clearTimeout</span>(timeout);</span><br><span class="line">          timeout = <span class="literal">null</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        previous = now;</span><br><span class="line">        result = func.apply(context, args);</span><br><span class="line">        <span class="keyword">if</span> (!timeout) context = args = <span class="literal">null</span>;</span><br><span class="line">      &#125; <span class="keyword">else</span> <span class="keyword">if</span> (!timeout &amp;&amp; options.trailing !== <span class="literal">false</span>) &#123;</span><br><span class="line">        <span class="comment">// 判断是否设置了定时器和 trailing</span></span><br><span class="line">    <span class="comment">// 没有的话就开启一个定时器</span></span><br><span class="line">        <span class="comment">// 并且不能不能同时设置 leading 和 trailing</span></span><br><span class="line">        timeout = <span class="built_in">setTimeout</span>(later, remaining);</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="keyword">return</span> result;</span><br><span class="line">    &#125;;</span><br><span class="line">  &#125;;</span><br></pre></td></tr></table></figure><h3 id="86-谈谈变量提升？"><a href="#86-谈谈变量提升？" class="headerlink" title="# 86 谈谈变量提升？"></a><a href="http://interview.poetries.top/docs/base.html#_86-%E8%B0%88%E8%B0%88%E5%8F%98%E9%87%8F%E6%8F%90%E5%8D%87">#</a> 86 谈谈变量提升？</h3><blockquote><p>当执行 JS 代码时，会生成执行环境，只要代码不是写在函数中的，就是在全局执行环境中，函数中的代码会产生函数执行环境，只此两种执行环境</p></blockquote><ul><li>接下来让我们看一个老生常谈的例子，<code>var</code></li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">b() <span class="comment">// call b</span></span><br><span class="line"><span class="built_in">console</span>.log(a) <span class="comment">// undefined</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> a = <span class="string">&#x27;Hello world&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">b</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&#x27;call b&#x27;</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>变量提升</p><p>这是因为函数和变量提升的原因。通常提升的解释是说将声明的代码移动到了顶部，这其实没有什么错误，便于大家理解。但是更准确的解释应该是：在生成执行环境时，会有两个阶段。第一个阶段是创建的阶段，JS 解释器会找出需要提升的变量和函数，并且给他们提前在内存中开辟好空间，函数的话会将整个函数存入内存中，变量只声明并且赋值为 <code>undefined</code>，所以在第二个阶段，也就是代码执行阶段，我们可以直接提前使用</p><p>在提升的过程中，相同的函数会覆盖上一个函数，并且函数优先于变量提升</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">b() <span class="comment">// call b second</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">b</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&#x27;call b fist&#x27;</span>)</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">b</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&#x27;call b second&#x27;</span>)</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> b = <span class="string">&#x27;Hello world&#x27;</span></span><br></pre></td></tr></table></figure><blockquote><p>复制代码<code>var</code> 会产生很多错误，所以在 <code>ES6</code>中引入了 <code>let</code>。<code>let</code> 不能在声明前使用，但是这并不是常说的 <code>let</code> 不会提升，<code>let</code> 提升了，在第一阶段内存也已经为他开辟好了空间，但是因为这个声明的特性导致了并不能在声明前使用</p></blockquote><h3 id="87-什么是单线程，和异步的关系"><a href="#87-什么是单线程，和异步的关系" class="headerlink" title="# 87 什么是单线程，和异步的关系"></a><a href="http://interview.poetries.top/docs/base.html#_87-%E4%BB%80%E4%B9%88%E6%98%AF%E5%8D%95%E7%BA%BF%E7%A8%8B-%E5%92%8C%E5%BC%82%E6%AD%A5%E7%9A%84%E5%85%B3%E7%B3%BB">#</a> 87 什么是单线程，和异步的关系</h3><ul><li><p>单线程 - 只有一个线程，只能做一件事</p></li><li><p>原因 - 避免 </p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">DOM</span><br></pre></td></tr></table></figure><p> 渲染的冲突</p><ul><li>浏览器需要渲染 <code>DOM</code></li><li><code>JS</code> 可以修改 <code>DOM</code> 结构</li><li><code>JS</code> 执行的时候，浏览器 <code>DOM</code> 渲染会暂停</li><li>两段 JS 也不能同时执行（都修改 <code>DOM</code> 就冲突了）</li><li><code>webworker</code> 支持多线程，但是不能访问 <code>DOM</code></li></ul></li><li><p>解决方案 - 异步</p></li></ul><h3 id="90-前端面试之组件化"><a href="#90-前端面试之组件化" class="headerlink" title="90 前端面试之组件化"></a>90 前端面试之组件化</h3><blockquote><p><a href="http://blog.poetries.top/2018/10/20/fe-interview-component/">http://blog.poetries.top/2018/10/20/fe-interview-component/</a></p></blockquote><p><a href="http://blog.poetries.top/2018/10/20/fe-interview-component/"> </a></p><h3 id="89-前端面试之hybrid"><a href="#89-前端面试之hybrid" class="headerlink" title="89 前端面试之hybrid"></a>89 前端面试之hybrid</h3><blockquote><p><a href="http://blog.poetries.top/2018/10/20/fe-interview-hybrid/">http://blog.poetries.top/2018/10/20/fe-interview-hybrid/</a></p></blockquote><p><a href="http://blog.poetries.top/2018/10/20/fe-interview-hybrid/"> </a></p><h3 id="92-实现效果，点击容器内的图标，图标边框变成border-1px-solid-red，点击空白处重置"><a href="#92-实现效果，点击容器内的图标，图标边框变成border-1px-solid-red，点击空白处重置" class="headerlink" title="92 实现效果，点击容器内的图标，图标边框变成border 1px solid red，点击空白处重置"></a>92 实现效果，点击容器内的图标，图标边框变成border 1px solid red，点击空白处重置</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> box = <span class="built_in">document</span>.getElementById(<span class="string">&#x27;box&#x27;</span>);</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">isIcon</span>(<span class="params">target</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> target.className.includes(<span class="string">&#x27;icon&#x27;</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">box.onClick = <span class="function"><span class="keyword">function</span>(<span class="params">e</span>) </span>&#123;</span><br><span class="line">  e.stopPropagation();</span><br><span class="line">  <span class="keyword">const</span> target = e.target;</span><br><span class="line">  <span class="keyword">if</span> (isIcon(target)) &#123;</span><br><span class="line">    target.style.border = <span class="string">&#x27;1px solid red&#x27;</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">const</span> doc = <span class="built_in">document</span>;</span><br><span class="line">doc.onclick = <span class="function"><span class="keyword">function</span>(<span class="params">e</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> children = box.children;</span><br><span class="line">  <span class="keyword">for</span>(<span class="keyword">let</span> i; i &lt; children.length; i++) &#123;</span><br><span class="line">    <span class="keyword">if</span> (isIcon(children[i])) &#123;</span><br><span class="line">      children[i].style.border = <span class="string">&#x27;none&#x27;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="93-请简单实现双向数据绑定mvvm"><a href="#93-请简单实现双向数据绑定mvvm" class="headerlink" title="93 请简单实现双向数据绑定mvvm"></a>93 请简单实现双向数据绑定<code>mvvm</code></h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">id</span>=<span class="string">&quot;input&quot;</span>/&gt;</span></span><br><span class="line">const data = &#123;&#125;;</span><br><span class="line">const input = document.getElementById(&#x27;input&#x27;);</span><br><span class="line">Object.defineProperty(data, &#x27;text&#x27;, &#123;</span><br><span class="line">  set(value) &#123;</span><br><span class="line">    input.value = value;</span><br><span class="line">    this.value = value;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;);</span><br><span class="line">input.onChange = function(e) &#123;</span><br><span class="line">  data.text = e.target.value;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="94-实现Storage，使得该对象为单例，并对localStorage进行封装设置值setItem-key-value-和getItem-key"><a href="#94-实现Storage，使得该对象为单例，并对localStorage进行封装设置值setItem-key-value-和getItem-key" class="headerlink" title="94 实现Storage，使得该对象为单例，并对localStorage进行封装设置值setItem(key,value)和getItem(key)"></a>94 实现Storage，使得该对象为单例，并对<code>localStorage</code>进行封装设置值setItem(key,value)和getItem(key)</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> instance = <span class="literal">null</span>;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Storage</span> </span>&#123;</span><br><span class="line">  <span class="keyword">static</span> getInstance() &#123;</span><br><span class="line">    <span class="keyword">if</span> (!instance) &#123;</span><br><span class="line">      instance = <span class="keyword">new</span> Storage();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> instance;</span><br><span class="line">  &#125;</span><br><span class="line">  setItem = <span class="function">(<span class="params">key, value</span>) =&gt;</span> <span class="built_in">localStorage</span>.setItem(key, value),</span><br><span class="line">  getItem = <span class="function"><span class="params">key</span> =&gt;</span> <span class="built_in">localStorage</span>.getItem(key)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="95-说说event-loop"><a href="#95-说说event-loop" class="headerlink" title="95 说说event loop"></a>95 说说<code>event loop</code></h3><blockquote><p>首先，<code>js</code>是单线程的，主要的任务是处理用户的交互，而用户的交互无非就是响应<code>DOM</code>的增删改，使用事件队列的形式，一次事件循环只处理一个事件响应，使得脚本执行相对连续，所以有了事件队列，用来储存待执行的事件，那么事件队列的事件从哪里被<code>push</code>进来的呢。那就是另外一个线程叫事件触发线程做的事情了，他的作用主要是在定时触发器线程、异步<code>HTTP</code>请求线程满足特定条件下的回调函数<code>push</code>到事件队列中，等待<code>js</code>引擎空闲的时候去执行，当然js引擎执行过程中有优先级之分，首先js引擎在一次事件循环中，会先执行js线程的主任务，然后会去查找是否有微任务<code>microtask（promise）</code>，如果有那就优先执行微任务，如果没有，在去查找宏任务<code>macrotask（setTimeout、setInterval）</code>进行执行</p></blockquote><blockquote><p>众所周知 <code>JS</code> 是门非阻塞单线程语言，因为在最初 <code>JS</code> 就是为了和浏览器交互而诞生的。如果 <code>JS</code> 是门多线程的语言话，我们在多个线程中处理 <code>DOM</code> 就可能会发生问题（一个线程中新加节点，另一个线程中删除节点）</p></blockquote><ul><li><code>JS</code> 在执行的过程中会产生执行环境，这些执行环境会被顺序的加入到执行栈中。如果遇到异步的代码，会被挂起并加入到 <code>Task</code>（有多种 <code>task</code>） 队列中。一旦执行栈为空，<code>Event</code> <code>Loop</code> 就会从 <code>Task</code> 队列中拿出需要执行的代码并放入执行栈中执行，所以本质上来说 <code>JS</code> 中的异步还是同步行为</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">console</span>.log(<span class="string">&#x27;script start&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="built_in">setTimeout</span>(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">&#x27;setTimeout&#x27;</span>);</span><br><span class="line">&#125;, <span class="number">0</span>);</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">&#x27;script end&#x27;</span>);</span><br></pre></td></tr></table></figure><blockquote><p>不同的任务源会被分配到不同的 <code>Task</code> 队列中，任务源可以分为 微任务（<code>microtask</code>） 和 宏任务（<code>macrotask</code>）。在 <code>ES6</code> 规范中，<code>microtask</code> 称为 <code>jobs</code>，<code>macrotask</code> 称为 <code>task</code></p></blockquote><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">console</span>.log(<span class="string">&#x27;script start&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="built_in">setTimeout</span>(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">&#x27;setTimeout&#x27;</span>);</span><br><span class="line">&#125;, <span class="number">0</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function">(<span class="params">resolve</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&#x27;Promise&#x27;</span>)</span><br><span class="line">    resolve()</span><br><span class="line">&#125;).then(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">&#x27;promise1&#x27;</span>);</span><br><span class="line">&#125;).then(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">&#x27;promise2&#x27;</span>);</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">&#x27;script end&#x27;</span>);</span><br><span class="line"><span class="comment">// script start =&gt; Promise =&gt; script end =&gt; promise1 =&gt; promise2 =&gt; setTimeout</span></span><br></pre></td></tr></table></figure><blockquote><p>以上代码虽然 <code>setTimeout</code> 写在 <code>Promise</code> 之前，但是因为 <code>Promise</code> 属于微任务而 <code>setTimeout</code> 属于宏任务</p></blockquote><p><strong>微任务</strong></p><ul><li><code>process.nextTick</code></li><li><code>promise</code></li><li><code>Object.observe</code></li><li><code>MutationObserver</code></li></ul><p><strong>宏任务</strong></p><ul><li><code>script</code></li><li><code>setTimeout</code></li><li><code>setInterval</code></li><li><code>setImmediate</code></li><li><code>I/O</code></li><li><code>UI rendering</code></li></ul><blockquote><p>宏任务中包括了 <code>script</code> ，浏览器会先执行一个宏任务，接下来有异步代码的话就先执行微任务</p></blockquote><p><strong>所以正确的一次 Event loop 顺序是这样的</strong></p><ul><li>执行同步代码，这属于宏任务</li><li>执行栈为空，查询是否有微任务需要执行</li><li>执行所有微任务</li><li>必要的话渲染 UI</li><li>然后开始下一轮 <code>Event loop</code>，执行宏任务中的异步代码</li></ul><blockquote><p>通过上述的 <code>Event loop</code> 顺序可知，如果宏任务中的异步代码有大量的计算并且需要操作 <code>DOM</code> 的话，为了更快的响应界面响应，我们可以把操作 <code>DOM</code> 放入微任务中</p></blockquote><h3 id="96-说说事件流"><a href="#96-说说事件流" class="headerlink" title="96 说说事件流"></a>96 说说事件流</h3><p><strong>事件流分为两种，捕获事件流和冒泡事件流</strong></p><ul><li>捕获事件流从根节点开始执行，一直往子节点查找执行，直到查找执行到目标节点</li><li>冒泡事件流从目标节点开始执行，一直往父节点冒泡查找执行，直到查到到根节点</li></ul><blockquote><p>事件流分为三个阶段，一个是捕获节点，一个是处于目标节点阶段，一个是冒泡阶段</p></blockquote><h3 id="98-我现在有一个canvas，上面随机布着一些黑块，请实现方法，计算canvas上有多少个黑块"><a href="#98-我现在有一个canvas，上面随机布着一些黑块，请实现方法，计算canvas上有多少个黑块" class="headerlink" title="98 我现在有一个canvas，上面随机布着一些黑块，请实现方法，计算canvas上有多少个黑块"></a>98 我现在有一个<code>canvas</code>，上面随机布着一些黑块，请实现方法，计算canvas上有多少个黑块</h3><blockquote><p><a href="https://www.jianshu.com/p/f54d265f7aa4">https://www.jianshu.com/p/f54d265f7aa4</a></p></blockquote><h3 id="99-请手写实现一个promise"><a href="#99-请手写实现一个promise" class="headerlink" title="99 请手写实现一个promise"></a>99 请手写实现一个<code>promise</code></h3><blockquote><p><a href="https://segmentfault.com/a/1190000013396601">https://segmentfault.com/a/1190000013396601</a></p></blockquote><h3 id="100-说说从输入URL到看到页面发生的全过程，越详细越好"><a href="#100-说说从输入URL到看到页面发生的全过程，越详细越好" class="headerlink" title="100 说说从输入URL到看到页面发生的全过程，越详细越好"></a>100 说说从输入URL到看到页面发生的全过程，越详细越好</h3><ul><li>首先浏览器主进程接管，开了一个下载线程。</li><li>然后进行HTTP请求（DNS查询、IP寻址等等），中间会有三次捂手，等待响应，开始下载响应报文。</li><li>将下载完的内容转交给Renderer进程管理。</li><li>Renderer进程开始解析css rule tree和dom tree，这两个过程是并行的，所以一般我会把link标签放在页面顶部。</li><li>解析绘制过程中，当浏览器遇到link标签或者script、img等标签，浏览器会去下载这些内容，遇到时候缓存的使用缓存，不适用缓存的重新下载资源。</li><li>css rule tree和dom tree生成完了之后，开始合成render tree，这个时候浏览器会进行layout，开始计算每一个节点的位置，然后进行绘制。</li><li>绘制结束后，关闭TCP连接，过程有四次挥手</li></ul><h3 id="101-描述一下this"><a href="#101-描述一下this" class="headerlink" title="101 描述一下this"></a>101 描述一下<code>this</code></h3><blockquote><p><code>this</code>，函数执行的上下文，可以通过<code>apply</code>，<code>call</code>，<code>bind</code>改变<code>this</code>的指向。对于匿名函数或者直接调用的函数来说，this指向全局上下文（浏览器为window，NodeJS为<code>global</code>），剩下的函数调用，那就是谁调用它，<code>this</code>就指向谁。当然还有es6的箭头函数，箭头函数的指向取决于该箭头函数声明的位置，在哪里声明，<code>this</code>就指向哪里</p></blockquote><h3 id="102-说一下浏览器的缓存机制"><a href="#102-说一下浏览器的缓存机制" class="headerlink" title="102 说一下浏览器的缓存机制"></a>102 说一下浏览器的缓存机制</h3><blockquote><p>浏览器缓存机制有两种，一种为强缓存，一种为协商缓存</p></blockquote><ul><li>对于强缓存，浏览器在第一次请求的时候，会直接下载资源，然后缓存在本地，第二次请求的时候，直接使用缓存。</li><li>对于协商缓存，第一次请求缓存且保存缓存标识与时间，重复请求向服务器发送缓存标识和最后缓存时间，服务端进行校验，如果失效则使用缓存</li></ul><p><strong>协商缓存相关设置</strong></p><ul><li><code>Exprires</code>：服务端的响应头，第一次请求的时候，告诉客户端，该资源什么时候会过期。<code>Exprires</code>的缺陷是必须保证服务端时间和客户端时间严格同步。</li><li><code>Cache-control：max-age</code>：表示该资源多少时间后过期，解决了客户端和服务端时间必须同步的问题，</li><li><code>If-None-Match/ETag</code>：缓存标识，对比缓存时使用它来标识一个缓存，第一次请求的时候，服务端会返回该标识给客户端，客户端在第二次请求的时候会带上该标识与服务端进行对比并返回<code>If-None-Match</code>标识是否表示匹配。</li><li><code>Last-modified/If-Modified-Since</code>：第一次请求的时候服务端返回<code>Last-modified</code>表明请求的资源上次的修改时间，第二次请求的时候客户端带上请求头<code>If-Modified-Since</code>，表示资源上次的修改时间，服务端拿到这两个字段进行对比</li></ul><h3 id="103-现在要你完成一个Dialog组件，说说你设计的思路？它应该有什么功能？"><a href="#103-现在要你完成一个Dialog组件，说说你设计的思路？它应该有什么功能？" class="headerlink" title="# 103 现在要你完成一个Dialog组件，说说你设计的思路？它应该有什么功能？"></a><a href="http://interview.poetries.top/docs/base.html#_103-%E7%8E%B0%E5%9C%A8%E8%A6%81%E4%BD%A0%E5%AE%8C%E6%88%90%E4%B8%80%E4%B8%AAdialog%E7%BB%84%E4%BB%B6-%E8%AF%B4%E8%AF%B4%E4%BD%A0%E8%AE%BE%E8%AE%A1%E7%9A%84%E6%80%9D%E8%B7%AF-%E5%AE%83%E5%BA%94%E8%AF%A5%E6%9C%89%E4%BB%80%E4%B9%88%E5%8A%9F%E8%83%BD">#</a> 103 现在要你完成一个Dialog组件，说说你设计的思路？它应该有什么功能？</h3><ul><li>该组件需要提供<code>hook</code>指定渲染位置，默认渲染在body下面。</li><li>然后改组件可以指定外层样式，如宽度等</li><li>组件外层还需要一层<code>mask</code>来遮住底层内容，点击<code>mask</code>可以执行传进来的<code>onCancel</code>函数关闭<code>Dialog</code>。</li><li>另外组件是可控的，需要外层传入<code>visible</code>表示是否可见。</li><li>然后<code>Dialog</code>可能需要自定义头head和底部<code>footer</code>，默认有头部和底部，底部有一个确认按钮和取消按钮，确认按钮会执行外部传进来的<code>onOk</code>事件，然后取消按钮会执行外部传进来的<code>onCancel</code>事件。</li><li>当组件的<code>visible</code>为<code>true</code>时候，设置<code>body</code>的<code>overflow</code>为<code>hidden</code>，隐藏<code>body</code>的滚动条，反之显示滚动条。</li><li>组件高度可能大于页面高度，组件内部需要滚动条。</li><li>只有组件的<code>visible</code>有变化且为<code>ture</code>时候，才重渲染组件内的所有内容</li></ul><h3 id="104-caller和callee的区别"><a href="#104-caller和callee的区别" class="headerlink" title="# 104 caller和callee的区别"></a><a href="http://interview.poetries.top/docs/base.html#_104-caller%E5%92%8Ccallee%E7%9A%84%E5%8C%BA%E5%88%AB">#</a> 104 <code>caller</code>和<code>callee</code>的区别</h3><p><strong>callee</strong></p><blockquote><p><code>caller</code>返回一个函数的引用，这个函数调用了当前的函数。</p></blockquote><p><strong>使用这个属性要注意</strong></p><ul><li>这个属性只有当函数在执行时才有用</li><li>如果在<code>javascript</code>程序中，函数是由顶层调用的，则返回<code>null</code></li></ul><blockquote><p><code>functionName.caller: functionName</code>是当前正在执行的函数。</p></blockquote><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">a</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(a.caller)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>callee</strong></p><blockquote><p><code>callee</code>放回正在执行的函数本身的引用，它是<code>arguments</code>的一个属性</p></blockquote><blockquote><p>使用callee时要注意:</p></blockquote><ul><li>这个属性只有在函数执行时才有效</li><li>它有一个<code>length</code>属性，可以用来获得形参的个数，因此可以用来比较形参和实参个数是否一致，即比较<code>arguments.length</code>是否等于<code>arguments.callee.length</code></li><li>它可以用来递归匿名函数。</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">a</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="built_in">arguments</span>.callee)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="105-ajax、axios、fetch区别"><a href="#105-ajax、axios、fetch区别" class="headerlink" title="# 105 ajax、axios、fetch区别"></a><a href="http://interview.poetries.top/docs/base.html#_105-ajax%E3%80%81axios%E3%80%81fetch%E5%8C%BA%E5%88%AB">#</a> 105 ajax、axios、fetch区别</h3><p><strong>jQuery ajax</strong></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">$.ajax(&#123;</span><br><span class="line">   type: <span class="string">&#x27;POST&#x27;</span>,</span><br><span class="line">   url: url,</span><br><span class="line">   data: data,</span><br><span class="line">   dataType: dataType,</span><br><span class="line">   success: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;&#125;,</span><br><span class="line">   error: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;&#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><p>优缺点：</p><ul><li>本身是针对<code>MVC</code>的编程,不符合现在前端<code>MVVM</code>的浪潮</li><li>基于原生的<code>XHR</code>开发，<code>XHR</code>本身的架构不清晰，已经有了<code>fetch</code>的替代方案</li><li><code>JQuery</code>整个项目太大，单纯使用<code>ajax</code>却要引入整个<code>JQuery</code>非常的不合理（采取个性化打包的方案又不能享受CDN服务）</li></ul><p><strong>axios</strong></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">axios(&#123;</span><br><span class="line">    method: <span class="string">&#x27;post&#x27;</span>,</span><br><span class="line">    url: <span class="string">&#x27;/user/12345&#x27;</span>,</span><br><span class="line">    data: &#123;</span><br><span class="line">        firstName: <span class="string">&#x27;Fred&#x27;</span>,</span><br><span class="line">        lastName: <span class="string">&#x27;Flintstone&#x27;</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;)</span><br><span class="line">.then(<span class="function"><span class="keyword">function</span> (<span class="params">response</span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(response);</span><br><span class="line">&#125;)</span><br><span class="line">.catch(<span class="function"><span class="keyword">function</span> (<span class="params">error</span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(error);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><p>优缺点：</p><ul><li>从浏览器中创建 <code>XMLHttpRequest</code></li><li>从 <code>node.js</code> 发出 <code>http</code> 请求</li><li>支持 <code>Promise API</code></li><li>拦截请求和响应</li><li>转换请求和响应数据</li><li>取消请求</li><li>自动转换<code>JSON</code>数据</li><li>客户端支持防止<code>CSRF/XSRF</code></li></ul><p><strong>fetch</strong></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">try</span> &#123;</span><br><span class="line">  <span class="keyword">let</span> response = <span class="keyword">await</span> fetch(url);</span><br><span class="line">  <span class="keyword">let</span> data = response.json();</span><br><span class="line">  <span class="built_in">console</span>.log(data);</span><br><span class="line">&#125; <span class="keyword">catch</span>(e) &#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">&quot;Oops, error&quot;</span>, e);</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>优缺点：</p><ul><li><code>fetcht</code>只对网络请求报错，对<code>400</code>，<code>500</code>都当做成功的请求，需要封装去处理</li><li><code>fetch</code>默认不会带<code>cookie</code>，需要添加配置项</li><li><code>fetch</code>不支持<code>abort</code>，不支持超时控制，使用<code>setTimeout</code>及<code>Promise.reject</code>的实现的超时控制并不能阻止请求过程继续在后台运行，造成了量的浪费</li><li><code>fetch</code>没有办法原生监测请求的进度，而XHR可以</li></ul><h3 id="110-如何编写高性能的JavaScript"><a href="#110-如何编写高性能的JavaScript" class="headerlink" title="110 如何编写高性能的JavaScript"></a>110 如何编写高性能的JavaScript</h3><ul><li>遵循严格模式：<code>&quot;use strict&quot;;</code></li><li>将js脚本放在页面底部，加快渲染页面</li><li>将js脚本将脚本成组打包，减少请求</li><li>使用非阻塞方式下载js脚本</li><li>尽量使用局部变量来保存全局变量</li><li>尽量减少使用闭包</li><li>使用 <code>window</code> 对象属性方法时，省略 <code>window</code></li><li>尽量减少对象成员嵌套</li><li>缓存 <code>DOM</code> 节点的访问</li><li>通过避免使用 <code>eval()</code> 和 <code>Function()</code> 构造器</li><li>给 <code>setTimeout()</code> 和 <code>setInterval()</code> 传递函数而不是字符串作为参数</li><li>尽量使用直接量创建对象和数组</li><li>最小化重绘(<code>repaint</code>)和回流(<code>reflow</code>)</li></ul><h3 id="111-描述浏览器的渲染过程，DOM树和渲染树的区别"><a href="#111-描述浏览器的渲染过程，DOM树和渲染树的区别" class="headerlink" title="# 111 描述浏览器的渲染过程，DOM树和渲染树的区别"></a><a href="http://interview.poetries.top/docs/base.html#_111-%E6%8F%8F%E8%BF%B0%E6%B5%8F%E8%A7%88%E5%99%A8%E7%9A%84%E6%B8%B2%E6%9F%93%E8%BF%87%E7%A8%8B-dom%E6%A0%91%E5%92%8C%E6%B8%B2%E6%9F%93%E6%A0%91%E7%9A%84%E5%8C%BA%E5%88%AB">#</a> 111 描述浏览器的渲染过程，DOM树和渲染树的区别</h3><ul><li>浏览器的渲染过程：<ul><li>解析<code>HTML</code>构建 <code>DOM</code>(DOM树)，并行请求 <code>css/image/js</code></li><li><code>CSS</code> 文件下载完成，开始构建 <code>CSSOM</code>(<code>CSS</code>树)</li><li><code>CSSOM</code> 构建结束后，和 <code>DOM</code> 一起生成 <code>Render Tree</code>(渲染树)</li><li>布局(<code>Layout</code>)：计算出每个节点在屏幕中的位置</li><li>显示(<code>Painting</code>)：通过显卡把页面画到屏幕上</li></ul></li><li><code>DOM</code>树 和 渲染树 的区别：<ul><li><code>DOM</code>树与<code>HTML</code>标签一一对应，包括<code>head</code>和隐藏元素</li><li>渲染树不包括<code>head</code>和隐藏元素，大段文本的每一个行都是独立节点，每一个节点都有对应的<code>css</code>属性</li></ul></li></ul><h3 id="112-script-的位置是否会影响首屏显示时间"><a href="#112-script-的位置是否会影响首屏显示时间" class="headerlink" title="# 112 script 的位置是否会影响首屏显示时间"></a><a href="http://interview.poetries.top/docs/base.html#_112-script-%E7%9A%84%E4%BD%8D%E7%BD%AE%E6%98%AF%E5%90%A6%E4%BC%9A%E5%BD%B1%E5%93%8D%E9%A6%96%E5%B1%8F%E6%98%BE%E7%A4%BA%E6%97%B6%E9%97%B4">#</a> 112 script 的位置是否会影响首屏显示时间</h3><ul><li>在解析 <code>HTML</code> 生成 <code>DOM</code> 过程中，<code>js</code> 文件的下载是并行的，不需要 <code>DOM</code> 处理到 <code>script</code> 节点。因此，<code>script</code>的位置不影响首屏显示的开始时间。</li><li>浏览器解析 <code>HTML</code> 是自上而下的线性过程，<code>script</code>作为 <code>HTML</code> 的一部分同样遵循这个原则</li><li>因此，<code>script</code> 会延迟 <code>DomContentLoad</code>，只显示其上部分首屏内容，从而影响首屏显示的完成时间</li></ul><h3 id="113-解释JavaScript中的作用域与变量声明提升"><a href="#113-解释JavaScript中的作用域与变量声明提升" class="headerlink" title="# 113 解释JavaScript中的作用域与变量声明提升"></a><a href="http://interview.poetries.top/docs/base.html#_113-%E8%A7%A3%E9%87%8Ajavascript%E4%B8%AD%E7%9A%84%E4%BD%9C%E7%94%A8%E5%9F%9F%E4%B8%8E%E5%8F%98%E9%87%8F%E5%A3%B0%E6%98%8E%E6%8F%90%E5%8D%87">#</a> 113 解释JavaScript中的作用域与变量声明提升</h3><ul><li><code>JavaScript</code>作用域：<ul><li>在<code>Java</code>、<code>C</code>等语言中，作用域为for语句、<code>if</code>语句或<code>&#123;&#125;</code>内的一块区域，称为作用域；</li><li>而在 <code>JavaScript</code> 中，作用域为<code>function()&#123;&#125;</code>内的区域，称为函数作用域。</li></ul></li><li><code>JavaScript</code>变量声明提升：<ul><li>在<code>JavaScript</code>中，函数声明与变量声明经常被<code>JavaScript</code>引擎隐式地提升到当前作用域的顶部。</li><li>声明语句中的赋值部分并不会被提升，只有名称被提升</li><li>函数声明的优先级高于变量，如果变量名跟函数名相同且未赋值，则函数声明会覆盖变量声明</li><li>如果函数有多个同名参数，那么最后一个参数（即使没有定义）会覆盖前面的同名参数</li></ul></li></ul><h3 id="114-JavaScript有几种类型的值？，你能画一下他们的内存图吗"><a href="#114-JavaScript有几种类型的值？，你能画一下他们的内存图吗" class="headerlink" title="# 114 JavaScript有几种类型的值？，你能画一下他们的内存图吗"></a><a href="http://interview.poetries.top/docs/base.html#_114-javascript%E6%9C%89%E5%87%A0%E7%A7%8D%E7%B1%BB%E5%9E%8B%E7%9A%84%E5%80%BC-%E4%BD%A0%E8%83%BD%E7%94%BB%E4%B8%80%E4%B8%8B%E4%BB%96%E4%BB%AC%E7%9A%84%E5%86%85%E5%AD%98%E5%9B%BE%E5%90%97">#</a> 114 JavaScript有几种类型的值？，你能画一下他们的内存图吗</h3><ul><li>原始数据类型（<code>Undefined</code>，<code>Null</code>，<code>Boolean</code>，<code>Number</code>、<code>String</code>）– 栈</li><li>引用数据类型（对象、数组和函数）– 堆</li><li>两种类型的区别是：存储位置不同：</li><li>原始数据类型是直接存储在栈(<code>stack</code>)中的简单数据段，占据空间小、大小固定，属于被频繁使用数据；</li><li>引用数据类型存储在堆(<code>heap</code>)中的对象，占据空间大、大小不固定，如果存储在栈中，将会影响程序运行的性能；</li><li>引用数据类型在栈中存储了指针，该指针指向堆中该实体的起始地址。</li><li>当解释器寻找引用值时，会首先检索其在栈中的地址，取得地址后从堆中获得实体。</li></ul><h3 id="115-JavaScript如何实现一个类，怎么实例化这个类"><a href="#115-JavaScript如何实现一个类，怎么实例化这个类" class="headerlink" title="# 115 JavaScript如何实现一个类，怎么实例化这个类"></a><a href="http://interview.poetries.top/docs/base.html#_115-javascript%E5%A6%82%E4%BD%95%E5%AE%9E%E7%8E%B0%E4%B8%80%E4%B8%AA%E7%B1%BB-%E6%80%8E%E4%B9%88%E5%AE%9E%E4%BE%8B%E5%8C%96%E8%BF%99%E4%B8%AA%E7%B1%BB">#</a> 115 JavaScript如何实现一个类，怎么实例化这个类</h3><ul><li><p>构造函数法（</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">this</span><br></pre></td></tr></table></figure><p> + </p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">prototype</span><br></pre></td></tr></table></figure><p>） – 用 </p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">new</span><br></pre></td></tr></table></figure><p> 关键字 生成实例对象</p><ul><li>缺点：用到了 <code>this</code> 和 <code>prototype</code>，编写复杂，可读性差</li></ul></li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Mobile</span>(<span class="params">name, price</span>)</span>&#123;</span><br><span class="line">  <span class="built_in">this</span>.name = name;</span><br><span class="line">  <span class="built_in">this</span>.price = price;</span><br><span class="line">&#125;</span><br><span class="line">Mobile.prototype.sell = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">  alert(<span class="built_in">this</span>.name + <span class="string">&quot;，售价 $&quot;</span> + <span class="built_in">this</span>.price);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> iPhone7 = <span class="keyword">new</span> Mobile(<span class="string">&quot;iPhone7&quot;</span>, <span class="number">1000</span>);</span><br><span class="line">iPhone7.sell();</span><br></pre></td></tr></table></figure><ul><li><code>Object.create</code> 法 – 用 <code>Object.create()</code> 生成实例对象</li><li>缺点：不能实现私有属性和私有方法，实例对象之间也不能共享数据</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> Person = &#123;</span><br><span class="line">    firstname: <span class="string">&quot;Mark&quot;</span>,</span><br><span class="line">    lastname: <span class="string">&quot;Yun&quot;</span>,</span><br><span class="line">    age: <span class="number">25</span>,</span><br><span class="line">    introduce: <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        alert(<span class="string">&#x27;I am &#x27;</span> + Person.firstname + <span class="string">&#x27; &#x27;</span> + Person.lastname);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> person = <span class="built_in">Object</span>.create(Person);</span><br><span class="line">person.introduce();</span><br><span class="line"></span><br><span class="line"><span class="comment">// Object.create 要求 IE9+，低版本浏览器可以自行部署：</span></span><br><span class="line"><span class="keyword">if</span> (!<span class="built_in">Object</span>.create) &#123;</span><br><span class="line">　   <span class="built_in">Object</span>.create = <span class="function"><span class="keyword">function</span> (<span class="params">o</span>) </span>&#123;</span><br><span class="line">　　　 <span class="function"><span class="keyword">function</span> <span class="title">F</span>(<span class="params"></span>) </span>&#123;&#125;</span><br><span class="line">　　　 F.prototype = o;</span><br><span class="line">　　　 <span class="keyword">return</span> <span class="keyword">new</span> F();</span><br><span class="line">　　&#125;;</span><br><span class="line">　&#125;</span><br></pre></td></tr></table></figure><ul><li><p>极简主义法（消除 </p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">this</span><br></pre></td></tr></table></figure><p> 和 </p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">prototype</span><br></pre></td></tr></table></figure><p>） – 调用 </p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">createNew()</span><br></pre></td></tr></table></figure><p> 得到实例对象</p><ul><li>优点：容易理解，结构清晰优雅，符合传统的”面向对象编程”的构造</li></ul></li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> Cat = &#123;</span><br><span class="line">  age: <span class="number">3</span>, <span class="comment">// 共享数据 -- 定义在类对象内，createNew() 外</span></span><br><span class="line">  createNew: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> cat = &#123;&#125;;</span><br><span class="line">    <span class="comment">// var cat = Animal.createNew(); // 继承 Animal 类</span></span><br><span class="line">    cat.name = <span class="string">&quot;小咪&quot;</span>;</span><br><span class="line">    <span class="keyword">var</span> sound = <span class="string">&quot;喵喵喵&quot;</span>; <span class="comment">// 私有属性--定义在 createNew() 内，输出对象外</span></span><br><span class="line">    cat.makeSound = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">      alert(sound);  <span class="comment">// 暴露私有属性</span></span><br><span class="line">    &#125;;</span><br><span class="line">    cat.changeAge = <span class="function"><span class="keyword">function</span>(<span class="params">num</span>)</span>&#123;</span><br><span class="line">      Cat.age = num; <span class="comment">// 修改共享数据</span></span><br><span class="line">    &#125;;</span><br><span class="line">    <span class="keyword">return</span> cat; <span class="comment">// 输出对象</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> cat = Cat.createNew();</span><br><span class="line">cat.makeSound();</span><br></pre></td></tr></table></figure><blockquote><p><code>ES6</code> 语法糖 <code>class</code> – 用 <code>new</code> 关键字 生成实例对象</p></blockquote><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Point</span> </span>&#123;</span><br><span class="line">  <span class="keyword">constructor</span>(x, y) &#123;</span><br><span class="line">    <span class="built_in">this</span>.x = x;</span><br><span class="line">    <span class="built_in">this</span>.y = y;</span><br><span class="line">  &#125;</span><br><span class="line">  toString() &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">&#x27;(&#x27;</span> + <span class="built_in">this</span>.x + <span class="string">&#x27;, &#x27;</span> + <span class="built_in">this</span>.y + <span class="string">&#x27;)&#x27;</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> point = <span class="keyword">new</span> Point(<span class="number">2</span>, <span class="number">3</span>);</span><br></pre></td></tr></table></figure><h3 id="116-Javascript如何实现继承"><a href="#116-Javascript如何实现继承" class="headerlink" title="# 116 Javascript如何实现继承"></a><a href="http://interview.poetries.top/docs/base.html#_116-javascript%E5%A6%82%E4%BD%95%E5%AE%9E%E7%8E%B0%E7%BB%A7%E6%89%BF">#</a> 116 Javascript如何实现继承</h3><blockquote><p>构造函数绑定：使用 <code>call</code> 或 <code>apply</code> 方法，将父对象的构造函数绑定在子对象上</p></blockquote><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Cat</span>(<span class="params">name,color</span>)</span>&#123;</span><br><span class="line"> 　Animal.apply(<span class="built_in">this</span>, <span class="built_in">arguments</span>);</span><br><span class="line"> 　<span class="built_in">this</span>.name = name;</span><br><span class="line"> 　<span class="built_in">this</span>.color = color;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>实例继承：将子对象的 prototype 指向父对象的一个实例</li></ul><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Cat.prototype = <span class="keyword">new</span> Animal();</span><br><span class="line">Cat.prototype.constructor = Cat;</span><br></pre></td></tr></table></figure><blockquote><p>拷贝继承：如果把父对象的所有属性和方法，拷贝进子对象</p></blockquote><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">extend</span>(<span class="params">Child, Parent</span>) </span>&#123;</span><br><span class="line">　　　<span class="keyword">var</span> p = Parent.prototype;</span><br><span class="line">　　　<span class="keyword">var</span> c = Child.prototype;</span><br><span class="line">　　　<span class="keyword">for</span> (<span class="keyword">var</span> i <span class="keyword">in</span> p) &#123;</span><br><span class="line">　　　   c[i] = p[i];</span><br><span class="line">　　　&#125;</span><br><span class="line">　　　c.uber = p;</span><br><span class="line">　 &#125;</span><br></pre></td></tr></table></figure><blockquote><p>原型继承：将子对象的 <code>prototype</code> 指向父对象的 <code>prototype</code></p></blockquote><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">extend</span>(<span class="params">Child, Parent</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> F = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;&#125;;</span><br><span class="line">  　F.prototype = Parent.prototype;</span><br><span class="line">  　Child.prototype = <span class="keyword">new</span> F();</span><br><span class="line">  　Child.prototype.constructor = Child;</span><br><span class="line">  　Child.uber = Parent.prototype;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ES6&#96; 语法糖 &#96;extends：class ColorPoint extends Point &#123;&#125;</span><br></pre></td></tr></table></figure></blockquote><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">ColorPoint</span> <span class="keyword">extends</span> <span class="title">Point</span> </span>&#123;</span><br><span class="line">    <span class="keyword">constructor</span>(x, y, color) &#123;</span><br><span class="line">      <span class="built_in">super</span>(x, y); <span class="comment">// 调用父类的constructor(x, y)</span></span><br><span class="line">      <span class="built_in">this</span>.color = color;</span><br><span class="line">    &#125;</span><br><span class="line">    toString() &#123;</span><br><span class="line">      <span class="keyword">return</span> <span class="built_in">this</span>.color + <span class="string">&#x27; &#x27;</span> + <span class="built_in">super</span>.toString(); <span class="comment">// 调用父类的toString()</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="121-什么是函数节流？介绍一下应用场景和原理？"><a href="#121-什么是函数节流？介绍一下应用场景和原理？" class="headerlink" title="121 什么是函数节流？介绍一下应用场景和原理？"></a>121 什么是函数节流？介绍一下应用场景和原理？</h3><ul><li>函数节流(<code>throttle</code>)是指阻止一个函数在很短时间间隔内连续调用。 只有当上一次函数执行后达到规定的时间间隔，才能进行下一次调用。 但要保证一个累计最小调用间隔（否则拖拽类的节流都将无连续效果）</li><li>函数节流用于 <code>onresize</code>, <code>onscroll</code> 等短时间内会多次触发的事件</li><li>函数节流的原理：使用定时器做时间节流。 当触发一个事件时，先用 <code>setTimout</code> 让这个事件延迟一小段时间再执行。 如果在这个时间间隔内又触发了事件，就 <code>clearTimeout</code> 原来的定时器， 再 <code>setTimeout</code> 一个新的定时器重复以上流程。</li></ul><p><strong>函数节流简单实现：</strong></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">throttle</span>(<span class="params">method, context</span>) </span>&#123;</span><br><span class="line">     <span class="built_in">clearTimeout</span>(methor.tId);</span><br><span class="line">     method.tId = <span class="built_in">setTimeout</span>(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">         method.call(context);</span><br><span class="line">     &#125;， <span class="number">100</span>); <span class="comment">// 两次调用至少间隔 100ms</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 调用</span></span><br><span class="line"><span class="built_in">window</span>.onresize = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">  throttle(myFunc, <span class="built_in">window</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="122-区分什么是“客户区坐标”、“页面坐标”、“屏幕坐标”"><a href="#122-区分什么是“客户区坐标”、“页面坐标”、“屏幕坐标”" class="headerlink" title="# 122 区分什么是“客户区坐标”、“页面坐标”、“屏幕坐标”"></a><a href="http://interview.poetries.top/docs/base.html#_122-%E5%8C%BA%E5%88%86%E4%BB%80%E4%B9%88%E6%98%AF-%E5%AE%A2%E6%88%B7%E5%8C%BA%E5%9D%90%E6%A0%87-%E3%80%81-%E9%A1%B5%E9%9D%A2%E5%9D%90%E6%A0%87-%E3%80%81-%E5%B1%8F%E5%B9%95%E5%9D%90%E6%A0%87">#</a> 122 区分什么是“客户区坐标”、“页面坐标”、“屏幕坐标”</h3><ul><li>客户区坐标：鼠标指针在可视区中的水平坐标(<code>clientX</code>)和垂直坐标(<code>clientY</code>)</li><li>页面坐标：鼠标指针在页面布局中的水平坐标(<code>pageX</code>)和垂直坐标(<code>pageY</code>)</li><li>屏幕坐标：设备物理屏幕的水平坐标(<code>screenX</code>)和垂直坐标(<code>screenY</code>)</li></ul><p><strong>如何获得一个DOM元素的绝对位置？</strong></p><ul><li><code>elem.offsetLef</code>t：返回元素相对于其定位父级左侧的距离</li><li><code>elem.offsetTop</code>：返回元素相对于其定位父级顶部的距离</li><li><code>elem.getBoundingClientRect()</code>：返回一个<code>DOMRect</code>对象，包含一组描述边框的只读属性，单位像素</li></ul><h3 id="124-Javascript垃圾回收方法"><a href="#124-Javascript垃圾回收方法" class="headerlink" title="124 Javascript垃圾回收方法"></a>124 Javascript垃圾回收方法</h3><ul><li>标记清除（mark and sweep）</li></ul><blockquote><ul><li>这是JavaScript最常见的垃圾回收方式，当变量进入执行环境的时候，比如函数中声明一个变量，垃圾回收器将其标记为“进入环境”，当变量离开环境的时候（函数执行结束）将其标记为“离开环境”</li><li>垃圾回收器会在运行的时候给存储在内存中的所有变量加上标记，然后去掉环境中的变量以及被环境中变量所引用的变量（闭包），在这些完成之后仍存在标记的就是要删除的变量了</li></ul></blockquote><p><strong>引用计数(reference counting)</strong></p><blockquote><p>在低版本IE中经常会出现内存泄露，很多时候就是因为其采用引用计数方式进行垃圾回收。引用计数的策略是跟踪记录每个值被使用的次数，当声明了一个  变量并将一个引用类型赋值给该变量的时候这个值的引用次数就加1，如果该变量的值变成了另外一个，则这个值得引用次数减1，当这个值的引用次数变为0的时 候，说明没有变量在使用，这个值没法被访问了，因此可以将其占用的空间回收，这样垃圾回收器会在运行的时候清理掉引用次数为0的值占用的空间</p></blockquote><h3 id="125-请解释一下-JavaScript-的同源策略"><a href="#125-请解释一下-JavaScript-的同源策略" class="headerlink" title="# 125 请解释一下 JavaScript 的同源策略"></a><a href="http://interview.poetries.top/docs/base.html#_125-%E8%AF%B7%E8%A7%A3%E9%87%8A%E4%B8%80%E4%B8%8B-javascript-%E7%9A%84%E5%90%8C%E6%BA%90%E7%AD%96%E7%95%A5">#</a> 125 请解释一下 JavaScript 的同源策略</h3><ul><li>概念:同源策略是客户端脚本（尤其是Javascript）的重要的安全度量标准。它最早出自Netscape Navigator2.0，其目的是防止某个文档或脚本从多个不同源装载。这里的同源策略指的是：协议，域名，端口相同，同源策略是一种安全协议</li><li>指一段脚本只能读取来自同一来源的窗口和文档的属性</li></ul><p><strong>为什么要有同源限制？</strong></p><ul><li>我们举例说明：比如一个黑客程序，他利用Iframe把真正的银行登录页面嵌到他的页面上，当你使用真实的用户名，密码登录时，他的页面就可以通过Javascript读取到你的表单中input中的内容，这样用户名，密码就轻松到手了。</li><li>缺点<ul><li>现在网站的JS都会进行压缩，一些文件用了严格模式，而另一些没有。这时这些本来是严格模式的文件，被 merge后，这个串就到了文件的中间，不仅没有指示严格模式，反而在压缩后浪费了字节</li></ul></li></ul><h3 id="126-如何删除一个cookie"><a href="#126-如何删除一个cookie" class="headerlink" title="# 126 如何删除一个cookie"></a><a href="http://interview.poetries.top/docs/base.html#_126-%E5%A6%82%E4%BD%95%E5%88%A0%E9%99%A4%E4%B8%80%E4%B8%AAcookie">#</a> 126 如何删除一个cookie</h3><ul><li>将时间设为当前时间往前一点</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> date = <span class="keyword">new</span> <span class="built_in">Date</span>();</span><br><span class="line"></span><br><span class="line">date.setDate(date.getDate() - <span class="number">1</span>);<span class="comment">//真正的删除</span></span><br></pre></td></tr></table></figure><blockquote><p><code>setDate()</code>方法用于设置一个月的某一天</p></blockquote><ul><li><code>expires</code>的设置</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">document</span>.cookie = <span class="string">&#x27;user=&#x27;</span>+ <span class="built_in">encodeURIComponent</span>(<span class="string">&#x27;name&#x27;</span>)  + <span class="string">&#x27;;expires = &#x27;</span> + <span class="keyword">new</span> <span class="built_in">Date</span>(<span class="number">0</span>)</span><br></pre></td></tr></table></figure><h3 id="129-JavaScript-中，调用函数有哪几种方式"><a href="#129-JavaScript-中，调用函数有哪几种方式" class="headerlink" title="129 JavaScript 中，调用函数有哪几种方式"></a>129 JavaScript 中，调用函数有哪几种方式</h3><ul><li>方法调用模式          <code>Foo.foo(arg1, arg2);</code></li><li>函数调用模式          <code>foo(arg1, arg2);</code></li><li>构造器调用模式        <code>(new Foo())(arg1, arg2);</code></li><li><code>call/applay</code>调用模式   <code>Foo.foo.call(that, arg1, arg2);</code></li><li><code>bind</code>调用模式          <code>Foo.foo.bind(that)(arg1, arg2)();</code></li></ul><h3 id="130-简单实现-Function-bind-函数"><a href="#130-简单实现-Function-bind-函数" class="headerlink" title="# 130 简单实现 Function.bind 函数"></a><a href="http://interview.poetries.top/docs/base.html#_130-%E7%AE%80%E5%8D%95%E5%AE%9E%E7%8E%B0-function-bind-%E5%87%BD%E6%95%B0">#</a> 130 简单实现 Function.bind 函数</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> (!<span class="built_in">Function</span>.prototype.bind) &#123;</span><br><span class="line">  <span class="built_in">Function</span>.prototype.bind = <span class="function"><span class="keyword">function</span>(<span class="params">that</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> func = <span class="built_in">this</span>, args = <span class="built_in">arguments</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">      <span class="keyword">return</span> func.apply(that, <span class="built_in">Array</span>.prototype.slice.call(args, <span class="number">1</span>));</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 只支持 bind 阶段的默认参数：</span></span><br><span class="line">func.bind(that, arg1, arg2)();</span><br><span class="line"></span><br><span class="line"><span class="comment">// 不支持以下调用阶段传入的参数：</span></span><br><span class="line">func.bind(that)(arg1, arg2);</span><br></pre></td></tr></table></figure><h3 id="131-列举一下JavaScript数组和对象有哪些原生方法？"><a href="#131-列举一下JavaScript数组和对象有哪些原生方法？" class="headerlink" title="# 131 列举一下JavaScript数组和对象有哪些原生方法？"></a><a href="http://interview.poetries.top/docs/base.html#_131-%E5%88%97%E4%B8%BE%E4%B8%80%E4%B8%8Bjavascript%E6%95%B0%E7%BB%84%E5%92%8C%E5%AF%B9%E8%B1%A1%E6%9C%89%E5%93%AA%E4%BA%9B%E5%8E%9F%E7%94%9F%E6%96%B9%E6%B3%95">#</a> 131 列举一下JavaScript数组和对象有哪些原生方法？</h3><p><strong>数组：</strong></p><ul><li><code>arr.concat(arr1, arr2, arrn);</code></li><li><code>arr.join(&quot;,&quot;);</code></li><li><code>arr.sort(func);</code></li><li><code>arr.pop();</code></li><li><code>arr.push(e1, e2, en);</code></li><li><code>arr.shift();</code></li><li><code>unshift(e1, e2, en);</code></li><li><code>arr.reverse();</code></li><li><code>arr.slice(start, end);</code></li><li><code>arr.splice(index, count, e1, e2, en);</code></li><li><code>arr.indexOf(el);</code></li><li><code>arr.includes(el);</code>   // ES6</li></ul><p><strong>对象：</strong></p><ul><li><code>object.hasOwnProperty(prop);</code></li><li><code>object.propertyIsEnumerable(prop);</code></li><li><code>object.valueOf();</code></li><li><code>object.toString();</code></li><li><code>object.toLocaleString();</code></li><li><code>Class.prototype.isPropertyOf(object);</code></li></ul><h3 id="132-Array-splice-与-Array-splice-的区别？"><a href="#132-Array-splice-与-Array-splice-的区别？" class="headerlink" title="# 132 Array.splice() 与 Array.splice() 的区别？"></a><a href="http://interview.poetries.top/docs/base.html#_132-array-splice-%E4%B8%8E-array-splice-%E7%9A%84%E5%8C%BA%E5%88%AB">#</a> 132 Array.splice() 与 Array.splice() 的区别？</h3><p><strong><code>slice</code></strong></p><blockquote><p>“读取”数组指定的元素，不会对原数组进行修改</p></blockquote><ul><li>语法：<code>arr.slice(start, end)</code></li><li><code>start</code> 指定选取开始位置（含）</li><li><code>end</code> 指定选取结束位置（不含）</li></ul><p><strong>splice</strong></p><ul><li>“操作”数组指定的元素，会修改原数组，返回被删除的元素</li><li>语法：<code>arr.splice(index, count, [insert Elements])</code></li><li><code>index</code> 是操作的起始位置</li><li><code>count = 0</code> 插入元素，<code>count &gt; 0</code> 删除元素</li><li><code>[insert Elements]</code> 向数组新插入的元素</li></ul><h3 id="133-MVVM"><a href="#133-MVVM" class="headerlink" title="# 133 MVVM"></a><a href="http://interview.poetries.top/docs/base.html#_133-mvvm">#</a> 133 MVVM</h3><p><strong>MVVM 由以下三个内容组成</strong></p><ul><li><code>View</code>：界面</li><li><code>Model</code>：数据模型</li><li><code>ViewModel</code>：作为桥梁负责沟通 <code>View</code> 和 <code>Model</code></li></ul><blockquote><ul><li>在 JQuery 时期，如果需要刷新 UI 时，需要先取到对应的 DOM 再更新 UI，这样数据和业务的逻辑就和页面有强耦合</li><li>在 MVVM 中，UI 是通过数据驱动的，数据一旦改变就会相应的刷新对应的 UI，UI  如果改变，也会改变对应的数据。这种方式就可以在业务处理中只关心数据的流转，而无需直接和页面打交道。ViewModel  只关心数据和业务的处理，不关心 View 如何处理数据，在这种情况下，View 和 Model  都可以独立出来，任何一方改变了也不一定需要改变另一方，并且可以将一些可复用的逻辑放在一个 ViewModel 中，让多个 View 复用这个  ViewModel</li></ul></blockquote><ul><li>在 MVVM 中，最核心的也就是数据双向绑定，例如 Angluar 的脏数据检测，Vue 中的数据劫持</li></ul><p><strong>脏数据检测</strong></p><ul><li>当触发了指定事件后会进入脏数据检测，这时会调用 $digest 循环遍历所有的数据观察者，判断当前值是否和先前的值有区别，如果检测到变化的话，会调用 $watch 函数，然后再次调用 $digest 循环直到发现没有变化。循环至少为二次 ，至多为十次</li><li>脏数据检测虽然存在低效的问题，但是不关心数据是通过什么方式改变的，都可以完成任务，但是这在 Vue 中的双向绑定是存在问题的。并且脏数据检测可以实现批量检测出更新的值，再去统一更新 UI，大大减少了操作 DOM 的次数</li></ul><p><strong>数据劫持</strong></p><ul><li><code>Vue</code> 内部使用了 <code>Obeject.defineProperty()</code> 来实现双向绑定，通过这个函数可以监听到 <code>set</code> 和 <code>get</code>的事件</li></ul><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> data = &#123; <span class="attr">name</span>: <span class="string">&#x27;yck&#x27;</span> &#125;</span><br><span class="line">observe(data)</span><br><span class="line"><span class="keyword">let</span> name = data.name <span class="comment">// -&gt; get value</span></span><br><span class="line">data.name = <span class="string">&#x27;yyy&#x27;</span> <span class="comment">// -&gt; change value</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">observe</span>(<span class="params">obj</span>) </span>&#123;</span><br><span class="line">  <span class="comment">// 判断类型</span></span><br><span class="line">  <span class="keyword">if</span> (!obj || <span class="keyword">typeof</span> obj !== <span class="string">&#x27;object&#x27;</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span></span><br><span class="line">  &#125;</span><br><span class="line">  <span class="built_in">Object</span>.keys(data).forEach(<span class="function"><span class="params">key</span> =&gt;</span> &#123;</span><br><span class="line">    defineReactive(data, key, data[key])</span><br><span class="line">  &#125;)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">defineReactive</span>(<span class="params">obj, key, val</span>) </span>&#123;</span><br><span class="line">  <span class="comment">// 递归子属性</span></span><br><span class="line">  observe(val)</span><br><span class="line">  <span class="built_in">Object</span>.defineProperty(obj, key, &#123;</span><br><span class="line">    enumerable: <span class="literal">true</span>,</span><br><span class="line">    configurable: <span class="literal">true</span>,</span><br><span class="line">    get: <span class="function"><span class="keyword">function</span> <span class="title">reactiveGetter</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">      <span class="built_in">console</span>.log(<span class="string">&#x27;get value&#x27;</span>)</span><br><span class="line">      <span class="keyword">return</span> val</span><br><span class="line">    &#125;,</span><br><span class="line">    set: <span class="function"><span class="keyword">function</span> <span class="title">reactiveSetter</span>(<span class="params">newVal</span>) </span>&#123;</span><br><span class="line">      <span class="built_in">console</span>.log(<span class="string">&#x27;change value&#x27;</span>)</span><br><span class="line">      val = newVal</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><p>以上代码简单的实现了如何监听数据的 set 和 get 的事件，但是仅仅如此是不够的，还需要在适当的时候给属性添加发布订阅</p></blockquote><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">    &#123;&#123;name&#125;&#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure><blockquote><p>在解析如上模板代码时，遇到 <code>&#123;name&#125;</code> 就会给属性 <code>name</code> 添加发布订阅</p></blockquote><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 通过 Dep 解耦</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Dep</span> </span>&#123;</span><br><span class="line">  <span class="keyword">constructor</span>() &#123;</span><br><span class="line">    <span class="built_in">this</span>.subs = []</span><br><span class="line">  &#125;</span><br><span class="line">  addSub(sub) &#123;</span><br><span class="line">    <span class="comment">// sub 是 Watcher 实例</span></span><br><span class="line">    <span class="built_in">this</span>.subs.push(sub)</span><br><span class="line">  &#125;</span><br><span class="line">  notify() &#123;</span><br><span class="line">    <span class="built_in">this</span>.subs.forEach(<span class="function"><span class="params">sub</span> =&gt;</span> &#123;</span><br><span class="line">      sub.update()</span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 全局属性，通过该属性配置 Watcher</span></span><br><span class="line">Dep.target = <span class="literal">null</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">update</span>(<span class="params">value</span>) </span>&#123;</span><br><span class="line">  <span class="built_in">document</span>.querySelector(<span class="string">&#x27;div&#x27;</span>).innerText = value</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Watcher</span> </span>&#123;</span><br><span class="line">  <span class="keyword">constructor</span>(obj, key, cb) &#123;</span><br><span class="line">    <span class="comment">// 将 Dep.target 指向自己</span></span><br><span class="line">    <span class="comment">// 然后触发属性的 getter 添加监听</span></span><br><span class="line">    <span class="comment">// 最后将 Dep.target 置空</span></span><br><span class="line">    Dep.target = <span class="built_in">this</span></span><br><span class="line">    <span class="built_in">this</span>.cb = cb</span><br><span class="line">    <span class="built_in">this</span>.obj = obj</span><br><span class="line">    <span class="built_in">this</span>.key = key</span><br><span class="line">    <span class="built_in">this</span>.value = obj[key]</span><br><span class="line">    Dep.target = <span class="literal">null</span></span><br><span class="line">  &#125;</span><br><span class="line">  update() &#123;</span><br><span class="line">    <span class="comment">// 获得新值</span></span><br><span class="line">    <span class="built_in">this</span>.value = <span class="built_in">this</span>.obj[<span class="built_in">this</span>.key]</span><br><span class="line">    <span class="comment">// 调用 update 方法更新 Dom</span></span><br><span class="line">    <span class="built_in">this</span>.cb(<span class="built_in">this</span>.value)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> data = &#123; <span class="attr">name</span>: <span class="string">&#x27;yck&#x27;</span> &#125;</span><br><span class="line">observe(data)</span><br><span class="line"><span class="comment">// 模拟解析到 `&#123;&#123;name&#125;&#125;` 触发的操作</span></span><br><span class="line"><span class="keyword">new</span> Watcher(data, <span class="string">&#x27;name&#x27;</span>, update)</span><br><span class="line"><span class="comment">// update Dom innerText</span></span><br><span class="line">data.name = <span class="string">&#x27;yyy&#x27;</span> </span><br></pre></td></tr></table></figure><blockquote><p>接下来,对 defineReactive 函数进行改造</p></blockquote><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">defineReactive</span>(<span class="params">obj, key, val</span>) </span>&#123;</span><br><span class="line">  <span class="comment">// 递归子属性</span></span><br><span class="line">  observe(val)</span><br><span class="line">  <span class="keyword">let</span> dp = <span class="keyword">new</span> Dep()</span><br><span class="line">  <span class="built_in">Object</span>.defineProperty(obj, key, &#123;</span><br><span class="line">    enumerable: <span class="literal">true</span>,</span><br><span class="line">    configurable: <span class="literal">true</span>,</span><br><span class="line">    get: <span class="function"><span class="keyword">function</span> <span class="title">reactiveGetter</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">      <span class="built_in">console</span>.log(<span class="string">&#x27;get value&#x27;</span>)</span><br><span class="line">      <span class="comment">// 将 Watcher 添加到订阅</span></span><br><span class="line">      <span class="keyword">if</span> (Dep.target) &#123;</span><br><span class="line">        dp.addSub(Dep.target)</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="keyword">return</span> val</span><br><span class="line">    &#125;,</span><br><span class="line">    set: <span class="function"><span class="keyword">function</span> <span class="title">reactiveSetter</span>(<span class="params">newVal</span>) </span>&#123;</span><br><span class="line">      <span class="built_in">console</span>.log(<span class="string">&#x27;change value&#x27;</span>)</span><br><span class="line">      val = newVal</span><br><span class="line">      <span class="comment">// 执行 watcher 的 update 方法</span></span><br><span class="line">      dp.notify()</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><p>以上实现了一个简易的双向绑定，核心思路就是手动触发一次属性的 getter 来实现发布订阅的添加</p></blockquote><p><strong>Proxy 与 Obeject.defineProperty 对比</strong></p><ul><li><p>```<br>Obeject.defineProperty</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">   虽然已经能够实现双向绑定了，但是他还是有缺陷的。</span><br><span class="line"></span><br><span class="line">  - 只能对属性进行数据劫持，所以需要深度遍历整个对象</span><br><span class="line">  - 对于数组不能监听到数据的变化</span><br><span class="line"></span><br><span class="line">&gt; 虽然 &#96;Vue&#96; 中确实能检测到数组数据的变化，但是其实是使用了 &#96;hack&#96; 的办法，并且也是有缺陷的</span><br><span class="line"></span><br><span class="line">### 134 WEB应用从服务器主动推送Data到客户端有那些方式</span><br><span class="line"></span><br><span class="line">- &#96;AJAX&#96; 轮询</span><br><span class="line">- &#96;html5&#96; 服务器推送事件 &#96;(new EventSource(SERVER_URL)).addEventListener(&quot;message&quot;, func);&#96;</span><br><span class="line">- html5 Websocket</span><br><span class="line"></span><br><span class="line">- &#96;(new WebSocket(SERVER_URL)).addEventListener(&quot;message&quot;, func);&#96;</span><br><span class="line"></span><br><span class="line">### [#](http:&#x2F;&#x2F;interview.poetries.top&#x2F;docs&#x2F;base.html#_135-继承) 135 继承</span><br><span class="line"></span><br><span class="line">- **原型链继承**，将父类的实例作为子类的原型，他的特点是实例是子类的实例也是父类的实例，父类新增的原型方法&#x2F;属性，子类都能够访问，并且原型链继承简单易于实现，缺点是来自原型对象的所有属性被所有实例共享，无法实现多继承，无法向父类构造函数传参。</span><br><span class="line">- **构造继承**，使用父类的构造函数来增强子类实例，即复制父类的实例属性给子类，构造继承可以向父类传递参数，可以实现多继承，通过&#96;call&#96;多个父类对象。但是构造继承只能继承父类的实例属性和方法，不能继承原型属性和方法，无法实现函数服用，每个子类都有父类实例函数的副本，影响性能</span><br><span class="line">- **实例继承**，为父类实例添加新特性，作为子类实例返回，实例继承的特点是不限制调用方法，不管是new 子类（）还是子类（）返回的对象具有相同的效果，缺点是实例是父类的实例，不是子类的实例，不支持多继承</span><br><span class="line">- **拷贝继承**：特点：支持多继承，缺点：效率较低，内存占用高（因为要拷贝父类的属性）无法获取父类不可枚举的方法（不可枚举方法，不能使用&#96;for in&#96;访问到）</span><br><span class="line">- **组合继承**：通过调用父类构造，继承父类的属性并保留传参的优点，然后通过将父类实例作为子类原型，实现函数复用</span><br><span class="line">- **寄生组合继承**：通过寄生方式，砍掉父类的实例属性，这样，在调用两次父类的构造的时候，就不会初始化两次实例方法&#x2F;属性，避免的组合继承的缺点</span><br><span class="line"></span><br><span class="line">### [#](http:&#x2F;&#x2F;interview.poetries.top&#x2F;docs&#x2F;base.html#_136-this指向) 136 this指向</span><br><span class="line"></span><br><span class="line">**1. this 指向有哪几种**</span><br><span class="line"></span><br><span class="line">- 默认绑定：全局环境中，&#96;this&#96;默认绑定到&#96;window&#96;</span><br><span class="line"></span><br><span class="line">- 隐式绑定：一般地，被直接对象所包含的函数调用时，也称为方法调用，&#96;this&#96;隐式绑定到该直接对象</span><br><span class="line"></span><br><span class="line">- 隐式丢失：隐式丢失是指被隐式绑定的函数丢失绑定对象，从而默认绑定到&#96;window&#96;。显式绑定：通过&#96;call()&#96;、&#96;apply()&#96;、&#96;bind()&#96;方法把对象绑定到&#96;this&#96;上，叫做显式绑定</span><br><span class="line"></span><br><span class="line">- &#96;&#96;&#96;</span><br><span class="line">  new</span><br></pre></td></tr></table></figure><p>绑定：如果函数或者方法调用之前带有关键字</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">new</span><br></pre></td></tr></table></figure><p>，它就构成构造函数调用。对于</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">this</span><br></pre></td></tr></table></figure><p>绑定来说，称为</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">new</span><br></pre></td></tr></table></figure><p>绑定</p><ul><li>构造函数通常不使用<code>return</code>关键字，它们通常初始化新对象，当构造函数的函数体执行完毕时，它会显式返回。在这种情况下，构造函数调用表达式的计算结果就是这个新对象的值</li><li>如果构造函数使用<code>return</code>语句但没有指定返回值，或者返回一个原始值，那么这时将忽略返回值，同时使用这个新对象作为调用结果</li><li>如果构造函数显式地使用<code>return</code>语句返回一个对象，那么调用表达式的值就是这个对象</li></ul></li></ul><p><strong>2. 改变函数内部 this 指针的指向函数（bind，apply，call的区别）</strong></p><ul><li><code>apply</code>：调用一个对象的一个方法，用另一个对象替换当前对象。例如：<code>B.apply(A, arguments)</code>;即A对象应用B对象的方法</li><li><code>call</code>：调用一个对象的一个方法，用另一个对象替换当前对象。例如：<code>B.call(A, args1,args2)</code>;即A对象调用B对象的方法</li><li><code>bind</code>除了返回是函数以外，它的参数和<code>call</code>一样</li></ul><p><strong>3. 箭头函数</strong></p><ul><li>箭头函数没有<code>this</code>，所以需要通过查找作用域链来确定<code>this</code>的值，这就意味着如果箭头函数被非箭头函数包含，<code>this</code>绑定的就是最近一层非箭头函数的<code>this</code>，</li><li>箭头函数没有自己的<code>arguments</code>对象，但是可以访问外围函数的<code>arguments</code>对象</li><li>不能通过<code>new</code>关键字调用，同样也没有<code>new.target</code>值和原型</li></ul><h3 id="138-加载"><a href="#138-加载" class="headerlink" title="138 加载"></a>138 加载</h3><p><strong>1. 异步加载js的方法</strong></p><ul><li><code>defer</code>：只支持IE如果您的脚本不会改变文档的内容，可将 <code>defer</code> 属性加入到<code>&lt;script&gt;</code>标签中，以便加快处理文档的速度。因为浏览器知道它将能够安全地读取文档的剩余部分而不用执行脚本，它将推迟对脚本的解释，直到文档已经显示给用户为止</li><li><code>async</code>：<code>HTML5</code> 属性，仅适用于外部脚本；并且如果在IE中，同时存在<code>defer</code>和<code>async</code>，那么<code>defer</code>的优先级比较高；脚本将在页面完成时执行</li></ul><p><strong>2. 图片的懒加载和预加载</strong></p><ul><li>预加载：提前加载图片，当用户需要查看时可直接从本地缓存中渲染。</li><li>懒加载：懒加载的主要目的是作为服务器前端的优化，减少请求数或延迟请求数</li></ul><blockquote><p>两种技术的本质：两者的行为是相反的，一个是提前加载，一个是迟缓甚至不加载。懒加载对服务器前端有一定的缓解压力作用，预加载则会增加服务器前端压力。</p></blockquote><h3 id="139-垃圾回收"><a href="#139-垃圾回收" class="headerlink" title="# 139 垃圾回收"></a><a href="http://interview.poetries.top/docs/base.html#_139-%E5%9E%83%E5%9C%BE%E5%9B%9E%E6%94%B6">#</a> 139 垃圾回收</h3><blockquote><p>找出那些不再继续使用的变 量，然后释放其占用的内存。为此，垃圾收集器会按照固定的时间间隔(或代码执行中预定的收集时间)， 周期性地执行这一操作。</p></blockquote><p><strong>标记清除</strong></p><blockquote><p>先所有都加上标记，再把环境中引用到的变量去除标记。剩下的就是没用的了</p></blockquote><p><strong>引用计数</strong></p><blockquote><p>跟踪记录每 个值被引用的次数。清除引用次数为0的变量 ⚠️会有循环引用问题 。循环引用如果大量存在就会导致内存泄露。</p></blockquote>]]></content>
      
      
      <categories>
          
          <category> 前端 </category>
          
          <category> 基础 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 前端 </tag>
            
            <tag> 学习笔记 </tag>
            
            <tag> 基础 </tag>
            
            <tag> JavaScript </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>前端指南-css部分</title>
      <link href="ckqxqe4p0003dbwwf51i78x2x/"/>
      <url>ckqxqe4p0003dbwwf51i78x2x/</url>
      
        <content type="html"><![CDATA[<p>这是对于前端-css部分的学习笔记及分享，会一直更新，保持学习的进步</p><a id="more"></a><h3 id="1-css-sprite是什么-有什么优缺点"><a href="#1-css-sprite是什么-有什么优缺点" class="headerlink" title="1 css sprite是什么,有什么优缺点"></a>1 css sprite是什么,有什么优缺点</h3><ul><li>概念：将多个小图片拼接到一个图片中。通过<code>background-position</code>和元素尺寸调节需要显示的背景图案。</li><li>优点：<ul><li>  减少<code>HTTP</code>请求数，极大地提高页面加载速度</li><li>  增加图片信息重复度，提高压缩比，减少图片大小</li><li>  更换风格方便，只需在一张或几张图片上修改颜色或样式即可实现</li></ul></li><li>缺点：<ul><li>  图片合并麻烦</li><li>  维护麻烦，修改一个图片可能需要从新布局整个图片，样式  </li></ul></li></ul><h3 id="2-display-none-与visibility-hidden-的区别"><a href="#2-display-none-与visibility-hidden-的区别" class="headerlink" title="2 display: none;与visibility: hidden;的区别"></a>2 <code>display: none;</code>与<code>visibility: hidden;</code>的区别</h3><ul><li>联系：它们都能让元素不可见</li><li>区别：<ul><li>  <code>display:none</code>;会让元素完全从渲染树中消失，渲染的时候不占据任何空间；<code>visibility: hidden</code>;不会让元素从渲染树消失，渲染师元素继续占据空间，只是内容不可见</li><li>  <code>display: none</code>;是非继承属性，子孙节点消失由于元素从渲染树消失造成，通过修改子孙节点属性无法显示<code>；visibility: hidden;</code>是继承属性，子孙节点消失由于继承了<code>hidden</code>，通过设置<code>visibility: visible;</code>可以让子孙节点显式</li><li>  修改常规流中元素的<code>display</code>通常会造成文档重排。修改<code>visibility</code>属性只会造成本元素的重绘。</li><li>  读屏器不会读取<code>display: none</code>;元素内容；会读取<code>visibility: hidden;</code>元素内容</li></ul></li></ul><h3 id="3-link与-import的区别"><a href="#3-link与-import的区别" class="headerlink" title="3 link与@import的区别"></a>3 <code>link</code>与<code>@import</code>的区别</h3><ol><li> <code>link</code>是<code>HTML</code>方式， <code>@import</code>是CSS方式</li><li> <code>link</code>最大限度支持并行下载，<code>@import</code>过多嵌套导致串行下载，出现<code>FOUC</code>(文档样式短暂失效)</li><li> <code>link</code>可以通过<code>rel=&quot;alternate stylesheet&quot;</code>指定候选样式</li><li> 浏览器对<code>link</code>支持早于<code>@import</code>，可以使用<code>@import</code>对老浏览器隐藏样式</li><li> <code>@import</code>必须在样式规则之前，可以在css文件中引用其他文件</li><li> 总体来说：<code>link</code>优于<code>@import</code></li></ol><h3 id="4-什么是FOUC-如何避免"><a href="#4-什么是FOUC-如何避免" class="headerlink" title="4 什么是FOUC?如何避免"></a>4 什么是FOUC?如何避免</h3><ul><li>  <code>Flash Of Unstyled Content</code>：用户定义样式表加载之前浏览器使用默认样式显示文档，用户样式加载渲染之后再从新显示文档，造成页面闪烁。</li><li>  <strong>解决方法</strong>：把样式表放到文档的<code>&lt;head&gt;</code></li></ul><h3 id="5-如何创建块级格式化上下文-block-formatting-context-BFC有什么用"><a href="#5-如何创建块级格式化上下文-block-formatting-context-BFC有什么用" class="headerlink" title="5 如何创建块级格式化上下文(block formatting context),BFC有什么用"></a>5 如何创建块级格式化上下文(block formatting context),BFC有什么用</h3><blockquote><p>BFC(Block Formatting Context)，块级格式化上下文，是一个独立的渲染区域，让处于 BFC 内部的元素与外部的元素相互隔离，使内外元素的定位不会相互影响</p></blockquote><p><strong>触发条件 (以下任意一条)</strong></p><ul><li>  <code>float</code>的值不为<code>none</code></li><li>  <code>overflow</code>的值不为<code>visible</code></li><li>  <code>display</code>的值为<code>table-cell</code>、<code>tabble-caption</code>和<code>inline-block</code>之一</li><li>  <code>position</code>的值不为<code>static</code>或则<code>releative</code>中的任何一个</li></ul><blockquote><p>在<code>IE</code>下, <code>Layout</code>,可通过<code>zoom:1</code> 触发</p></blockquote><p><strong>.BFC布局与普通文档流布局区别 普通文档流布局:</strong></p><ul><li>  浮动的元素是不会被父级计算高度</li><li>  非浮动元素会覆盖浮动元素的位置</li><li>  <code>margin</code>会传递给父级元素</li><li>  两个相邻元素上下的<code>margin</code>会重叠</li></ul><p><strong>BFC布局规则:</strong></p><ul><li>  浮动的元素会被父级计算高度(父级元素触发了<code>BFC</code>)</li><li>  非浮动元素不会覆盖浮动元素的位置(非浮动元素触发了<code>BFC</code>)</li><li>  <code>margin</code>不会传递给父级(父级触发<code>BFC</code>)</li><li>  属于同一个<code>BFC</code>的两个相邻元素上下<code>margin</code>会重叠</li></ul><p><strong>开发中的应用</strong></p><ul><li>  阻止<code>margin</code>重叠</li><li>  可以包含浮动元素 —— 清除内部浮动(清除浮动的原理是两个 <code>div</code>都位于同一个 <code>BFC</code> 区域之中)</li><li>  自适应两栏布局</li><li>  可以阻止元素被浮动元素覆盖</li></ul><h3 id="6-display、float、position的关系"><a href="#6-display、float、position的关系" class="headerlink" title="6 display、float、position的关系"></a>6 display、float、position的关系</h3><ul><li>  如果<code>display</code>取值为<code>none</code>，那么<code>position</code>和<code>float</code>都不起作用，这种情况下元素不产生框</li><li>  否则，如果<code>position</code>取值为<code>absolute</code>或者<code>fixed</code>，框就是绝对定位的，<code>float</code>的计算值为<code>none</code>，<code>display</code>根据下面的表格进行调整。</li><li>  否则，如果<code>float</code>不是<code>none</code>，框是浮动的，<code>display</code>根据下表进行调整</li><li>  否则，如果元素是根元素，<code>display</code>根据下表进行调整</li><li>  其他情况下<code>display</code>的值为指定值</li><li>  总结起来：<strong>绝对定位、浮动、根元素都需要调整<code>display</code></strong></li></ul><h3 id="7-清除浮动的几种方式，各自的优缺点"><a href="#7-清除浮动的几种方式，各自的优缺点" class="headerlink" title="7 清除浮动的几种方式，各自的优缺点"></a>7 清除浮动的几种方式，各自的优缺点</h3><ul><li>  父级<code>div</code>定义<code>height</code></li><li>  结尾处加空<code>div</code>标签<code>clear:both</code></li><li>  父级<code>div</code>定义伪类<code>:after</code>和<code>zoom</code></li><li>  父级<code>div</code>定义<code>overflow:hidden</code></li><li>  父级<code>div</code>也浮动，需要定义宽度</li><li>  结尾处加<code>br</code>标签<code>clear:both</code></li><li>  比较好的是第3种方式，好多网站都这么用</li></ul><h3 id="8-为什么要初始化CSS样式"><a href="#8-为什么要初始化CSS样式" class="headerlink" title="8 为什么要初始化CSS样式?"></a>8 为什么要初始化CSS样式?</h3><ul><li>  因为浏览器的兼容问题，不同浏览器对有些标签的默认值是不同的，如果没对<code>CSS</code>初始化往往会出现浏览器之间的页面显示差异。</li><li>  当然，初始化样式会对<code>SEO</code>有一定的影响，但鱼和熊掌不可兼得，但力求影响最小的情况下初始化</li></ul><h3 id="9-css3有哪些新特性"><a href="#9-css3有哪些新特性" class="headerlink" title="9 css3有哪些新特性"></a>9 css3有哪些新特性</h3><ul><li>  新增选择器 <code>p:nth-child(n)&#123;color: rgba(255, 0, 0, 0.75)&#125;</code></li><li>  弹性盒模型 <code>display: flex;</code></li><li>  多列布局 <code>column-count: 5;</code></li><li>  媒体查询 <code>@media (max-width: 480px) &#123;.box: &#123;column-count: 1;&#125;&#125;</code></li><li>  个性化字体 <code>@font-face&#123;font-family: BorderWeb; src:url(BORDERW0.eot);&#125;</code></li><li>  颜色透明度 <code>color: rgba(255, 0, 0, 0.75);</code></li><li>  圆角 <code>border-radius: 5px;</code></li><li>  渐变 <code>background:linear-gradient(red, green, blue);</code></li><li>  阴影 <code>box-shadow:3px 3px 3px rgba(0, 64, 128, 0.3);</code></li><li>  倒影 <code>box-reflect: below 2px;</code></li><li>  文字装饰 <code>text-stroke-color: red;</code></li><li>  文字溢出 <code>text-overflow:ellipsis;</code></li><li>  背景效果 <code>background-size: 100px 100px;</code></li><li>  边框效果 <code>border-image:url(bt_blue.png) 0 10;</code></li><li>转换<ul><li>  旋转 <code>transform: rotate(20deg);</code></li><li>  倾斜 <code>transform: skew(150deg, -10deg);</code></li><li>  位移 <code>transform: translate(20px, 20px);</code></li><li>  缩放 <code>transform: scale(.5);</code></li></ul></li><li>  平滑过渡 <code>transition: all .3s ease-in .1s;</code></li><li>  动画 <code>@keyframes anim-1 &#123;50% &#123;border-radius: 50%;&#125;&#125; animation: anim-1 1s;</code></li></ul><p><strong>CSS3新增伪类有那些？</strong></p><ul><li>  <code>p:first-of-type</code> 选择属于其父元素的首个<code>&lt;p&gt;</code>元素的每个<code>&lt;p&gt;</code> 元素。</li><li>  <code>p:last-of-type</code> 选择属于其父元素的最后 <code>&lt;p&gt;</code> 元素的每个<code>&lt;p&gt;</code> 元素。</li><li>  <code>p:only-of-type</code> 选择属于其父元素唯一的 <code>&lt;p&gt;</code>元素的每个 <code>&lt;p&gt;</code> 元素。</li><li>  <code>p:only-child</code> 选择属于其父元素的唯一子元素的每个 <code>&lt;p&gt;</code> 元素。</li><li>  <code>p:nth-child(2)</code> 选择属于其父元素的第二个子元素的每个 <code>&lt;p&gt;</code> 元素。</li><li>  <code>:after</code> 在元素之前添加内容,也可以用来做清除浮动。</li><li>  <code>:before</code> 在元素之后添加内容。</li><li>  <code>:enabled</code> 已启用的表单元素。</li><li>  <code>:disabled</code> 已禁用的表单元素。</li><li>  <code>:checked</code> 单选框或复选框被选中。</li></ul><h3 id="10-display有哪些值？说明他们的作用"><a href="#10-display有哪些值？说明他们的作用" class="headerlink" title="10 display有哪些值？说明他们的作用"></a>10 display有哪些值？说明他们的作用</h3><ul><li>  <code>block</code> 转换成块状元素。</li><li>  <code>inline</code> 转换成行内元素。</li><li>  <code>none</code> 设置元素不可见。</li><li>  <code>inline-block</code> 象行内元素一样显示，但其内容象块类型元素一样显示。</li><li>  <code>list-item</code> 象块类型元素一样显示，并添加样式列表标记。</li><li>  <code>table</code> 此元素会作为块级表格来显示</li><li>  <code>inherit</code> 规定应该从父元素继承 <code>display</code> 属性的值</li></ul><h3 id="11-介绍一下标准的CSS的盒子模型？低版本IE的盒子模型有什么不同的？"><a href="#11-介绍一下标准的CSS的盒子模型？低版本IE的盒子模型有什么不同的？" class="headerlink" title="11 介绍一下标准的CSS的盒子模型？低版本IE的盒子模型有什么不同的？"></a>11 介绍一下标准的CSS的盒子模型？低版本IE的盒子模型有什么不同的？</h3><blockquote><ul><li>  有两种， <code>IE</code>盒子模型、<code>W3C</code>盒子模型；</li><li>  盒模型： 内容(content)、填充(<code>padding</code>)、边界(<code>margin</code>)、 边框(<code>border</code>)；</li><li>  区 别： <code>IE</code>的c<code>ontent</code>部分把 <code>border</code> 和 <code>padding</code>计算了进去;</li></ul></blockquote><ul><li>  盒子模型构成：内容(<code>content</code>)、内填充(<code>padding</code>)、 边框(<code>border</code>)、外边距(<code>margin</code>)</li><li>  <code>IE8</code>及其以下版本浏览器，未声明 <code>DOCTYPE</code>，内容宽高会包含内填充和边框，称为怪异盒模型(<code>IE</code>盒模型)</li><li>  标准(<code>W3C</code>)盒模型：元素宽度 = <code>width + padding + border + margin</code></li><li>  怪异(<code>IE</code>)盒模型：元素宽度 = <code>width + margin</code></li><li>  标准浏览器通过设置 css3 的 <code>box-sizing: border-box</code> 属性，触发“怪异模式”解析计算宽高</li></ul><p><strong>box-sizing 常用的属性有哪些？分别有什么作用</strong></p><ul><li>  <code>box-sizing: content-box;</code> 默认的标准(W3C)盒模型元素效果</li><li>  <code>box-sizing: border-box;</code> 触发怪异(IE)盒模型元素的效果</li><li>  <code>box-sizing: inherit;</code> 继承父元素 <code>box-sizing</code> 属性的值</li></ul><h3 id="12-CSS优先级算法如何计算？"><a href="#12-CSS优先级算法如何计算？" class="headerlink" title="12 CSS优先级算法如何计算？"></a>12 CSS优先级算法如何计算？</h3><ul><li>  优先级就近原则，同权重情况下样式定义最近者为准</li><li>  载入样式以最后载入的定位为准</li><li>  优先级为: <code>!important &gt; id &gt; class &gt; tag</code>; <code>!important</code> 比 内联优先级高</li></ul><h3 id="13-对BFC规范的理解？"><a href="#13-对BFC规范的理解？" class="headerlink" title="13 对BFC规范的理解？"></a>13 对BFC规范的理解？</h3><ul><li>  一个页面是由很多个 <code>Box</code> 组成的,元素的类型和 <code>d</code>isplay` 属性,决定了这个 Box 的类型</li><li>  不同类型的 <code>Box</code>,会参与不同的 <code>Formatting Context</code>（决定如何渲染文档的容器）,因此Box内的元素会以不同的方式渲染,也就是说BFC内部的元素和外部的元素不会互相影响</li></ul><h3 id="14-谈谈浮动和清除浮动"><a href="#14-谈谈浮动和清除浮动" class="headerlink" title="14 谈谈浮动和清除浮动"></a>14 谈谈浮动和清除浮动</h3><ul><li>  浮动的框可以向左或向右移动，直到他的外边缘碰到包含框或另一个浮动框的边框为止。由于浮动框不在文档的普通流中，所以文档的普通流的块框表现得就像浮动框不存在一样。浮动的块框会漂浮在文档普通流的块框上</li></ul><h3 id="15-position的值，-relative和absolute定位原点是"><a href="#15-position的值，-relative和absolute定位原点是" class="headerlink" title="15 position的值， relative和absolute定位原点是"></a>15 position的值， relative和absolute定位原点是</h3><ul><li>  <code>absolute</code>：生成绝对定位的元素，相对于 <code>static</code> 定位以外的第一个父元素进行定位</li><li>  <code>fixed</code>：生成绝对定位的元素，相对于浏览器窗口进行定位</li><li>  <code>relative</code>：生成相对定位的元素，相对于其正常位置进行定位</li><li>  <code>static</code> 默认值。没有定位，元素出现在正常的流中</li><li>  <code>inherit</code> 规定从父元素继承 <code>position</code> 属性的值</li></ul><h3 id="16-display-inline-block-什么时候不会显示间隙？-携程"><a href="#16-display-inline-block-什么时候不会显示间隙？-携程" class="headerlink" title="16 display:inline-block 什么时候不会显示间隙？(携程)"></a>16 display:inline-block 什么时候不会显示间隙？(携程)</h3><ul><li>  移除空格</li><li>  使用<code>margin</code>负值</li><li>  使用<code>font-size:0</code></li><li>  <code>letter-spacing</code></li><li>  <code>word-spacing</code></li></ul><h3 id="17-PNG-GIF-JPG的区别及如何选"><a href="#17-PNG-GIF-JPG的区别及如何选" class="headerlink" title="17 PNG\GIF\JPG的区别及如何选"></a>17 PNG\GIF\JPG的区别及如何选</h3><ul><li><code>GIF</code><ul><li>  <code>8</code>位像素，<code>256</code>色</li><li>  无损压缩</li><li>  支持简单动画</li><li>  支持<code>boolean</code>透明</li><li>  适合简单动画</li></ul></li><li><code>JPEG</code><ul><li>  颜色限于<code>256</code></li><li>  有损压缩</li><li>  可控制压缩质量</li><li>  不支持透明</li><li>  适合照片</li></ul></li><li><code>PNG</code><ul><li>  有<code>PNG8</code>和<code>truecolor PNG</code></li><li>  <code>PNG8</code>类似<code>GIF</code>颜色上限为<code>256</code>，文件小，支持<code>alpha</code>透明度，无动画</li><li>  适合图标、背景、按钮</li></ul></li></ul><h3 id="18-行内元素float-left后是否变为块级元素？"><a href="#18-行内元素float-left后是否变为块级元素？" class="headerlink" title="18 行内元素float:left后是否变为块级元素？"></a>18 行内元素float:left后是否变为块级元素？</h3><blockquote><p>行内元素设置成浮动之后变得更加像是<code>inline-block</code>（行内块级元素，设置成这个属性的元素会同时拥有行内和块级的特性，最明显的不同是它的默认宽度不是<code>100%</code>），这时候给行内元素设置<code>padding-top</code>和<code>padding-bottom</code>或者<code>width</code>、<code>height</code>都是有效果的</p></blockquote><h3 id="19-在网页中的应该使用奇数还是偶数的字体？为什么呢？"><a href="#19-在网页中的应该使用奇数还是偶数的字体？为什么呢？" class="headerlink" title="19 在网页中的应该使用奇数还是偶数的字体？为什么呢？"></a>19 在网页中的应该使用奇数还是偶数的字体？为什么呢？</h3><ul><li>  偶数字号相对更容易和 web 设计的其他部分构成比例关系</li></ul><h3 id="20-before-和-after中双冒号和单冒号-有什么区别？解释一下这2个伪元素的作用"><a href="#20-before-和-after中双冒号和单冒号-有什么区别？解释一下这2个伪元素的作用" class="headerlink" title="20 ::before 和 :after中双冒号和单冒号 有什么区别？解释一下这2个伪元素的作用"></a>20 ::before 和 :after中双冒号和单冒号 有什么区别？解释一下这2个伪元素的作用</h3><ul><li>  单冒号(<code>:</code>)用于<code>CSS3</code>伪类，双冒号(<code>::</code>)用于<code>CSS3</code>伪元素</li><li>  用于区分伪类和伪元素</li></ul><h3 id="21-如果需要手动写动画，你认为最小时间间隔是多久，为什么？（阿里）"><a href="#21-如果需要手动写动画，你认为最小时间间隔是多久，为什么？（阿里）" class="headerlink" title="21 如果需要手动写动画，你认为最小时间间隔是多久，为什么？（阿里）"></a>21 如果需要手动写动画，你认为最小时间间隔是多久，为什么？（阿里）</h3><ul><li>  多数显示器默认频率是<code>60Hz</code>，即<code>1</code>秒刷新<code>60</code>次，所以理论上最小间隔为<code>1/60*1000ms ＝ 16.7ms</code></li></ul><h3 id="22-CSS合并方法"><a href="#22-CSS合并方法" class="headerlink" title="22 CSS合并方法"></a>22 CSS合并方法</h3><ul><li>  避免使用<code>@import</code>引入多个<code>css</code>文件，可以使用<code>CSS</code>工具将<code>CSS</code>合并为一个<code>CSS</code>文件，例如使用<code>Sass\Compass</code>等</li></ul><h3 id="23-CSS不同选择器的权重-CSS层叠的规则"><a href="#23-CSS不同选择器的权重-CSS层叠的规则" class="headerlink" title="23 CSS不同选择器的权重(CSS层叠的规则)"></a>23 CSS不同选择器的权重(CSS层叠的规则)</h3><ul><li>  <code>！important</code>规则最重要，大于其它规则</li><li>  行内样式规则，加<code>1000</code></li><li>  对于选择器中给定的各个<code>ID</code>属性值，加<code>100</code></li><li>  对于选择器中给定的各个类属性、属性选择器或者伪类选择器，加<code>10</code></li><li>  对于选择其中给定的各个元素标签选择器，加1</li><li>  如果权值一样，则按照样式规则的先后顺序来应用，顺序靠后的覆盖靠前的规则</li></ul><blockquote><p>以下是权重的规则：标签的权重为1，class的权重为10，id的权重为100，以下/// 例子是演示各种定义的权重值：</p></blockquote><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;*权重为1*&#x2F;</span><br><span class="line">div&#123;</span><br><span class="line">&#125;</span><br><span class="line">&#x2F;*权重为10*&#x2F;</span><br><span class="line">.class1&#123;</span><br><span class="line">&#125;</span><br><span class="line">&#x2F;*权重为100*&#x2F;</span><br><span class="line">#id1&#123;</span><br><span class="line">&#125;</span><br><span class="line">&#x2F;*权重为100+1&#x3D;101*&#x2F;</span><br><span class="line">#id1 div&#123;</span><br><span class="line">&#125;</span><br><span class="line">&#x2F;*权重为10+1&#x3D;11*&#x2F;</span><br><span class="line">.class1 div&#123;</span><br><span class="line">&#125;</span><br><span class="line">&#x2F;*权重为10+10+1&#x3D;21*&#x2F;</span><br><span class="line">.class1 .class2 div&#123;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure><blockquote><p>如果权重相同，则最后定义的样式会起作用，但是应该避免这种情况出现</p></blockquote><h3 id="24-列出你所知道可以改变页面布局的属性"><a href="#24-列出你所知道可以改变页面布局的属性" class="headerlink" title="24 列出你所知道可以改变页面布局的属性"></a>24 列出你所知道可以改变页面布局的属性</h3><ul><li>  <code>position</code>、<code>display</code>、<code>float</code>、<code>width</code>、<code>height</code>、<code>margin</code>、<code>padding</code>、<code>top</code>、<code>left</code>、<code>right</code>、`</li></ul><h3 id="25-CSS在性能优化方面的实践"><a href="#25-CSS在性能优化方面的实践" class="headerlink" title="25 CSS在性能优化方面的实践"></a>25 CSS在性能优化方面的实践</h3><ul><li>  <code>css</code>压缩与合并、<code>Gzip</code>压缩</li><li>  <code>css</code>文件放在<code>head</code>里、不要用<code>@import</code></li><li>  尽量用缩写、避免用滤镜、合理使用选择器</li></ul><h3 id="26-CSS3动画（简单动画的实现，如旋转等）"><a href="#26-CSS3动画（简单动画的实现，如旋转等）" class="headerlink" title="26 CSS3动画（简单动画的实现，如旋转等）"></a>26 CSS3动画（简单动画的实现，如旋转等）</h3><ul><li>  依靠<code>CSS3</code>中提出的三个属性：<code>transition</code>、<code>transform</code>、<code>animation</code></li><li>  <code>transition</code>：定义了元素在变化过程中是怎么样的，包含<code>transition-property</code>、<code>transition-duration</code>、<code>transition-timing-function</code>、<code>transition-delay</code>。</li><li>  <code>transform</code>：定义元素的变化结果，包含<code>rotate</code>、<code>scale</code>、<code>skew</code>、<code>translate</code>。</li><li>  <code>animation</code>：动画定义了动作的每一帧（<code>@keyframes</code>）有什么效果，包括<code>animation-name</code>，<code>animation-duration</code>、<code>animation-timing-function</code>、<code>animation-delay</code>、<code>animation-iteration-count</code>、<code>animation-direction</code></li></ul><h3 id="27-base64的原理及优缺点"><a href="#27-base64的原理及优缺点" class="headerlink" title="27 base64的原理及优缺点"></a>27 base64的原理及优缺点</h3><ul><li>  优点可以加密，减少了<code>HTTTP</code>请求</li><li>  缺点是需要消耗<code>CPU</code>进行编解码</li></ul><h3 id="28-几种常见的CSS布局"><a href="#28-几种常见的CSS布局" class="headerlink" title="28 几种常见的CSS布局"></a>28 几种常见的CSS布局</h3><h4 id="流体布局"><a href="#流体布局" class="headerlink" title="流体布局"></a>流体布局</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">.left &#123;</span><br><span class="line">float: left;</span><br><span class="line">width: 100px;</span><br><span class="line">height: 200px;</span><br><span class="line">background: red;</span><br><span class="line">&#125;</span><br><span class="line">.right &#123;</span><br><span class="line">float: right;</span><br><span class="line">width: 200px;</span><br><span class="line">height: 200px;</span><br><span class="line">background: blue;</span><br><span class="line">&#125;</span><br><span class="line">.main &#123;</span><br><span class="line">margin-left: 120px;</span><br><span class="line">margin-right: 220px;</span><br><span class="line">height: 200px;</span><br><span class="line">background: green;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&lt;div class&#x3D;&quot;container&quot;&gt;</span><br><span class="line">    &lt;div class&#x3D;&quot;left&quot;&gt;&lt;&#x2F;div&gt;</span><br><span class="line">    &lt;div class&#x3D;&quot;right&quot;&gt;&lt;&#x2F;div&gt;</span><br><span class="line">    &lt;div class&#x3D;&quot;main&quot;&gt;&lt;&#x2F;div&gt;</span><br><span class="line">&lt;&#x2F;div&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h4 id="圣杯布局"><a href="#圣杯布局" class="headerlink" title="圣杯布局"></a>圣杯布局</h4><ul><li>要求：三列布局；中间主体内容前置，且宽度自适应；两边内容定宽<ul><li>  好处：重要的内容放在文档流前面可以优先渲染</li><li>  原理：利用相对定位、浮动、负边距布局，而不添加额外标签</li></ul></li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">.container &#123;</span><br><span class="line">    padding-left: 150px;</span><br><span class="line">    padding-right: 190px;</span><br><span class="line">&#125;</span><br><span class="line">.main &#123;</span><br><span class="line">    float: left;</span><br><span class="line">    width: 100%;</span><br><span class="line">&#125;</span><br><span class="line">.left &#123;</span><br><span class="line">    float: left;</span><br><span class="line">    width: 190px;</span><br><span class="line">    margin-left: -100%;</span><br><span class="line">    position: relative;</span><br><span class="line">    left: -150px;</span><br><span class="line">&#125;</span><br><span class="line">.right &#123;</span><br><span class="line">    float: left;</span><br><span class="line">    width: 190px;</span><br><span class="line">    margin-left: -190px;</span><br><span class="line">    position: relative;</span><br><span class="line">    right: -190px;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&lt;div class&#x3D;&quot;container&quot;&gt;</span><br><span class="line">&lt;div class&#x3D;&quot;main&quot;&gt;&lt;&#x2F;div&gt;</span><br><span class="line">&lt;div class&#x3D;&quot;left&quot;&gt;&lt;&#x2F;div&gt;</span><br><span class="line">&lt;div class&#x3D;&quot;right&quot;&gt;&lt;&#x2F;div&gt;</span><br><span class="line">&lt;&#x2F;div&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h4 id="双飞翼布局"><a href="#双飞翼布局" class="headerlink" title="双飞翼布局"></a>双飞翼布局</h4><ul><li>  双飞翼布局：对圣杯布局（使用相对定位，对以后布局有局限性）的改进，消除相对定位布局</li><li>  原理：主体元素上设置左右边距，预留两翼位置。左右两栏使用浮动和负边距归位，消除相对定位。</li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">.container &#123;</span><br><span class="line">    &#x2F;*padding-left:150px;*&#x2F;</span><br><span class="line">    &#x2F;*padding-right:190px;*&#x2F;</span><br><span class="line">&#125;</span><br><span class="line">.main-wrap &#123;</span><br><span class="line">    width: 100%;</span><br><span class="line">    float: left;</span><br><span class="line">&#125;</span><br><span class="line">.main &#123;</span><br><span class="line">    margin-left: 150px;</span><br><span class="line">    margin-right: 190px;</span><br><span class="line">&#125;</span><br><span class="line">.left &#123;</span><br><span class="line">    float: left;</span><br><span class="line">    width: 150px;</span><br><span class="line">    margin-left: -100%;</span><br><span class="line">    &#x2F;*position: relative;*&#x2F;</span><br><span class="line">    &#x2F;*left:-150px;*&#x2F;</span><br><span class="line">&#125;</span><br><span class="line">.right &#123;</span><br><span class="line">    float: left;</span><br><span class="line">    width: 190px;</span><br><span class="line">    margin-left: -190px;</span><br><span class="line">    &#x2F;*position:relative;*&#x2F;</span><br><span class="line">    &#x2F;*right:-190px;*&#x2F;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&lt;div class&#x3D;&quot;content&quot;&gt;</span><br><span class="line">    &lt;div class&#x3D;&quot;main&quot;&gt;&lt;&#x2F;div&gt;</span><br><span class="line">&lt;&#x2F;div&gt;</span><br><span class="line">&lt;div class&#x3D;&quot;left&quot;&gt;&lt;&#x2F;div&gt;</span><br><span class="line">&lt;div class&#x3D;&quot;right&quot;&gt;&lt;&#x2F;div&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="29-stylus-sass-less区别"><a href="#29-stylus-sass-less区别" class="headerlink" title="29 stylus/sass/less区别"></a>29 stylus/sass/less区别</h3><ul><li>  均具有“变量”、“混合”、“嵌套”、“继承”、“颜色混合”五大基本特性</li><li>  <code>Scss</code>和<code>LESS</code>语法较为严谨，<code>LESS</code>要求一定要使用大括号“{}”，<code>Scss</code>和<code>Stylus</code>可以通过缩进表示层次与嵌套关系</li><li>  <code>Scss</code>无全局变量的概念，<code>LESS</code>和<code>Stylus</code>有类似于其它语言的作用域概念</li><li>  <code>Sass</code>是基于<code>Ruby</code>语言的，而<code>LESS</code>和<code>Stylus</code>可以基于<code>NodeJS</code> <code>NPM</code>下载相应库后进行编译；</li></ul><h3 id="30-postcss的作用"><a href="#30-postcss的作用" class="headerlink" title="30 postcss的作用"></a>30 postcss的作用</h3><ul><li>  可以直观的理解为：它就是一个平台。为什么说它是一个平台呢？因为我们直接用它，感觉不能干什么事情，但是如果让一些插件在它上面跑，那么将会很强大</li><li>  <code>PostCSS</code> 提供了一个解析器，它能够将 <code>CSS</code> 解析成抽象语法树</li><li>  通过在 <code>PostCSS</code> 这个平台上，我们能够开发一些插件，来处理我们的<code>CSS</code>，比如热门的：<code>autoprefixer</code></li><li>  <code>postcss</code>可以对sass处理过后的<code>css</code>再处理 最常见的就是<code>autoprefixer</code></li></ul><h3 id="31-css样式（选择器）的优先级"><a href="#31-css样式（选择器）的优先级" class="headerlink" title="31 css样式（选择器）的优先级"></a>31 css样式（选择器）的优先级</h3><ul><li>  计算权重确定</li><li>  <code>!important</code></li><li>  内联样式</li><li>  后写的优先级高</li></ul><h3 id="32-自定义字体的使用场景"><a href="#32-自定义字体的使用场景" class="headerlink" title="32 自定义字体的使用场景"></a>32 自定义字体的使用场景</h3><ul><li>  宣传/品牌/<code>banner</code>等固定文案</li><li>  字体图标</li></ul><h3 id="33-如何美化CheckBox"><a href="#33-如何美化CheckBox" class="headerlink" title="33 如何美化CheckBox"></a>33 如何美化CheckBox</h3><ul><li>  <code>&lt;label&gt;</code> 属性 <code>for</code> 和 <code>id</code></li><li>  隐藏原生的 <code>&lt;input&gt;</code></li><li>  <code>:checked + &lt;label&gt;</code></li></ul><h3 id="34-伪类和伪元素的区别"><a href="#34-伪类和伪元素的区别" class="headerlink" title="34 伪类和伪元素的区别"></a>34 伪类和伪元素的区别</h3><ul><li>  伪类表状态</li><li>  伪元素是真的有元素</li><li>  前者单冒号，后者双冒号</li></ul><h3 id="35-base64的使用"><a href="#35-base64的使用" class="headerlink" title="35 base64的使用"></a>35 <code>base64</code>的使用</h3><ul><li>  用于减少 <code>HTTP</code> 请求</li><li>  适用于小图片</li><li>  <code>base64</code>的体积约为原图的<code>4/3</code></li></ul><h3 id="36-自适应布局"><a href="#36-自适应布局" class="headerlink" title="36 自适应布局"></a>36 自适应布局</h3><p>思路：</p><ul><li>  左侧浮动或者绝对定位，然后右侧<code>margin</code>撑开</li><li>  使用<code>&lt;div&gt;</code>包含，然后靠负<code>margin</code>形成<code>bfc</code></li><li>  使用<code>flex</code></li></ul><h3 id="37-请用CSS写一个简单的幻灯片效果页面"><a href="#37-请用CSS写一个简单的幻灯片效果页面" class="headerlink" title="37 请用CSS写一个简单的幻灯片效果页面"></a>37 请用CSS写一个简单的幻灯片效果页面</h3><blockquote><p>知道是要用<code>CSS3</code>。使用<code>animation</code>动画实现一个简单的幻灯片效果</p></blockquote><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**css**/</span></span><br><span class="line"><span class="selector-class">.ani</span>&#123;</span><br><span class="line">  <span class="attribute">width</span>:<span class="number">480px</span>;</span><br><span class="line">  <span class="attribute">height</span>:<span class="number">320px</span>;</span><br><span class="line">  <span class="attribute">margin</span>:<span class="number">50px</span> auto;</span><br><span class="line">  <span class="attribute">overflow</span>: hidden;</span><br><span class="line">  <span class="attribute">box-shadow</span>:<span class="number">0</span> <span class="number">0</span> <span class="number">5px</span> <span class="built_in">rgba</span>(<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">1</span>);</span><br><span class="line">  <span class="attribute">background-size</span>: cover;</span><br><span class="line">  <span class="attribute">background-position</span>: center;</span><br><span class="line">  <span class="attribute">-webkit-animation-name</span>: <span class="string">&quot;loops&quot;</span>;</span><br><span class="line">  <span class="attribute">-webkit-animation-duration</span>: <span class="number">20s</span>;</span><br><span class="line">  <span class="attribute">-webkit-animation-iteration-count</span>: infinite;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">@-webkit-keyframes</span> <span class="string">&quot;loops&quot;</span> &#123;</span><br><span class="line">    0% &#123;</span><br><span class="line">        <span class="attribute">background</span>:<span class="built_in">url</span>(http://d.hiphotos.baidu.com/image/w%<span class="number">3</span>D400/sign=c01e6adca964034f0fcdc3069fc27980/e824b899a9014c08e5e38ca4087b02087af4f4d3.jpg) no-repeat;             </span><br><span class="line">    &#125;</span><br><span class="line">    25% &#123;</span><br><span class="line">        <span class="attribute">background</span>:<span class="built_in">url</span>(http://b.hiphotos.baidu.com/image/w%<span class="number">3</span>D400/sign=edee1572e9f81a4c2632edc9e72b6029/<span class="number">30</span>adcbef76094b364d72bceba1cc7cd98c109dd0.jpg) no-repeat;</span><br><span class="line">    &#125;</span><br><span class="line">    50% &#123;</span><br><span class="line">        <span class="attribute">background</span>:<span class="built_in">url</span>(http://b.hiphotos.baidu.com/image/w%<span class="number">3</span>D400/sign=<span class="number">937</span>dace2552c11dfded1be2353266255/d8f9d72a6059252d258e7605369b033b5bb5b912.jpg) no-repeat;</span><br><span class="line">    &#125;</span><br><span class="line">    75% &#123;</span><br><span class="line">        <span class="attribute">background</span>:<span class="built_in">url</span>(http://g.hiphotos.baidu.com/image/w%<span class="number">3</span>D400/sign=<span class="number">7</span>d37500b8544ebf86d71653fe9f9d736/<span class="number">0</span>df431adcbef76095d61f0972cdda3cc7cd99e4b.jpg) no-repeat;</span><br><span class="line">    &#125;</span><br><span class="line">    100% &#123;</span><br><span class="line">        <span class="attribute">background</span>:<span class="built_in">url</span>(http://c.hiphotos.baidu.com/image/w%<span class="number">3</span>D400/sign=cfb239ceb0fb43161a1f7b7a10a54642/<span class="number">3</span>b87e950352ac65ce2e73f76f9f2b21192138ad1.jpg) no-repeat;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="38-什么是外边距重叠？重叠的结果是什么？"><a href="#38-什么是外边距重叠？重叠的结果是什么？" class="headerlink" title="38 什么是外边距重叠？重叠的结果是什么？"></a>38 什么是外边距重叠？重叠的结果是什么？</h3><blockquote><p>外边距重叠就是margin-collapse</p></blockquote><ul><li>  在CSS当中，相邻的两个盒子（可能是兄弟关系也可能是祖先关系）的外边距可以结合成一个单独的外边距。这种合并外边距的方式被称为折叠，并且因而所结合成的外边距称为折叠外边距。</li></ul><p><strong>折叠结果遵循下列计算规则</strong>：</p><ul><li>  两个相邻的外边距都是正数时，折叠结果是它们两者之间较大的值。</li><li>  两个相邻的外边距都是负数时，折叠结果是两者绝对值的较大值。</li><li>  两个外边距一正一负时，折叠结果是两者的相加的和。</li></ul><h3 id="39-rgba-和opacity的透明效果有什么不同？"><a href="#39-rgba-和opacity的透明效果有什么不同？" class="headerlink" title="39 rgba()和opacity的透明效果有什么不同？"></a>39 rgba()和opacity的透明效果有什么不同？</h3><ul><li>  <code>rgba()</code>和<code>opacity</code>都能实现透明效果，但最大的不同是<code>opacity</code>作用于元素，以及元素内的所有内容的透明度，</li><li>  而<code>rgba()</code>只作用于元素的颜色或其背景色。（设置<code>rgba</code>透明的元素的子元素不会继承透明效果！）</li></ul><h3 id="40-css中可以让文字在垂直和水平方向上重叠的两个属性是什么？"><a href="#40-css中可以让文字在垂直和水平方向上重叠的两个属性是什么？" class="headerlink" title="40 css中可以让文字在垂直和水平方向上重叠的两个属性是什么？"></a>40 css中可以让文字在垂直和水平方向上重叠的两个属性是什么？</h3><ul><li>  垂直方向：<code>line-height</code></li><li>  水平方向：<code>letter-spacing</code></li></ul><h3 id="41-如何垂直居中一个浮动元素？"><a href="#41-如何垂直居中一个浮动元素？" class="headerlink" title="41 如何垂直居中一个浮动元素？"></a>41 如何垂直居中一个浮动元素？</h3><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**方法一：已知元素的高宽**/</span></span><br><span class="line"></span><br><span class="line"><span class="selector-id">#div1</span>&#123;</span><br><span class="line">  <span class="attribute">background-color</span>:<span class="number">#6699FF</span>;</span><br><span class="line">  <span class="attribute">width</span>:<span class="number">200px</span>;</span><br><span class="line">  <span class="attribute">height</span>:<span class="number">200px</span>;</span><br><span class="line">  position: absolute;        //父元素需要相对定位</span><br><span class="line">  <span class="selector-tag">top</span>: 50%;</span><br><span class="line">  <span class="selector-tag">left</span>: 50%;</span><br><span class="line">  margin-top:-100px ;   //二分之一的height，width</span><br><span class="line">  <span class="selector-tag">margin-left</span>: <span class="selector-tag">-100px</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**方法二:**/</span></span><br><span class="line"></span><br><span class="line"><span class="selector-id">#div1</span>&#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">200px</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">200px</span>;</span><br><span class="line">  <span class="attribute">background-color</span>: <span class="number">#6699FF</span>;</span><br><span class="line">  <span class="attribute">margin</span>:auto;</span><br><span class="line">  position: absolute;        //父元素需要相对定位</span><br><span class="line">  <span class="selector-tag">left</span>: 0;</span><br><span class="line">  <span class="selector-tag">top</span>: 0;</span><br><span class="line">  <span class="selector-tag">right</span>: 0;</span><br><span class="line">  <span class="selector-tag">bottom</span>: 0;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p><strong>如何垂直居中一个<code>&lt;img&gt;</code>?（用更简便的方法。）</strong></p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-id">#container</span>     <span class="comment">/**&lt;img&gt;的容器设置如下**/</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="attribute">display</span>:table-cell;</span><br><span class="line">    <span class="attribute">text-align</span>:center;</span><br><span class="line">    <span class="attribute">vertical-align</span>:middle;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="42-px和em的区别"><a href="#42-px和em的区别" class="headerlink" title="42 px和em的区别"></a>42 px和em的区别</h3><ul><li>  <code>px</code>和<code>em</code>都是长度单位，区别是，<code>px</code>的值是固定的，指定是多少就是多少，计算比较容易。<code>em</code>得值不是固定的，并且<code>em</code>会继承父级元素的字体大小。</li><li>  浏览器的默认字体高都是<code>16px</code>。所以未经调整的浏览器都符合: <code>1em=16px</code>。那么<code>12px=0.75em</code>, <code>10px=0.625em</code>。</li></ul><blockquote><ul><li>  px 相对于显示器屏幕分辨率，无法用浏览器字体放大功能</li><li>  em 值并不是固定的，会继承父级的字体大小： em = 像素值 / 父级font-size</li></ul></blockquote><h3 id="43-Sass、LESS是什么？大家为什么要使用他们？"><a href="#43-Sass、LESS是什么？大家为什么要使用他们？" class="headerlink" title="43 Sass、LESS是什么？大家为什么要使用他们？"></a>43 Sass、LESS是什么？大家为什么要使用他们？</h3><ul><li>  他们是<code>CSS</code>预处理器。他是<code>CSS</code>上的一种抽象层。他们是一种特殊的语法/语言编译成<code>CSS</code>。</li><li>  例如Less是一种动态样式语言. 将CSS赋予了动态语言的特性，如变量，继承，运算， 函数. <code>LESS</code> 既可以在客户端上运行 (支持<code>IE 6+</code>, <code>Webkit</code>, <code>Firefox</code>)，也可一在服务端运行 (借助 <code>Node.js</code>)</li></ul><p><strong>为什么要使用它们？</strong></p><ul><li>  结构清晰，便于扩展。</li><li>  可以方便地屏蔽浏览器私有语法差异。这个不用多说，封装对- 浏览器语法差异的重复处理，减少无意义的机械劳动。</li><li>  可以轻松实现多重继承。</li><li>  完全兼容 CSS 代码，可以方便地应用到老项目中。LESS 只- 是在 CSS 语法上做了扩展，所以老的 CSS 代码也可以与 LESS 代码一同编译</li></ul><h3 id="44-知道css有个content属性吗？有什么作用？有什么应用？"><a href="#44-知道css有个content属性吗？有什么作用？有什么应用？" class="headerlink" title="44 知道css有个content属性吗？有什么作用？有什么应用？"></a>44 知道css有个content属性吗？有什么作用？有什么应用？</h3><blockquote><p>css的<code>content</code>属性专门应用在 <code>before/after</code>伪元素上，用于来插入生成内容。最常见的应用是利用伪类清除浮动。</p></blockquote><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**一种常见利用伪类清除浮动的代码**/</span></span><br><span class="line"><span class="selector-class">.clearfix</span><span class="selector-pseudo">:after</span> &#123;</span><br><span class="line">    content:&quot;.&quot;;       //这里利用到了content属性</span><br><span class="line">    <span class="selector-tag">display</span><span class="selector-pseudo">:block</span>;</span><br><span class="line">    <span class="selector-tag">height</span><span class="selector-pseudo">:0</span>;</span><br><span class="line">    <span class="selector-tag">visibility</span><span class="selector-pseudo">:hidden</span>;</span><br><span class="line">    <span class="selector-tag">clear</span><span class="selector-pseudo">:both</span>; </span><br><span class="line"> &#125;</span><br><span class="line"><span class="selector-class">.clearfix</span> &#123;</span><br><span class="line">    *zoom:1;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="45-水平居中的方法"><a href="#45-水平居中的方法" class="headerlink" title="45 水平居中的方法"></a>45 水平居中的方法</h3><ul><li>  元素为行内元素，设置父元素<code>text-align:center</code></li><li>  如果元素宽度固定，可以设置左右<code>margin</code>为<code>auto</code>;</li><li>  绝对定位和移动: <code>absolute + transform</code></li><li>  使用<code>flex-box</code>布局，指定<code>justify-content</code>属性为center</li><li>  <code>display</code>设置为<code>tabel-ceil</code></li></ul><h3 id="46-垂直居中的方法"><a href="#46-垂直居中的方法" class="headerlink" title="46 垂直居中的方法"></a>46 垂直居中的方法</h3><ul><li><p>  将显示方式设置为表格，<code>display:table-cell</code>,同时设置<code>vertial-align：middle</code></p></li><li><p>  使用<code>flex</code>布局，设置为<code>align-item：center</code></p></li><li><p>  绝对定位中设置<code>bottom:0,top:0</code>,并设置<code>margin:auto</code></p></li><li><p>  绝对定位中固定高度时设置<code>top:50%，margin-top</code>值为高度一半的负值</p></li><li><p>  文本垂直居中设置<code>line-height</code>为<code>height</code>值</p></li><li><p>  如果是单行文本, line-height 设置成和 height 值</p></li></ul><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.vertical</span> &#123;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">100px</span>;</span><br><span class="line">    <span class="attribute">line-height</span>: <span class="number">100px</span>;</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure><ul><li>  已知高度的块级子元素，采用绝对定位和负边距</li></ul><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.container</span> &#123;</span><br><span class="line">  <span class="attribute">position</span>: relative;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.vertical</span> &#123;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">300px</span>;  <span class="comment">/*子元素高度*/</span></span><br><span class="line">  <span class="attribute">position</span>: absolute;</span><br><span class="line">  <span class="attribute">top</span>:<span class="number">50%</span>;  <span class="comment">/*父元素高度50%*/</span></span><br><span class="line">  <span class="attribute">margin-top</span>: -<span class="number">150px</span>; <span class="comment">/*自身高度一半*/</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>  未知高度的块级父子元素居中，模拟表格布局</li><li>  缺点：IE67不兼容，父级 overflow：hidden 失效</li></ul><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.container</span> &#123;</span><br><span class="line">    <span class="attribute">display</span>: table;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="selector-class">.content</span> &#123;</span><br><span class="line">    <span class="attribute">display</span>: table-cell;</span><br><span class="line">    <span class="attribute">vertical-align</span>: middle;</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure><ul><li>新增 inline-block 兄弟元素，设置 vertical-align<ul><li>  缺点：需要增加额外标签，IE67不兼容</li></ul></li></ul><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.container</span> &#123;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">100%</span>;<span class="comment">/*定义父级高度，作为参考*/</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.extra</span> <span class="selector-class">.vertical</span>&#123;</span><br><span class="line">  <span class="attribute">display</span>: inline-block;  <span class="comment">/*行内块显示*/</span></span><br><span class="line">  <span class="attribute">vertical-align</span>: middle; <span class="comment">/*垂直居中*/</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.extra</span> &#123;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">100%</span>; <span class="comment">/*设置新增元素高度为100%*/</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>  绝对定位配合 CSS3 位移</li></ul><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.vertical</span> &#123;</span><br><span class="line">  <span class="attribute">position</span>: absolute;</span><br><span class="line">  <span class="attribute">top</span>:<span class="number">50%</span>;  <span class="comment">/*父元素高度50%*/</span></span><br><span class="line">  <span class="attribute">transform</span>:<span class="built_in">translateY</span>(-<span class="number">50%</span>, -<span class="number">50%</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>  CSS3弹性盒模型</li></ul><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.container</span> &#123;</span><br><span class="line">  <span class="attribute">display</span>:flex;</span><br><span class="line">  <span class="attribute">justify-content</span>: center; <span class="comment">/*子元素水平居中*/</span></span><br><span class="line">  <span class="attribute">align-items</span>: center; <span class="comment">/*子元素垂直居中*/</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="47-如何使用CSS实现硬件加速？"><a href="#47-如何使用CSS实现硬件加速？" class="headerlink" title="47 如何使用CSS实现硬件加速？"></a>47 如何使用CSS实现硬件加速？</h3><blockquote><p>硬件加速是指通过创建独立的复合图层，让GPU来渲染这个图层，从而提高性能，</p></blockquote><ul><li>  一般触发硬件加速的<code>CSS</code>属性有<code>transform</code>、<code>opacity</code>、<code>filter</code>，为了避免2D动画在 开始和结束的时候的<code>repaint</code>操作，一般使用<code>tranform:translateZ(0)</code></li></ul><h3 id="48-重绘和回流（重排）是什么，如何避免？"><a href="#48-重绘和回流（重排）是什么，如何避免？" class="headerlink" title="48 重绘和回流（重排）是什么，如何避免？"></a>48 重绘和回流（重排）是什么，如何避免？</h3><ul><li>  重绘：当渲染树中的元素外观（如：颜色）发生改变，不影响布局时，产生重绘</li><li>  回流：当渲染树中的元素的布局（如：尺寸、位置、隐藏/状态状态）发生改变时，产生重绘回流</li><li>  注意：JS获取Layout属性值（如：<code>offsetLeft</code>、<code>scrollTop</code>、<code>getComputedStyle</code>等）也会引起回流。因为浏览器需要通过回流计算最新值</li><li>  回流必将引起重绘，而重绘不一定会引起回流</li></ul><p>**如何最小化重绘(repaint)和回流(reflow)**：</p><ul><li>  需要要对元素进行复杂的操作时，可以先隐藏(<code>display:&quot;none&quot;</code>)，操作完成后再显示</li><li>  需要创建多个<code>DOM</code>节点时，使用<code>DocumentFragment</code>创建完后一次性的加入<code>document</code></li><li>  缓存<code>Layout</code>属性值，如：<code>var left = elem.offsetLeft;</code> 这样，多次使用 <code>left</code> 只产生一次回流</li><li>  尽量避免用<code>table</code>布局（<code>table</code>元素一旦触发回流就会导致table里所有的其它元素回流）</li><li>  避免使用<code>css</code>表达式(<code>expression</code>)，因为每次调用都会重新计算值（包括加载页面）</li><li>  尽量使用 <code>css</code> 属性简写，如：用 <code>border</code> 代替 <code>border-width</code>, <code>border-style</code>, <code>border-color</code></li><li>  批量修改元素样式：<code>elem.className</code> 和 <code>elem.style.cssText</code> 代替 <code>elem.style.xxx</code></li></ul><h3 id="49-说一说css3的animation"><a href="#49-说一说css3的animation" class="headerlink" title="49 说一说css3的animation"></a>49 说一说css3的animation</h3><ul><li>  css3的<code>animation</code>是css3新增的动画属性，这个css3动画的每一帧是通过<code>@keyframes</code>来声明的，<code>keyframes</code>声明了动画的名称，通过<code>from</code>、<code>to</code>或者是百分比来定义</li><li>  每一帧动画元素的状态，通过<code>animation-name</code>来引用这个动画，同时css3动画也可以定义动画运行的时长、动画开始时间、动画播放方向、动画循环次数、动画播放的方式，</li><li>  这些相关的动画子属性有：<code>animation-name</code>定义动画名、<code>animation-duration</code>定义动画播放的时长、<code>animation-delay</code>定义动画延迟播放的时间、<code>animation-direction</code>定义 动画的播放方向、<code>animation-iteration-count</code>定义播放次数、<code>animation-fill-mode</code>定义动画播放之后的状态、<code>animation-play-state</code>定义播放状态，如暂停运行等、<code>animation-timing-function</code></li><li>  定义播放的方式，如恒速播放、艰涩播放等。</li></ul><h3 id="50-左边宽度固定，右边自适应"><a href="#50-左边宽度固定，右边自适应" class="headerlink" title="50 左边宽度固定，右边自适应"></a>50 左边宽度固定，右边自适应</h3><blockquote><p>左侧固定宽度，右侧自适应宽度的两列布局实现</p></blockquote><p>html结构</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;outer&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;left&quot;</span>&gt;</span>固定宽度<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;right&quot;</span>&gt;</span>自适应宽度<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure><blockquote><p>在外层<code>div</code>（类名为<code>outer</code>）的<code>div</code>中，有两个子<code>div</code>，类名分别为<code>left</code>和<code>right</code>，其中<code>left</code>为固定宽度，而<code>right</code>为自适应宽度</p></blockquote><p><strong>方法1：左侧div设置成浮动：float: left，右侧div宽度会自拉升适应</strong></p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.outer</span> &#123;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">100%</span>;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">500px</span>;</span><br><span class="line">    <span class="attribute">background-color</span>: yellow;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.left</span> &#123;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">200px</span>;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">200px</span>;</span><br><span class="line">    <span class="attribute">background-color</span>: red;</span><br><span class="line">    <span class="attribute">float</span>: left;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.right</span> &#123;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">200px</span>;</span><br><span class="line">    <span class="attribute">background-color</span>: blue;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>方法2：对右侧:div进行绝对定位，然后再设置right=0，即可以实现宽度自适应</strong></p><blockquote><p>绝对定位元素的第一个高级特性就是其具有自动伸缩的功能，当我们将 <code>width</code>设置为 <code>auto</code> 的时候（或者不设置，默认为 <code>auto</code> ），绝对定位元素会根据其 <code>left</code> 和 <code>right</code> 自动伸缩其大小</p></blockquote><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.outer</span> &#123;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">100%</span>;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">500px</span>;</span><br><span class="line">    <span class="attribute">background-color</span>: yellow;</span><br><span class="line">    <span class="attribute">position</span>: relative;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.left</span> &#123;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">200px</span>;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">200px</span>;</span><br><span class="line">    <span class="attribute">background-color</span>: red;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.right</span> &#123;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">200px</span>;</span><br><span class="line">    <span class="attribute">background-color</span>: blue;</span><br><span class="line">    <span class="attribute">position</span>: absolute;</span><br><span class="line">    <span class="attribute">left</span>: <span class="number">200px</span>;</span><br><span class="line">    <span class="attribute">top</span>:<span class="number">0</span>;          </span><br><span class="line">    <span class="attribute">right</span>: <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>方法3：将左侧<code>div</code>进行绝对定位，然后右侧<code>div</code>设置<code>margin-left: 200px</code></strong></p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.outer</span> &#123;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">100%</span>;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">500px</span>;</span><br><span class="line">    <span class="attribute">background-color</span>: yellow;</span><br><span class="line">    <span class="attribute">position</span>: relative;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.left</span> &#123;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">200px</span>;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">200px</span>;</span><br><span class="line">    <span class="attribute">background-color</span>: red;</span><br><span class="line">    <span class="attribute">position</span>: absolute;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.right</span> &#123;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">200px</span>;</span><br><span class="line">    <span class="attribute">background-color</span>: blue;</span><br><span class="line">    <span class="attribute">margin-left</span>: <span class="number">200px</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>方法4：使用flex布局</strong></p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.outer</span> &#123;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">100%</span>;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">500px</span>;</span><br><span class="line">    <span class="attribute">background-color</span>: yellow;</span><br><span class="line">    <span class="attribute">display</span>: flex;</span><br><span class="line">    <span class="attribute">flex-direction</span>: row;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.left</span> &#123;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">200px</span>;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">200px</span>;</span><br><span class="line">    <span class="attribute">background-color</span>: red;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.right</span> &#123;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">200px</span>;</span><br><span class="line">    <span class="attribute">background-color</span>: blue;</span><br><span class="line">    <span class="attribute">flex</span>: <span class="number">1</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="51-两种以上方式实现已知或者未知宽度的垂直水平居中"><a href="#51-两种以上方式实现已知或者未知宽度的垂直水平居中" class="headerlink" title="51 两种以上方式实现已知或者未知宽度的垂直水平居中"></a>51 两种以上方式实现已知或者未知宽度的垂直水平居中</h3><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/** 1 **/</span></span><br><span class="line"><span class="selector-class">.wraper</span> &#123;</span><br><span class="line">  <span class="attribute">position</span>: relative;</span><br><span class="line">  .box &#123;</span><br><span class="line">    <span class="selector-tag">position</span>: <span class="selector-tag">absolute</span>;</span><br><span class="line">    <span class="selector-tag">top</span>: 50%;</span><br><span class="line">    <span class="selector-tag">left</span>: 50%;</span><br><span class="line">    <span class="selector-tag">width</span>: 100<span class="selector-tag">px</span>;</span><br><span class="line">    <span class="selector-tag">height</span>: 100<span class="selector-tag">px</span>;</span><br><span class="line">    <span class="selector-tag">margin</span>: <span class="selector-tag">-50px</span> 0 0 <span class="selector-tag">-50px</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/** 2 **/</span></span><br><span class="line"><span class="selector-class">.wraper</span> &#123;</span><br><span class="line">  <span class="attribute">position</span>: relative;</span><br><span class="line">  .box &#123;</span><br><span class="line">    <span class="selector-tag">position</span>: <span class="selector-tag">absolute</span>;</span><br><span class="line">    <span class="selector-tag">top</span>: 50%;</span><br><span class="line">    <span class="selector-tag">left</span>: 50%;</span><br><span class="line">    <span class="selector-tag">transform</span>: <span class="selector-tag">translate</span>(<span class="selector-tag">-50</span>%, <span class="selector-tag">-50</span>%);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/** 3 **/</span></span><br><span class="line"><span class="selector-class">.wraper</span> &#123;</span><br><span class="line">  .box &#123;</span><br><span class="line">    <span class="selector-tag">display</span>: <span class="selector-tag">flex</span>;</span><br><span class="line">    <span class="selector-tag">justify-content</span><span class="selector-pseudo">:center</span>;</span><br><span class="line">    <span class="selector-tag">align-items</span>: <span class="selector-tag">center</span>;</span><br><span class="line">    <span class="selector-tag">height</span>: 100<span class="selector-tag">px</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/** 4 **/</span></span><br><span class="line"><span class="selector-class">.wraper</span> &#123;</span><br><span class="line">  <span class="attribute">display</span>: table;</span><br><span class="line">  .box &#123;</span><br><span class="line">    <span class="selector-tag">display</span>: <span class="selector-tag">table-cell</span>;</span><br><span class="line">    <span class="selector-tag">vertical-align</span>: <span class="selector-tag">middle</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="52-如何实现小于12px的字体效果"><a href="#52-如何实现小于12px的字体效果" class="headerlink" title="52 如何实现小于12px的字体效果"></a>52 如何实现小于12px的字体效果</h3><blockquote><p><code>transform:scale()</code>这个属性只可以缩放可以定义宽高的元素，而行内元素是没有宽高的，我们可以加上一个<code>display:inline-block</code>;</p></blockquote><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">transform</span>: <span class="selector-tag">scale</span>(0<span class="selector-class">.7</span>);</span><br></pre></td></tr></table></figure><p><code>css</code>的属性，可以缩放大小</p><h3 id="53-css-hack原理及常用hack"><a href="#53-css-hack原理及常用hack" class="headerlink" title="53 css hack原理及常用hack"></a>53 css hack原理及常用hack</h3><ul><li>  原理：利用不同浏览器对CSS的支持和解析结果不一样编写针对特定浏览器样式。</li><li>常见的hack有<ul><li>  属性hack</li><li>  选择器hack</li><li>  IE条件注释</li></ul></li></ul><h3 id="54-CSS有哪些继承属性"><a href="#54-CSS有哪些继承属性" class="headerlink" title="54 CSS有哪些继承属性"></a>54 CSS有哪些继承属性</h3><ul><li>关于文字排版的属性如：<ul><li><code>font</code><ul><li>  <code>word-break</code></li><li>  <code>letter-spacing</code></li><li>  <code>text-align</code></li><li>  <code>text-rendering</code></li><li>  <code>word-spacing</code></li><li>  <code>white-space</code></li><li>  <code>text-indent</code></li><li>  <code>text-transform</code></li><li>  <code>text-shadow</code></li></ul></li><li>  <code>line-height</code></li><li>  <code>color</code></li><li>  <code>visibility</code></li><li>  <code>cursor</code></li></ul></li></ul><h3 id="55-外边距折叠-collapsing-margins"><a href="#55-外边距折叠-collapsing-margins" class="headerlink" title="55 外边距折叠(collapsing margins)"></a>55 外边距折叠(collapsing margins)</h3><ul><li>毗邻的两个或多个 <code>margin</code> 会合并成一个<code>margin</code>，叫做外边距折叠。规则如下：<ul><li>  两个或多个毗邻的普通流中的块元素垂直方向上的<code>margin</code>会折叠</li><li>  浮动元素或<code>inline-block</code>元素或绝对定位元素的<code>margin</code>不会和垂直方向上的其他元素的margin折叠</li><li>  创建了块级格式化上下文的元素，不会和它的子元素发生margin折叠</li><li>  元素自身的<code>margin-bottom</code>和<code>margin-top</code>相邻时也会折</li></ul></li></ul><h3 id="56-CSS选择符有哪些？哪些属性可以继承"><a href="#56-CSS选择符有哪些？哪些属性可以继承" class="headerlink" title="56 CSS选择符有哪些？哪些属性可以继承"></a>56 CSS选择符有哪些？哪些属性可以继承</h3><ul><li>  id选择器（ <code># myid</code>）</li><li>  类选择器（<code>.myclassname</code>）</li><li>  标签选择器（<code>div</code>, <code>h1</code>, <code>p</code>）</li><li>  相邻选择器（<code>h1 + p</code>）</li><li>  子选择器（<code>ul &gt; li</code>）</li><li>  后代选择器（<code>li a</code>）</li><li>  通配符选择器（ <code>*</code> ）</li><li>  属性选择器（<code>a[rel = &quot;external&quot;]</code>）</li><li>  伪类选择器（<code>a:hover, li:nth-child</code>）</li></ul><p><strong>CSS哪些属性可以继承？哪些属性不可以继承</strong></p><ul><li>  可继承的样式： <code>font-size font-family color, UL LI DL DD DT</code></li><li>  不可继承的样式：<code>border padding margin width height</code></li></ul><h3 id="57-CSS3新增伪类有那些"><a href="#57-CSS3新增伪类有那些" class="headerlink" title="57 CSS3新增伪类有那些"></a>57 CSS3新增伪类有那些</h3><ul><li>  <code>:root</code> 选择文档的根元素，等同于 html 元素</li><li>  <code>:empty</code> 选择没有子元素的元素</li><li>  <code>:target</code> 选取当前活动的目标元素</li><li>  <code>:not(selector)</code> 选择除 <code>selector</code> 元素意外的元素</li><li>  <code>:enabled</code> 选择可用的表单元素</li><li>  <code>:disabled</code> 选择禁用的表单元素</li><li>  <code>:checked</code> 选择被选中的表单元素</li><li>  <code>:after</code> 在元素内部最前添加内容</li><li>  <code>:before</code> 在元素内部最后添加内容</li><li>  <code>:nth-child(n)</code> 匹配父元素下指定子元素，在所有子元素中排序第n</li><li>  <code>:nth-last-child(n)</code> 匹配父元素下指定子元素，在所有子元素中排序第n，从后向前数</li><li>  <code>:nth-child(odd)</code></li><li>  <code>:nth-child(even)</code></li><li>  <code>:nth-child(3n+1)</code></li><li>  <code>:first-child</code></li><li>  <code>:last-child</code></li><li>  <code>:only-child</code></li><li>  <code>:nth-of-type(n)</code> 匹配父元素下指定子元素，在同类子元素中排序第n</li><li>  <code>:nth-last-of-type(n)</code> 匹配父元素下指定子元素，在同类子元素中排序第n，从后向前数</li><li>  <code>:nth-of-type(odd)</code></li><li>  <code>:nth-of-type(even)</code></li><li>  <code>:nth-of-type(3n+1)</code></li><li>  <code>:first-of-type</code></li><li>  <code>:last-of-type</code></li><li>  <code>:only-of-type</code></li><li>  <code>::selection</code> 选择被用户选取的元素部分</li><li>  <code>:first-line</code> 选择元素中的第一行</li><li>  <code>:first-letter</code> 选择元素中的第一个字符</li></ul><h3 id="58-如何居中div？如何居中一个浮动元素？如何让绝对定位的div居中"><a href="#58-如何居中div？如何居中一个浮动元素？如何让绝对定位的div居中" class="headerlink" title="58 如何居中div？如何居中一个浮动元素？如何让绝对定位的div居中"></a>58 如何居中div？如何居中一个浮动元素？如何让绝对定位的div居中</h3><ul><li>  给<code>div</code>设置一个宽度，然后添加<code>margin:0 auto</code>属性</li></ul><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">div</span>&#123;</span><br><span class="line">  <span class="attribute">width</span>:<span class="number">200px</span>;</span><br><span class="line">  <span class="attribute">margin</span>:<span class="number">0</span> auto;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>  居中一个浮动元素</li></ul><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* 确定容器的宽高 宽500 高 300 的层</span></span><br><span class="line"><span class="comment">设置层的外边距 */</span></span><br><span class="line"></span><br><span class="line"><span class="selector-class">.div</span> &#123;</span><br><span class="line">  width:500px ; height:300px;//高度可以不设</span><br><span class="line">  <span class="selector-tag">margin</span>: <span class="selector-tag">-150px</span> 0 0 <span class="selector-tag">-250px</span>;</span><br><span class="line">  position:relative;         //相对定位</span><br><span class="line">  background-color:pink;     //方便看效果</span><br><span class="line">  <span class="selector-tag">left</span><span class="selector-pseudo">:50</span>%;</span><br><span class="line">  <span class="selector-tag">top</span><span class="selector-pseudo">:50</span>%;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><p>让绝对定位的div居中</p></blockquote><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">position: absolute;</span><br><span class="line">width: 1200px;</span><br><span class="line">background: none;</span><br><span class="line">margin: 0 auto;</span><br><span class="line">top: 0;</span><br><span class="line">left: 0;</span><br><span class="line">bottom: 0;</span><br><span class="line">right: 0;</span><br></pre></td></tr></table></figure><h3 id="59-用纯CSS创建一个三角形的原理是什么"><a href="#59-用纯CSS创建一个三角形的原理是什么" class="headerlink" title="59 用纯CSS创建一个三角形的原理是什么"></a>59 用纯CSS创建一个三角形的原理是什么</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;* 把上、左、右三条边隐藏掉（颜色设为 transparent） *&#x2F;</span><br><span class="line">#demo &#123;</span><br><span class="line">  width: 0;</span><br><span class="line">  height: 0;</span><br><span class="line">  border-width: 20px;</span><br><span class="line">  border-style: solid;</span><br><span class="line">  border-color: transparent transparent red transparent;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="60-一个满屏-品-字布局-如何设计"><a href="#60-一个满屏-品-字布局-如何设计" class="headerlink" title="60 一个满屏 品 字布局 如何设计?"></a>60 一个满屏 品 字布局 如何设计?</h3><ul><li>简单的方式：<ul><li>  上面的<code>div</code>宽<code>100%</code>，</li><li>  下面的两个<code>div</code>分别宽<code>50%</code>，</li><li>  然后用<code>float</code>或者<code>inline</code>使其不换行即可</li></ul></li></ul><h3 id="61-li与li之间有看不见的空白间隔是什么原因引起的？有什么解决办法"><a href="#61-li与li之间有看不见的空白间隔是什么原因引起的？有什么解决办法" class="headerlink" title="61 li与li之间有看不见的空白间隔是什么原因引起的？有什么解决办法"></a>61 li与li之间有看不见的空白间隔是什么原因引起的？有什么解决办法</h3><blockquote><p>行框的排列会受到中间空白（回车\空格）等的影响，因为空格也属于字符,这些空白也会被应用样式，占据空间，所以会有间隔，把字符大小设为0，就没有空格了</p></blockquote><h3 id="62-为什么要初始化CSS样式"><a href="#62-为什么要初始化CSS样式" class="headerlink" title="62 为什么要初始化CSS样式"></a>62 为什么要初始化CSS样式</h3><blockquote><p>因为浏览器的兼容问题，不同浏览器对有些标签的默认值是不同的，如果没对CSS初始化往往会出现浏览器之间的页面显示差异</p></blockquote><h3 id="63-请列举几种隐藏元素的方法"><a href="#63-请列举几种隐藏元素的方法" class="headerlink" title="63 请列举几种隐藏元素的方法"></a>63 请列举几种隐藏元素的方法</h3><ul><li>  <code>visibility: hidden;</code> 这个属性只是简单的隐藏某个元素，但是元素占用的空间任然存在</li><li>  <code>opacity: 0;</code> <code>CSS3</code>属性，设置<code>0</code>可以使一个元素完全透明</li><li>  <code>position: absolute;</code> 设置一个很大的 <code>left</code> 负值定位，使元素定位在可见区域之外</li><li>  <code>display: none;</code> 元素会变得不可见，并且不会再占用文档的空间。</li><li>  <code>transform: scale(0);</code> 将一个元素设置为缩放无限小，元素将不可见，元素原来所在的位置将被保留</li><li>  <code>&lt;div hidden=&quot;hidden&quot;&gt;</code> HTML5属性,效果和<code>display:none;</code>相同，但这个属性用于记录一个元素的状态</li><li>  <code>height: 0;</code> 将元素高度设为 <code>0</code> ，并消除边框</li><li>  <code>filter: blur(0);</code> CSS3属性，将一个元素的模糊度设置为<code>0</code>，从而使这个元素“消失”在页面中</li></ul><h3 id="64-rgba-和-opacity-的透明效果有什么不同"><a href="#64-rgba-和-opacity-的透明效果有什么不同" class="headerlink" title="64 rgba() 和 opacity 的透明效果有什么不同"></a>64 rgba() 和 opacity 的透明效果有什么不同</h3><ul><li>  <code>opacity</code> 作用于元素以及元素内的所有内容（包括文字）的透明度</li><li>  <code>rgba()</code> 只作用于元素自身的颜色或其背景色，子元素不会继承透明效果</li></ul><h3 id="65-css-属性-content-有什么作用"><a href="#65-css-属性-content-有什么作用" class="headerlink" title="65 css 属性 content 有什么作用"></a>65 css 属性 content 有什么作用</h3><ul><li>  content 属性专门应用在 before/after 伪元素上，用于插入额外内容或样式</li></ul><h3 id="66-请解释一下-CSS3-的-Flexbox（弹性盒布局模型）以及适用场景"><a href="#66-请解释一下-CSS3-的-Flexbox（弹性盒布局模型）以及适用场景" class="headerlink" title="66 请解释一下 CSS3 的 Flexbox（弹性盒布局模型）以及适用场景"></a>66 请解释一下 CSS3 的 Flexbox（弹性盒布局模型）以及适用场景</h3><blockquote><p>1Flexbox1 用于不同尺寸屏幕中创建可自动扩展和收缩布局</p></blockquote><h3 id="67-经常遇到的浏览器的JS兼容性有哪些？解决方法是什么"><a href="#67-经常遇到的浏览器的JS兼容性有哪些？解决方法是什么" class="headerlink" title="67 经常遇到的浏览器的JS兼容性有哪些？解决方法是什么"></a>67 经常遇到的浏览器的JS兼容性有哪些？解决方法是什么</h3><ul><li>  当前样式：<code>getComputedStyle(el, null) VS el.currentStyle</code></li><li>  事件对象：<code>e VS window.event</code></li><li>  鼠标坐标：<code>e.pageX, e.pageY VS window.event.x, window.event.y</code></li><li>  按键码：<code>e.which VS event.keyCode</code></li><li>  文本节点：<code>el.textContent VS el.innerText</code></li></ul><h3 id="68-请写出多种等高布局"><a href="#68-请写出多种等高布局" class="headerlink" title="68 请写出多种等高布局"></a>68 请写出多种等高布局</h3><ul><li>  在列的父元素上使用这个背景图进行Y轴的铺放，从而实现一种等高列的假像</li><li>  模仿表格布局等高列效果：兼容性不好，在ie6-7无法正常运行</li><li>  css3 flexbox 布局： .container{display: flex; align-items: stretch;}</li></ul><h3 id="69-浮动元素引起的问题"><a href="#69-浮动元素引起的问题" class="headerlink" title="69 浮动元素引起的问题"></a>69 浮动元素引起的问题</h3><ul><li>  父元素的高度无法被撑开，影响与父元素同级的元素</li><li>  与浮动元素同级的非浮动元素会跟随其后</li></ul><h3 id="70-CSS优化、提高性能的方法有哪些"><a href="#70-CSS优化、提高性能的方法有哪些" class="headerlink" title="70 CSS优化、提高性能的方法有哪些"></a>70 CSS优化、提高性能的方法有哪些</h3><ul><li>  多个<code>css</code>合并，尽量减少<code>HTTP</code>请求</li><li>  将<code>css</code>文件放在页面最上面</li><li>  移除空的<code>css</code>规则</li><li>  避免使用<code>CSS</code>表达式</li><li>  选择器优化嵌套，尽量避免层级过深</li><li>  充分利用<code>css</code>继承属性，减少代码量</li><li>  抽象提取公共样式，减少代码量</li><li>  属性值为<code>0</code>时，不加单位</li><li>  属性值为小于<code>1</code>的小数时，省略小数点前面的0</li><li>  <code>css</code>雪碧图</li></ul><h3 id="71-浏览器是怎样解析CSS选择器的"><a href="#71-浏览器是怎样解析CSS选择器的" class="headerlink" title="71 浏览器是怎样解析CSS选择器的"></a>71 浏览器是怎样解析CSS选择器的</h3><ul><li>  浏览器解析 CSS 选择器的方式是从右到左</li></ul><h3 id="72-在网页中的应该使用奇数还是偶数的字体"><a href="#72-在网页中的应该使用奇数还是偶数的字体" class="headerlink" title="72 在网页中的应该使用奇数还是偶数的字体"></a>72 在网页中的应该使用奇数还是偶数的字体</h3><ul><li>在网页中的应该使用“偶数”字体：<ul><li>  偶数字号相对更容易和 web 设计的其他部分构成比例关系</li><li>  使用奇数号字体时文本段落无法对齐</li><li>  宋体的中文网页排布中使用最多的就是 12 和 14</li></ul></li></ul><h3 id="73-margin和padding分别适合什么场景使用"><a href="#73-margin和padding分别适合什么场景使用" class="headerlink" title="73 margin和padding分别适合什么场景使用"></a>73 margin和padding分别适合什么场景使用</h3><ul><li>  需要在<code>border</code>外侧添加空白，且空白处不需要背景（色）时，使用 <code>margin</code></li><li>  需要在<code>border</code>内测添加空白，且空白处需要背景（色）时，使用 <code>padding</code></li></ul><h3 id="74-抽离样式模块怎么写，说出思路"><a href="#74-抽离样式模块怎么写，说出思路" class="headerlink" title="74 抽离样式模块怎么写，说出思路"></a>74 抽离样式模块怎么写，说出思路</h3><ul><li>CSS可以拆分成2部分：公共CSS 和 业务CSS：<ul><li>  网站的配色，字体，交互提取出为公共CSS。这部分CSS命名不应涉及具体的业务</li><li>  对于业务CSS，需要有统一的命名，使用公用的前缀。可以参考面向对象的CSS</li></ul></li></ul><h3 id="75-元素竖向的百分比设定是相对于容器的高度吗"><a href="#75-元素竖向的百分比设定是相对于容器的高度吗" class="headerlink" title="75 元素竖向的百分比设定是相对于容器的高度吗"></a>75 元素竖向的百分比设定是相对于容器的高度吗</h3><blockquote><p>元素竖向的百分比设定是相对于容器的宽度，而不是高度</p></blockquote><h3 id="76-全屏滚动的原理是什么？-用到了CSS的那些属性"><a href="#76-全屏滚动的原理是什么？-用到了CSS的那些属性" class="headerlink" title="76 全屏滚动的原理是什么？ 用到了CSS的那些属性"></a>76 全屏滚动的原理是什么？ 用到了CSS的那些属性</h3><ul><li>  原理类似图片轮播原理，超出隐藏部分，滚动时显示</li><li>  可能用到的CSS属性：<code>overflow:hidden; transform:translate(100%, 100%); display:none;</code></li></ul><h3 id="77-什么是响应式设计？响应式设计的基本原理是什么？如何兼容低版本的IE"><a href="#77-什么是响应式设计？响应式设计的基本原理是什么？如何兼容低版本的IE" class="headerlink" title="77 什么是响应式设计？响应式设计的基本原理是什么？如何兼容低版本的IE"></a>77 什么是响应式设计？响应式设计的基本原理是什么？如何兼容低版本的IE</h3><ul><li>  响应式设计就是网站能够兼容多个终端，而不是为每个终端做一个特定的版本</li><li>  基本原理是利用CSS3媒体查询，为不同尺寸的设备适配不同样式</li><li>  对于低版本的IE，可采用JS获取屏幕宽度，然后通过resize方法来实现兼容：</li></ul><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">$(window).resize(function () &#123;</span><br><span class="line">  <span class="selector-tag">screenRespond</span>();</span><br><span class="line">&#125;);</span><br><span class="line"><span class="selector-tag">screenRespond</span>();</span><br><span class="line"><span class="selector-tag">function</span> <span class="selector-tag">screenRespond</span>()&#123;</span><br><span class="line">var screenWidth = $(window).width();</span><br><span class="line">if(screenWidth &lt;= 1800)&#123;</span><br><span class="line">  $(&quot;body&quot;).attr(&quot;class&quot;, &quot;w1800&quot;);</span><br><span class="line">&#125;</span><br><span class="line">if(screenWidth &lt;= 1400)&#123;</span><br><span class="line">  $(&quot;body&quot;).attr(&quot;class&quot;, &quot;w1400&quot;);</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-tag">if</span>(<span class="selector-tag">screenWidth</span> &gt; 1800)&#123;</span><br><span class="line">  $(&quot;body&quot;).attr(&quot;class&quot;, &quot;&quot;);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="78-什么是视差滚动效果，如何给每页做不同的动画"><a href="#78-什么是视差滚动效果，如何给每页做不同的动画" class="headerlink" title="78 什么是视差滚动效果，如何给每页做不同的动画"></a>78 什么是视差滚动效果，如何给每页做不同的动画</h3><ul><li>视差滚动是指多层背景以不同的速度移动，形成立体的运动效果，具有非常出色的视觉体验</li><li>一般把网页解剖为：背景层、内容层和悬浮层。当滚动鼠标滚轮时，各图层以不同速度移动，形成视差的</li><li>实现原理<ul><li>  以 “页面滚动条” 作为 “视差动画进度条”</li><li>  以 “滚轮刻度” 当作 “动画帧度” 去播放动画的</li><li>  监听 mousewheel 事件，事件被触发即播放动画，实现“翻页”效果</li></ul></li></ul><h3 id="79-a标签上四个伪类的执行顺序是怎么样的"><a href="#79-a标签上四个伪类的执行顺序是怎么样的" class="headerlink" title="79 a标签上四个伪类的执行顺序是怎么样的"></a>79 a标签上四个伪类的执行顺序是怎么样的</h3><blockquote><p><code>link &gt; visited &gt; hover &gt; active</code></p></blockquote><ul><li>  <code>L-V-H-A</code> <code>love hate</code> 用喜欢和讨厌两个词来方便记忆</li></ul><h3 id="80-伪元素和伪类的区别和作用"><a href="#80-伪元素和伪类的区别和作用" class="headerlink" title="80 伪元素和伪类的区别和作用"></a>80 伪元素和伪类的区别和作用</h3><ul><li>  伪元素 – 在内容元素的前后插入额外的元素或样式，但是这些元素实际上并不在文档中生成。</li><li>  它们只在外部显示可见，但不会在文档的源代码中找到它们，因此，称为“伪”元素。例如：</li></ul><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">p</span><span class="selector-pseudo">::before</span> &#123;<span class="attribute">content</span>:<span class="string">&quot;第一章：&quot;</span>;&#125;</span><br><span class="line"><span class="selector-tag">p</span><span class="selector-pseudo">::after</span> &#123;<span class="attribute">content</span>:<span class="string">&quot;Hot!&quot;</span>;&#125;</span><br><span class="line"><span class="selector-tag">p</span><span class="selector-pseudo">::first-line</span> &#123;<span class="attribute">background</span>:red;&#125;</span><br><span class="line"><span class="selector-tag">p</span><span class="selector-pseudo">::first-letter</span> &#123;<span class="attribute">font-size</span>:<span class="number">30px</span>;&#125;</span><br></pre></td></tr></table></figure><ul><li>  伪类 – 将特殊的效果添加到特定选择器上。它是已有元素上添加类别的，不会产生新的元素。例如：</li></ul><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">a</span><span class="selector-pseudo">:hover</span> &#123;<span class="attribute">color</span>: <span class="number">#FF00FF</span>&#125;</span><br><span class="line"><span class="selector-tag">p</span><span class="selector-pseudo">:first-child</span> &#123;<span class="attribute">color</span>: red&#125;</span><br></pre></td></tr></table></figure><h3 id="81-before-和-after-中双冒号和单冒号有什么区别"><a href="#81-before-和-after-中双冒号和单冒号有什么区别" class="headerlink" title="81 ::before 和 :after 中双冒号和单冒号有什么区别"></a>81 ::before 和 :after 中双冒号和单冒号有什么区别</h3><ul><li>  在 CSS 中伪类一直用 <code>:</code> 表示，如 <code>:hover</code>, <code>:active</code> 等</li><li>  伪元素在CSS1中已存在，当时语法是用 <code>:</code> 表示，如 <code>:before</code> 和 <code>:after</code></li><li>  后来在CSS3中修订，伪元素用 <code>::</code> 表示，如 <code>::before</code> 和 <code>::after</code>，以此区分伪元素和伪类</li><li>  由于低版本IE对双冒号不兼容，开发者为了兼容性各浏览器，继续使使用 :after 这种老语法表示伪元素</li><li>  综上所述：<code>::before</code> 是 <code>CSS3</code> 中写伪元素的新语法； <code>:after</code> 是 <code>CSS1</code> 中存在的、兼容IE的老语法</li></ul><h3 id="82-如何修改Chrome记住密码后自动填充表单的黄色背景"><a href="#82-如何修改Chrome记住密码后自动填充表单的黄色背景" class="headerlink" title="82 如何修改Chrome记住密码后自动填充表单的黄色背景"></a>82 如何修改Chrome记住密码后自动填充表单的黄色背景</h3><ul><li>  产生原因：由于Chrome默认会给自动填充的input表单加上 <code>input:-webkit-autofill</code> 私有属性造成的</li><li>  解决方案1：在form标签上直接关闭了表单的自动填充：<code>autocomplete=&quot;off&quot;</code></li><li>  解决方案2：<code>input:-webkit-autofill &#123; background-color: transparent; &#125;</code></li></ul><p><strong>input [type=search] 搜索框右侧小图标如何美化？</strong></p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">input</span><span class="selector-attr">[type=<span class="string">&quot;search&quot;</span>]</span><span class="selector-pseudo">::-webkit-search-cancel-button</span>&#123;</span><br><span class="line">  <span class="attribute">-webkit-appearance</span>: none;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">15px</span>;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">15px</span>;</span><br><span class="line">  <span class="attribute">border-radius</span>: <span class="number">8px</span>;</span><br><span class="line">  <span class="attribute">background</span>:<span class="built_in">url</span>(<span class="string">&quot;images/searchicon.png&quot;</span>) no-repeat <span class="number">0</span> <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">background-size</span>: <span class="number">15px</span> <span class="number">15px</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="83-网站图片文件，如何点击下载？而非点击预览"><a href="#83-网站图片文件，如何点击下载？而非点击预览" class="headerlink" title="83 网站图片文件，如何点击下载？而非点击预览"></a>83 网站图片文件，如何点击下载？而非点击预览</h3><p><code>&lt;a href=&quot;logo.jpg&quot; download&gt;下载&lt;/a&gt;</code> <code>&lt;a href=&quot;logo.jpg&quot; download=&quot;网站LOGO&quot; &gt;下载&lt;/a&gt;</code></p><h3 id="63-iOS-safari-如何阻止“橡皮筋效果”"><a href="#63-iOS-safari-如何阻止“橡皮筋效果”" class="headerlink" title="63 iOS safari 如何阻止“橡皮筋效果”"></a>63 iOS safari 如何阻止“橡皮筋效果”</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">$(<span class="built_in">document</span>).ready(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="keyword">var</span> stopScrolling = <span class="function"><span class="keyword">function</span>(<span class="params">event</span>) </span>&#123;</span><br><span class="line">        event.preventDefault();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">document</span>.addEventListener(<span class="string">&#x27;touchstart&#x27;</span>, stopScrolling, <span class="literal">false</span>);</span><br><span class="line">    <span class="built_in">document</span>.addEventListener(<span class="string">&#x27;touchmove&#x27;</span>, stopScrolling, <span class="literal">false</span>);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><h3 id="84-你对-line-height-是如何理解的"><a href="#84-你对-line-height-是如何理解的" class="headerlink" title="84 你对 line-height 是如何理解的"></a>84 你对 line-height 是如何理解的</h3><ul><li>  <code>line-height</code> 指一行字的高度，包含了字间距，实际上是下一行基线到上一行基线距离</li><li>  如果一个标签没有定义 <code>height</code> 属性，那么其最终表现的高度是由 <code>line-height</code> 决定的</li><li>  一个容器没有设置高度，那么撑开容器高度的是 <code>line-height</code> 而不是容器内的文字内容</li><li>  把 <code>line-height</code> 值设置为 <code>height</code> 一样大小的值可以实现单行文字的垂直居中</li><li>  <code>line-height</code> 和 <code>height</code> 都能撑开一个高度，<code>height</code> 会触发 <code>haslayout</code>，而 <code>line-height</code> 不会</li></ul><h3 id="85-line-height-三种赋值方式有何区别？（带单位、纯数字、百分比）"><a href="#85-line-height-三种赋值方式有何区别？（带单位、纯数字、百分比）" class="headerlink" title="85 line-height 三种赋值方式有何区别？（带单位、纯数字、百分比）"></a>85 line-height 三种赋值方式有何区别？（带单位、纯数字、百分比）</h3><ul><li>  带单位：<code>px</code> 是固定值，而 <code>em</code> 会参考父元素 <code>font-size</code> 值计算自身的行高</li><li>  纯数字：会把比例传递给后代。例如，父级行高为 <code>1.5</code>，子元素字体为 <code>18px</code>，则子元素行高为 <code>1.5 * 18 = 27px</code></li><li>  百分比：将计算后的值传递给后代</li></ul><h3 id="86-设置元素浮动后，该元素的-display-值会如何变化"><a href="#86-设置元素浮动后，该元素的-display-值会如何变化" class="headerlink" title="86 设置元素浮动后，该元素的 display 值会如何变化"></a>86 设置元素浮动后，该元素的 display 值会如何变化</h3><blockquote><p>设置元素浮动后，该元素的 <code>display</code> 值自动变成 <code>block</code></p></blockquote><h3 id="87-让页面里的字体变清晰，变细用CSS怎么做？（IOS手机浏览器字体齿轮设置）"><a href="#87-让页面里的字体变清晰，变细用CSS怎么做？（IOS手机浏览器字体齿轮设置）" class="headerlink" title="87 让页面里的字体变清晰，变细用CSS怎么做？（IOS手机浏览器字体齿轮设置）"></a>87 让页面里的字体变清晰，变细用CSS怎么做？（IOS手机浏览器字体齿轮设置）</h3><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">-webkit-font-smoothing</span>: <span class="selector-tag">antialiased</span>;</span><br></pre></td></tr></table></figure><h3 id="88-font-style-属性-oblique-是什么意思"><a href="#88-font-style-属性-oblique-是什么意思" class="headerlink" title="88 font-style 属性 oblique 是什么意思"></a>88 font-style 属性 oblique 是什么意思</h3><blockquote><p><code>font-style: oblique;</code> 使没有 <code>italic</code> 属性的文字实现倾斜</p></blockquote><h3 id="89-display-inline-block-什么时候会显示间隙"><a href="#89-display-inline-block-什么时候会显示间隙" class="headerlink" title="89 display:inline-block 什么时候会显示间隙"></a>89 display:inline-block 什么时候会显示间隙</h3><ul><li>  相邻的 <code>inline-block</code> 元素之间有换行或空格分隔的情况下会产生间距</li><li>  非 <code>inline-block</code> 水平元素设置为 <code>inline-block</code> 也会有水平间距</li><li>  可以借助 <code>vertical-align:top;</code> 消除垂直间隙</li><li>  可以在父级加 <code>font-size：0;</code> 在子元素里设置需要的字体大小，消除垂直间隙</li><li>  把 <code>li</code> 标签写到同一行可以消除垂直间隙，但代码可读性差</li></ul><h3 id="90-一个高度自适应的div，里面有两个div，一个高度100px，希望另一个填满剩下的高度"><a href="#90-一个高度自适应的div，里面有两个div，一个高度100px，希望另一个填满剩下的高度" class="headerlink" title="90 一个高度自适应的div，里面有两个div，一个高度100px，希望另一个填满剩下的高度"></a>90 一个高度自适应的div，里面有两个div，一个高度100px，希望另一个填满剩下的高度</h3><ul><li>方案1：<ul><li>  <code>.sub &#123; height: calc(100%-100px); &#125;</code></li></ul></li><li>方案2：<ul><li>  <code>.container &#123; position:relative; &#125;</code></li><li>  <code>.sub &#123; position: absolute; top: 100px; bottom: 0; &#125;</code></li></ul></li><li>方案3：<ul><li>  <code>.container &#123; display:flex; flex-direction:column; &#125;</code></li><li>  <code>.sub &#123; flex:1; &#125;</code></li></ul></li></ul>]]></content>
      
      
      <categories>
          
          <category> 前端 </category>
          
          <category> 基础 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 前端 </tag>
            
            <tag> 学习笔记 </tag>
            
            <tag> 分享 </tag>
            
            <tag> 基础 </tag>
            
            <tag> HTML、HTTP </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>前端指南-HTML、HTTP、web综合问题</title>
      <link href="ckqxqe4os0034bwwffvl4c7bl/"/>
      <url>ckqxqe4os0034bwwffvl4c7bl/</url>
      
        <content type="html"><![CDATA[<p>这是对于前端-HTML、HTTP、web综合问题的学习笔记及分享，会一直更新，保持学习的进步</p><a id="more"></a><h3 id="1-前端需要注意哪些SEO"><a href="#1-前端需要注意哪些SEO" class="headerlink" title="1 前端需要注意哪些SEO"></a>1 前端需要注意哪些SEO</h3><ul><li>  合理的<code>title</code>、<code>description</code>、<code>keywords</code>：搜索对着三项的权重逐个减小，<code>title</code>值强调重点即可，重要关键词出现不要超过2次，而且要靠前，不同页面<code>title</code>要有所不同；<code>description</code>把页面内容高度概括，长度合适，不可过分堆砌关键词，不同页面<code>description</code>有所不同；<code>keywords</code>列举出重要关键词即可</li><li>  语义化的<code>HTML</code>代码，符合W3C规范：语义化代码让搜索引擎容易理解网页</li><li>  重要内容<code>HTML</code>代码放在最前：搜索引擎抓取<code>HTML</code>顺序是从上到下，有的搜索引擎对抓取长度有限制，保证重要内容一定会被抓取</li><li>  重要内容不要用<code>js</code>输出：爬虫不会执行js获取内容</li><li>  少用<code>iframe</code>：搜索引擎不会抓取<code>iframe</code>中的内容</li><li>  非装饰性图片必须加<code>alt</code></li><li>  提高网站速度：网站速度是搜索引擎排序的一个重要指标</li></ul><h3 id="2-如何进行网站性能优化"><a href="#2-如何进行网站性能优化" class="headerlink" title="2 如何进行网站性能优化"></a>2 如何进行网站性能优化</h3><ul><li><code>content</code>方面<ul><li>  减少<code>HTTP</code>请求：合并文件、<code>CSS</code>精灵、<code>inline Image</code></li><li>  减少<code>DNS</code>查询：<code>DNS</code>缓存、将资源分布到恰当数量的主机名</li><li>  减少<code>DOM</code>元素数量</li></ul></li><li><code>Server</code>方面<ul><li>  使用<code>CDN</code></li><li>  配置<code>ETag</code></li><li>  对组件使用<code>Gzip</code>压缩</li></ul></li><li><code>Cookie</code>方面<ul><li>  减小<code>cookie</code>大小</li></ul></li><li><code>css</code>方面<ul><li>  将样式表放到页面顶部</li><li>  不使用<code>CSS</code>表达式</li><li>  使用<code>&lt;link&gt;</code>不使用<code>@import</code></li></ul></li><li><code>Javascript</code>方面<ul><li>  将脚本放到页面底部</li><li>  将<code>javascript</code>和<code>css</code>从外部引入</li><li>  压缩<code>javascript</code>和<code>css</code></li><li>  删除不需要的脚本</li><li>  减少<code>DOM</code>访问</li></ul></li><li>图片方面<ul><li>  优化图片：根据实际颜色需要选择色深、压缩</li><li>  优化<code>css</code>精灵</li><li>  不要在<code>HTML</code>中拉伸图片</li></ul></li></ul><p><strong>你有用过哪些前端性能优化的方法？</strong></p><ul><li>  减少http请求次数：CSS Sprites, JS、CSS源码压缩、图片大小控制合适；网页Gzip，CDN托管，data缓存 ，图片服务器。</li><li>  前端模板 JS+数据，减少由于HTML标签导致的带宽浪费，前端用变量保存AJAX请求结果，每次操作本地变量，不用请求，减少请求次数</li><li>  用innerHTML代替DOM操作，减少DOM操作次数，优化javascript性能。</li><li>  当需要设置的样式很多时设置className而不是直接操作style</li><li>  少用全局变量、缓存DOM节点查找的结果。减少IO读取操作</li><li>  避免使用CSS Expression（css表达式)又称Dynamic properties(动态属性)</li><li>  图片预加载，将样式表放在顶部，将脚本放在底部 加上时间戳</li><li>  避免在页面的主体布局中使用table，table要等其中的内容完全下载之后才会显示出来，显示比div+css布局慢</li></ul><p><strong>谈谈性能优化问题</strong></p><ul><li>  代码层面：避免使用css表达式，避免使用高级选择器，通配选择器</li><li>  缓存利用：缓存Ajax，使用CDN，使用外部js和css文件以便缓存，添加Expires头，服务端配置Etag，减少DNS查找等</li><li>  请求数量：合并样式和脚本，使用css图片精灵，初始首屏之外的图片资源按需加载，静态资源延迟加载</li><li>  请求带宽：压缩文件，开启GZIP</li></ul><p><strong>前端性能优化最佳实践？</strong></p><ul><li>  性能评级工具（PageSpeed 或 YSlow）</li><li>  合理设置 HTTP 缓存：Expires 与 Cache-control</li><li>  静态资源打包，开启 Gzip 压缩（节省响应流量）</li><li>  CSS3 模拟图像，图标base64（降低请求数）</li><li>  模块延迟(defer)加载/异步(async)加载</li><li>  Cookie 隔离（节省请求流量）</li><li>  localStorage（本地存储）</li><li>  使用 CDN 加速（访问最近服务器）</li><li>  启用 HTTP/2（多路复用，并行加载）</li><li>  前端自动化（gulp/webpack）</li></ul><h3 id="3-HTTP状态码及其含义"><a href="#3-HTTP状态码及其含义" class="headerlink" title="3 HTTP状态码及其含义"></a>3 HTTP状态码及其含义</h3><ul><li><code>1XX</code>：信息状态码<ul><li>  <code>100 Continue</code> 继续，一般在发送<code>post</code>请求时，已发送了<code>http header</code>之后服务端将返回此信息，表示确认，之后发送具体参数信息</li></ul></li><li><code>2XX</code>：成功状态码<ul><li>  <code>200 OK</code> 正常返回信息</li><li>  <code>201 Created</code> 请求成功并且服务器创建了新的资源</li><li>  <code>202 Accepted</code> 服务器已接受请求，但尚未处理</li></ul></li><li><code>3XX</code>：重定向<ul><li>  <code>301 Moved Permanently</code> 请求的网页已永久移动到新位置。</li><li>  <code>302 Found</code> 临时性重定向。</li><li>  <code>303 See Other</code> 临时性重定向，且总是使用 <code>GET</code> 请求新的 <code>URI</code>。</li><li>  <code>304 Not Modified</code> 自从上次请求后，请求的网页未修改过。</li></ul></li><li><code>4XX</code>：客户端错误<ul><li>  <code>400 Bad Request</code> 服务器无法理解请求的格式，客户端不应当尝试再次使用相同的内容发起请求。</li><li>  <code>401 Unauthorized</code> 请求未授权。</li><li>  <code>403 Forbidden</code> 禁止访问。</li><li>  <code>404 Not Found</code> 找不到如何与 <code>URI</code> 相匹配的资源。</li></ul></li><li><code>5XX:</code> 服务器错误<ul><li>  <code>500 Internal Server Error</code> 最常见的服务器端错误。</li><li>  <code>503 Service Unavailable</code> 服务器端暂时无法处理请求（可能是过载或维护）。</li></ul></li></ul><h3 id="4-语义化的理解"><a href="#4-语义化的理解" class="headerlink" title="4 语义化的理解"></a>4 语义化的理解</h3><ul><li>  用正确的标签做正确的事情！</li><li>  <code>HTML</code>语义化就是让页面的内容结构化，便于对浏览器、搜索引擎解析；</li><li>  在没有样式<code>CSS</code>情况下也以一种文档格式显示，并且是容易阅读的。</li><li>  搜索引擎的爬虫依赖于标记来确定上下文和各个关键字的权重，利于 <code>SEO</code>。</li><li>  使阅读源代码的人对网站更容易将网站分块，便于阅读维护理解</li></ul><h3 id="5-介绍一下你对浏览器内核的理解？"><a href="#5-介绍一下你对浏览器内核的理解？" class="headerlink" title="5 介绍一下你对浏览器内核的理解？"></a>5 介绍一下你对浏览器内核的理解？</h3><ul><li>主要分成两部分：渲染引擎(<code>layout engineer</code>或<code>Rendering Engine</code>)和<code>JS</code>引擎</li><li>渲染引擎：负责取得网页的内容（<code>HTML</code>、<code>XML</code>、图像等等）、整理讯息（例如加入<code>CSS</code>等），以及计算网页的显示方式，然后会输出至显示器或打印机。浏览器的内核的不同对于网页的语法解释会有不同，所以渲染的效果也不相同。所有网页浏览器、电子邮件客户端以及其它需要编辑、显示网络内容的应用程序都需要内核</li><li><code>JS</code>引擎则：解析和执行<code>javascript</code>来实现网页的动态效果</li><li>  最开始渲染引擎和<code>JS</code>引擎并没有区分的很明确，后来JS引擎越来越独立，内核就倾向于只指渲染引擎</li></ul><p><strong>常见的浏览器内核有哪些</strong></p><ul><li>  <code>Trident</code>内核：<code>IE,MaxThon,TT,The World,360</code>,搜狗浏览器等。[又称MSHTML]</li><li>  <code>Gecko</code>内核：<code>Netscape6</code>及以上版本，<code>FF,MozillaSuite/SeaMonkey</code>等</li><li>  <code>Presto</code>内核：<code>Opera7</code>及以上。 [<code>Opera</code>内核原为：Presto，现为：<code>Blink</code>;]</li><li>  <code>Webkit</code>内核：<code>Safari,Chrome</code>等。 [ <code>Chrome</code>的<code>Blink</code>（<code>WebKit</code>的分支）]</li></ul><h3 id="6-html5有哪些新特性、移除了那些元素？"><a href="#6-html5有哪些新特性、移除了那些元素？" class="headerlink" title="6 html5有哪些新特性、移除了那些元素？"></a>6 html5有哪些新特性、移除了那些元素？</h3><ul><li><code>HTML5</code> 现在已经不是 <code>SGML</code> 的子集，主要是关于图像，位置，存储，多任务等功能的增加<ul><li>  新增选择器 <code>document.querySelector</code>、<code>document.querySelectorAll</code></li><li>  拖拽释放(<code>Drag and drop</code>) API</li><li>  媒体播放的 <code>video</code> 和 <code>audio</code></li><li>  本地存储 <code>localStorage</code> 和 <code>sessionStorage</code></li><li>  离线应用 <code>manifest</code></li><li>  桌面通知 <code>Notifications</code></li><li>  语意化标签 <code>article</code>、<code>footer</code>、<code>header</code>、<code>nav</code>、<code>section</code></li><li>  增强表单控件 <code>calendar</code>、<code>date</code>、<code>time</code>、<code>email</code>、<code>url</code>、<code>search</code></li><li>  地理位置 <code>Geolocation</code></li><li>  多任务 <code>webworker</code></li><li>  全双工通信协议 <code>websocket</code></li><li>  历史管理 <code>history</code></li><li>  跨域资源共享(CORS) <code>Access-Control-Allow-Origin</code></li><li>  页面可见性改变事件 <code>visibilitychange</code></li><li>  跨窗口通信 <code>PostMessage</code></li><li>  <code>Form Data</code> 对象</li><li>  绘画 <code>canvas</code></li></ul></li><li>移除的元素：<ul><li>  纯表现的元素：<code>basefont</code>、<code>big</code>、<code>center</code>、<code>font</code>、 <code>s</code>、<code>strike</code>、<code>tt</code>、<code>u</code></li><li>  对可用性产生负面影响的元素：<code>frame</code>、<code>frameset</code>、<code>noframes</code></li></ul></li><li>支持<code>HTML5</code>新标签：<ul><li>  <code>IE8/IE7/IE6</code>支持通过<code>document.createElement</code>方法产生的标签</li><li>  可以利用这一特性让这些浏览器支持<code>HTML5</code>新标签</li><li>  浏览器支持新标签后，还需要添加标签默认的样式</li></ul></li><li>  当然也可以直接使用成熟的框架、比如<code>html5shim</code></li></ul><p><strong>如何区分 HTML 和 HTML5</strong></p><ul><li>  <code>DOCTYPE</code>声明、新增的结构元素、功能元素</li></ul><h3 id="7-HTML5的离线储存怎么使用，工作原理能不能解释一下？"><a href="#7-HTML5的离线储存怎么使用，工作原理能不能解释一下？" class="headerlink" title="7 HTML5的离线储存怎么使用，工作原理能不能解释一下？"></a>7 <code>HTML5</code>的离线储存怎么使用，工作原理能不能解释一下？</h3><ul><li>在用户没有与因特网连接时，可以正常访问站点或应用，在用户与因特网连接时，更新用户机器上的缓存文件</li><li>原理：<code>HTML5</code>的离线存储是基于一个新建的<code>.appcache</code>文件的缓存机制(不是存储技术)，通过这个文件上的解析清单离线存储资源，这些资源就会像<code>cookie</code>一样被存储了下来。之后当网络在处于离线状态下时，浏览器会通过被离线存储的数据进行页面展示</li><li>如何使用：<ul><li>  页面头部像下面一样加入一个<code>manifest</code>的属性；</li><li>  在<code>cache.manifest</code>文件的编写离线存储的资源</li><li>  在离线状态时，操作<code>window.applicationCache</code>进行需求实现</li></ul></li></ul><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">CACHE MANIFEST</span><br><span class="line">#v0.11</span><br><span class="line">CACHE:</span><br><span class="line">js/app.js</span><br><span class="line">css/style.css</span><br><span class="line">NETWORK:</span><br><span class="line">resourse/logo.png</span><br><span class="line">FALLBACK:</span><br><span class="line">/offline.html</span><br></pre></td></tr></table></figure><h3 id="8-浏览器是怎么对HTML5的离线储存资源进行管理和加载的呢"><a href="#8-浏览器是怎么对HTML5的离线储存资源进行管理和加载的呢" class="headerlink" title="8 浏览器是怎么对HTML5的离线储存资源进行管理和加载的呢"></a>8 浏览器是怎么对<code>HTML5</code>的离线储存资源进行管理和加载的呢</h3><ul><li>在线的情况下，浏览器发现<code>html</code>头部有<code>manifest</code>属性，它会请求<code>manifest</code>文件，如果是第一次访问<code>app</code>，那么浏览器就会根据manifest文件的内容下载相应的资源并且进行离线存储。如果已经访问过<code>app</code>并且资源已经离线存储了，那么浏览器就会使用离线的资源加载页面，然后浏览器会对比新的<code>manifest</code>文件与旧的<code>manifest</code>文件，如果文件没有发生改变，就不做任何操作，如果文件改变了，那么就会重新下载文件中的资源并进行离线存储。</li><li>  离线的情况下，浏览器就直接使用离线存储的资源。</li></ul><h3 id="9-请描述一下-cookies，sessionStorage-和-localStorage-的区别？"><a href="#9-请描述一下-cookies，sessionStorage-和-localStorage-的区别？" class="headerlink" title="9 请描述一下 cookies，sessionStorage 和 localStorage 的区别？"></a>9 请描述一下 <code>cookies</code>，<code>sessionStorage</code> 和 <code>localStorage</code> 的区别？</h3><ul><li><code>cookie</code>是网站为了标示用户身份而储存在用户本地终端（Client Side）上的数据（通常经过加密）</li><li>cookie数据始终在同源的http请求中携带（即使不需要），记会在浏览器和服务器间来回传递</li><li><code>sessionStorage</code>和<code>localStorage</code>不会自动把数据发给服务器，仅在本地保存</li><li>存储大小：<ul><li>  <code>cookie</code>数据大小不能超过4k</li><li>  <code>sessionStorage</code>和<code>localStorage</code>虽然也有存储大小的限制，但比<code>cookie</code>大得多，可以达到5M或更大</li></ul></li><li>有期时间：<ul><li>  <code>localStorage</code> 存储持久数据，浏览器关闭后数据不丢失除非主动删除数据</li><li>  <code>sessionStorage</code> 数据在当前浏览器窗口关闭后自动删除</li><li>  <code>cookie</code> 设置的<code>cookie</code>过期时间之前一直有效，即使窗口或浏览器关闭</li></ul></li></ul><h3 id="10-iframe有那些缺点？"><a href="#10-iframe有那些缺点？" class="headerlink" title="10 iframe有那些缺点？"></a>10 iframe有那些缺点？</h3><ul><li>  <code>iframe</code>会阻塞主页面的<code>Onload</code>事件</li><li>  搜索引擎的检索程序无法解读这种页面，不利于<code>SEO</code></li><li>  <code>iframe</code>和主页面共享连接池，而浏览器对相同域的连接有限制，所以会影响页面的并行加载</li><li>  使用<code>iframe</code>之前需要考虑这两个缺点。如果需要使用<code>iframe</code>，最好是通过<code>javascript</code>动态给<code>iframe</code>添加<code>src</code>属性值，这样可以绕开以上两个问题</li></ul><h3 id="11-xhtml和html有什么区别"><a href="#11-xhtml和html有什么区别" class="headerlink" title="11 xhtml和html有什么区别?"></a>11 xhtml和html有什么区别?</h3><ul><li>一个是功能上的差别<ul><li>  主要是<code>XHTML</code>可兼容各大浏览器、手机以及<code>PDA</code>，并且浏览器也能快速正确地编译网页</li></ul></li><li>另外是书写习惯的差别<ul><li>  <code>XHTML</code> 元素必须被正确地嵌套，闭合，区分大小写，文档必须拥有根元素</li></ul></li></ul><h3 id="12-Canvas和SVG有什么区别？"><a href="#12-Canvas和SVG有什么区别？" class="headerlink" title="12 Canvas和SVG有什么区别？"></a>12 Canvas和SVG有什么区别？</h3><ul><li>  <code>svg</code>绘制出来的每一个图形的元素都是独立的<code>DOM</code>节点，能够方便的绑定事件或用来修改。<code>canvas</code>输出的是一整幅画布</li><li>  <code>svg</code>输出的图形是矢量图形，后期可以修改参数来自由放大缩小，不会失真和锯齿。而<code>canvas</code>输出标量画布，就像一张图片一样，放大会失真或者锯齿</li></ul><h3 id="13-viewport"><a href="#13-viewport" class="headerlink" title="13 viewport"></a>13 viewport</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;viewport&quot;</span> <span class="attr">content</span>=<span class="string">&quot;width=device-width,initial-scale=1.0,minimum-scale=1.0,maximum-scale=1.0,user-scalable=no&quot;</span> /&gt;</span></span><br><span class="line">   // width    设置viewport宽度，为一个正整数，或字符串‘device-width’</span><br><span class="line">   // device-width  设备宽度</span><br><span class="line">   // height   设置viewport高度，一般设置了宽度，会自动解析出高度，可以不用设置</span><br><span class="line">   // initial-scale    默认缩放比例（初始缩放比例），为一个数字，可以带小数</span><br><span class="line">   // minimum-scale    允许用户最小缩放比例，为一个数字，可以带小数</span><br><span class="line">   // maximum-scale    允许用户最大缩放比例，为一个数字，可以带小数</span><br><span class="line">   // user-scalable    是否允许手动缩放</span><br><span class="line"></span><br></pre></td></tr></table></figure><ul><li>延伸提问<ul><li>  怎样处理 移动端 <code>1px</code> 被 渲染成 <code>2px</code>问题</li></ul></li></ul><p><strong>局部处理</strong></p><ul><li>  <code>meta</code>标签中的 <code>viewport</code>属性 ，<code>initial-scale</code> 设置为 <code>1</code></li><li>  <code>rem</code>按照设计稿标准走，外加利用<code>transfrome</code> 的<code>scale(0.5)</code> 缩小一倍即可；</li></ul><p><strong>全局处理</strong></p><ul><li>  <code>mate</code>标签中的 <code>viewport</code>属性 ，<code>initial-scale</code> 设置为 <code>0.5</code></li><li>  <code>rem</code> 按照设计稿标准走即可</li></ul><h3 id="14-渲染优化"><a href="#14-渲染优化" class="headerlink" title="14 渲染优化"></a>14 渲染优化</h3><ul><li>禁止使用<code>iframe</code>（阻塞父文档<code>onload</code>事件）<ul><li>  <code>iframe</code>会阻塞主页面的<code>Onload</code>事件</li><li>  搜索引擎的检索程序无法解读这种页面，不利于SEO</li><li>  <code>iframe</code>和主页面共享连接池，而浏览器对相同域的连接有限制，所以会影响页面的并行加载</li><li>  使用<code>iframe</code>之前需要考虑这两个缺点。如果需要使用<code>iframe</code>，最好是通过<code>javascript</code></li><li>  动态给<code>iframe</code>添加<code>src</code>属性值，这样可以绕开以上两个问题</li></ul></li><li>禁止使用<code>gif</code>图片实现<code>loading</code>效果（降低<code>CPU</code>消耗，提升渲染性能）</li><li>使用<code>CSS3</code>代码代替<code>JS</code>动画（尽可能避免重绘重排以及回流）</li><li>对于一些小图标，可以使用base64位编码，以减少网络请求。但不建议大图使用，比较耗费<code>CPU</code><ul><li>小图标优势在于<ul><li>  减少<code>HTTP</code>请求</li><li>  避免文件跨域</li><li>  修改及时生效</li></ul></li></ul></li><li>页面头部的<code>&lt;style&gt;&lt;/style&gt;</code> <code>&lt;script&gt;&lt;/script&gt;</code> 会阻塞页面；（因为 <code>Renderer</code>进程中 <code>JS</code>线程和渲染线程是互斥的）</li><li>页面中空的 <code>href</code> 和 <code>src</code> 会阻塞页面其他资源的加载 (阻塞下载进程)</li><li>网页<code>gzip</code>，<code>CDN</code>托管，<code>data</code>缓存 ，图片服务器</li><li>前端模板 JS+数据，减少由于<code>HTML</code>标签导致的带宽浪费，前端用变量保存AJAX请求结果，每次操作本地变量，不用请求，减少请求次数</li><li>用<code>innerHTML</code>代替<code>DOM</code>操作，减少<code>DOM</code>操作次数，优化<code>javascript</code>性能</li><li>当需要设置的样式很多时设置<code>className</code>而不是直接操作<code>style</code></li><li>少用全局变量、缓存<code>DOM</code>节点查找的结果。减少<code>IO</code>读取操作</li><li>图片预加载，将样式表放在顶部，将脚本放在底部 加上时间戳</li><li>  对普通的网站有一个统一的思路，就是尽量向前端优化、减少数据库操作、减少磁盘<code>IO</code></li></ul><h3 id="15-meta-viewport相关"><a href="#15-meta-viewport相关" class="headerlink" title="15 meta viewport相关"></a>15 meta viewport相关</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span>  <span class="comment">&lt;!--H5标准声明，使用 HTML5 doctype，不区分大小写--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span> <span class="attr">lang</span>=<span class="string">”en”</span>&gt;</span> <span class="comment">&lt;!--标准的 lang 属性写法--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">’utf-8′</span>&gt;</span>    <span class="comment">&lt;!--声明文档使用的字符编码--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">”X-UA-Compatible”</span> <span class="attr">content</span>=<span class="string">”IE</span>=<span class="string">edge,chrome</span>=<span class="string">1″/</span>&gt;</span>   <span class="comment">&lt;!--优先使用 IE 最新版本和 Chrome--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">”description”</span> <span class="attr">content</span>=<span class="string">”不超过150个字符”/</span>&gt;</span>       <span class="comment">&lt;!--页面描述--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">”keywords”</span> <span class="attr">content</span>=<span class="string">””/</span>&gt;</span>     <span class="comment">&lt;!-- 页面关键词--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">”author”</span> <span class="attr">content</span>=<span class="string">”name,</span> <span class="attr">email</span>@<span class="attr">gmail.com</span>”/&gt;</span>    <span class="comment">&lt;!--网页作者--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">”robots”</span> <span class="attr">content</span>=<span class="string">”index,follow”/</span>&gt;</span>      <span class="comment">&lt;!--搜索引擎抓取--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">”viewport”</span> <span class="attr">content</span>=<span class="string">”initial-scale</span>=<span class="string">1,</span> <span class="attr">maximum-scale</span>=<span class="string">3,</span> <span class="attr">minimum-scale</span>=<span class="string">1,</span> <span class="attr">user-scalable</span>=<span class="string">no”</span>&gt;</span> <span class="comment">&lt;!--为移动设备添加 viewport--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">”apple-mobile-web-app-title”</span> <span class="attr">content</span>=<span class="string">”标题”</span>&gt;</span> <span class="comment">&lt;!--iOS 设备 begin--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">”apple-mobile-web-app-capable”</span> <span class="attr">content</span>=<span class="string">”yes”/</span>&gt;</span>  <span class="comment">&lt;!--添加到主屏后的标题（iOS 6 新增）</span></span><br><span class="line"><span class="comment">是否启用 WebApp 全屏模式，删除苹果默认的工具栏和菜单栏--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">”apple-itunes-app”</span> <span class="attr">content</span>=<span class="string">”app-id</span>=<span class="string">myAppStoreID,</span> <span class="attr">affiliate-data</span>=<span class="string">myAffiliateData,</span> <span class="attr">app-argument</span>=<span class="string">myURL”</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!--添加智能 App 广告条 Smart App Banner（iOS 6+ Safari）--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">”apple-mobile-web-app-status-bar-style”</span> <span class="attr">content</span>=<span class="string">”black”/</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">”format-detection”</span> <span class="attr">content</span>=<span class="string">”telphone</span>=<span class="string">no,</span> <span class="attr">email</span>=<span class="string">no”/</span>&gt;</span>  <span class="comment">&lt;!--设置苹果工具栏颜色--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">”renderer”</span> <span class="attr">content</span>=<span class="string">”webkit”</span>&gt;</span> <span class="comment">&lt;!-- 启用360浏览器的极速模式(webkit)--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">”X-UA-Compatible”</span> <span class="attr">content</span>=<span class="string">”IE</span>=<span class="string">edge”</span>&gt;</span>     <span class="comment">&lt;!--避免IE使用兼容模式--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">”Cache-Control”</span> <span class="attr">content</span>=<span class="string">”no-siteapp”</span> /&gt;</span>    <span class="comment">&lt;!--不让百度转码--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">”HandheldFriendly”</span> <span class="attr">content</span>=<span class="string">”true”</span>&gt;</span>     <span class="comment">&lt;!--针对手持设备优化，主要是针对一些老的不识别viewport的浏览器，比如黑莓--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">”MobileOptimized”</span> <span class="attr">content</span>=<span class="string">”320″</span>&gt;</span>   <span class="comment">&lt;!--微软的老式浏览器--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">”screen-orientation”</span> <span class="attr">content</span>=<span class="string">”portrait”</span>&gt;</span>   <span class="comment">&lt;!--uc强制竖屏--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">”x5-orientation”</span> <span class="attr">content</span>=<span class="string">”portrait”</span>&gt;</span>    <span class="comment">&lt;!--QQ强制竖屏--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">”full-screen”</span> <span class="attr">content</span>=<span class="string">”yes”</span>&gt;</span>              <span class="comment">&lt;!--UC强制全屏--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">”x5-fullscreen”</span> <span class="attr">content</span>=<span class="string">”true”</span>&gt;</span>       <span class="comment">&lt;!--QQ强制全屏--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">”browsermode”</span> <span class="attr">content</span>=<span class="string">”application”</span>&gt;</span>   <span class="comment">&lt;!--UC应用模式--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">”x5-page-mode”</span> <span class="attr">content</span>=<span class="string">”app”</span>&gt;</span>   <span class="comment">&lt;!-- QQ应用模式--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">”msapplication-tap-highlight”</span> <span class="attr">content</span>=<span class="string">”no”</span>&gt;</span>    <span class="comment">&lt;!--windows phone 点击无高亮</span></span><br><span class="line"><span class="comment">设置页面不缓存--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">”pragma”</span> <span class="attr">content</span>=<span class="string">”no-cache”</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">”cache-control”</span> <span class="attr">content</span>=<span class="string">”no-cache”</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">”expires”</span> <span class="attr">content</span>=<span class="string">”0″</span>&gt;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="16-你做的页面在哪些流览器测试过？这些浏览器的内核分别是什么"><a href="#16-你做的页面在哪些流览器测试过？这些浏览器的内核分别是什么" class="headerlink" title="16 你做的页面在哪些流览器测试过？这些浏览器的内核分别是什么?"></a>16 你做的页面在哪些流览器测试过？这些浏览器的内核分别是什么?</h3><ul><li>  <code>IE</code>: <code>trident</code>内核</li><li>  <code>Firefox</code>：<code>gecko</code>内核</li><li>  <code>Safari</code>:<code>webkit</code>内核</li><li>  <code>Opera</code>:以前是<code>presto</code>内核，<code>Opera</code>现已改用Google - <code>Chrome</code>的<code>Blink</code>内核</li><li>  <code>Chrome:Blink</code>(基于<code>webkit</code>，Google与Opera Software共同开发)</li></ul><h3 id="17-div-css的布局较table布局有什么优点？"><a href="#17-div-css的布局较table布局有什么优点？" class="headerlink" title="17 div+css的布局较table布局有什么优点？"></a>17 div+css的布局较table布局有什么优点？</h3><ul><li>  改版的时候更方便 只要改<code>css</code>文件。</li><li>  页面加载速度更快、结构化清晰、页面显示简洁。</li><li>  表现与结构相分离。</li><li>  易于优化（<code>seo</code>）搜索引擎更友好，排名更容易靠前。</li></ul><h3 id="18-你能描述一下渐进增强和优雅降级之间的不同吗"><a href="#18-你能描述一下渐进增强和优雅降级之间的不同吗" class="headerlink" title="18 你能描述一下渐进增强和优雅降级之间的不同吗"></a>18 你能描述一下渐进增强和优雅降级之间的不同吗</h3><ul><li>  渐进增强：针对低版本浏览器进行构建页面，保证最基本的功能，然后再针对高级浏览器进行效果、交互等改进和追加功能达到更好的用户体验。</li><li>  优雅降级：一开始就构建完整的功能，然后再针对低版本浏览器进行兼容。</li></ul><blockquote><p>区别：优雅降级是从复杂的现状开始，并试图减少用户体验的供给，而渐进增强则是从一个非常基础的，能够起作用的版本开始，并不断扩充，以适应未来环境的需要。降级（功能衰减）意味着往回看；而渐进增强则意味着朝前看，同时保证其根基处于安全地带</p></blockquote><h3 id="19-为什么利用多个域名来存储网站资源会更有效？"><a href="#19-为什么利用多个域名来存储网站资源会更有效？" class="headerlink" title="19 为什么利用多个域名来存储网站资源会更有效？"></a>19 为什么利用多个域名来存储网站资源会更有效？</h3><ul><li>  <code>CDN</code>缓存更方便</li><li>  突破浏览器并发限制</li><li>  节约<code>cookie</code>带宽</li><li>  节约主域名的连接数，优化页面响应速度</li><li>  防止不必要的安全问题</li></ul><h3 id="20-简述一下src与href的区别"><a href="#20-简述一下src与href的区别" class="headerlink" title="20 简述一下src与href的区别"></a>20 简述一下src与href的区别</h3><ul><li>  <code>src</code>用于替换当前元素，href用于在当前文档和引用资源之间确立联系。</li><li>  <code>src</code>是<code>source</code>的缩写，指向外部资源的位置，指向的内容将会嵌入到文档中当前标签所在位置；在请求<code>src</code>资源时会将其指向的资源下载并应用到文档内，例如<code>js</code>脚本，<code>img</code>图片和<code>frame</code>等元素</li></ul><blockquote><p><code>&lt;script src =&quot;js.js&quot;&gt;&lt;/script&gt;</code> 当浏览器解析到该元素时，会暂停其他资源的下载和处理，直到将该资源加载、编译、执行完毕，图片和框架等元素也如此，类似于将所指向资源嵌入当前标签内。这也是为什么将js脚本放在底部而不是头部</p></blockquote><ul><li>  <code>href</code>是<code>Hypertext Reference</code>的缩写，指向网络资源所在位置，建立和当前元素（锚点）或当前文档（链接）之间的链接，如果我们在文档中添加</li><li>  <code>&lt;link href=&quot;common.css&quot; rel=&quot;stylesheet&quot;/&gt;</code>那么浏览器会识别该文档为<code>css</code>文件，就会并行下载资源并且不会停止对当前文档的处理。这也是为什么建议使用<code>link</code>方式来加载<code>css</code>，而不是使用<code>@import</code>方式</li></ul><h3 id="21-知道的网页制作会用到的图片格式有哪些？"><a href="#21-知道的网页制作会用到的图片格式有哪些？" class="headerlink" title="21 知道的网页制作会用到的图片格式有哪些？"></a>21 知道的网页制作会用到的图片格式有哪些？</h3><ul><li>  <code>png-8</code>、<code>png-24</code>、<code>jpeg</code>、<code>gif</code>、<code>svg</code></li></ul><blockquote><p>但是上面的那些都不是面试官想要的最后答案。面试官希望听到是<code>Webp</code>,<code>Apng</code>。（是否有关注新技术，新鲜事物）</p></blockquote><ul><li>  <strong>Webp</strong>：<code>WebP</code>格式，谷歌（google）开发的一种旨在加快图片加载速度的图片格式。图片压缩体积大约只有<code>JPEG</code>的<code>2/3</code>，并能节省大量的服务器带宽资源和数据空间。<code>Facebook Ebay</code>等知名网站已经开始测试并使用<code>WebP</code>格式。</li><li>  在质量相同的情况下，WebP格式图像的体积要比JPEG格式图像小<code>40%</code>。</li><li>  <strong>Apng</strong>：全称是<code>“Animated Portable Network Graphics”</code>, 是PNG的位图动画扩展，可以实现png格式的动态图片效果。04年诞生，但一直得不到各大浏览器厂商的支持，直到日前得到 <code>iOS safari 8</code>的支持，有望代替<code>GIF</code>成为下一代动态图标准</li></ul><h3 id="22-在css-js代码上线之后开发人员经常会优化性能，从用户刷新网页开始，一次js请求一般情况下有哪些地方会有缓存处理？"><a href="#22-在css-js代码上线之后开发人员经常会优化性能，从用户刷新网页开始，一次js请求一般情况下有哪些地方会有缓存处理？" class="headerlink" title="22 在css/js代码上线之后开发人员经常会优化性能，从用户刷新网页开始，一次js请求一般情况下有哪些地方会有缓存处理？"></a>22 在css/js代码上线之后开发人员经常会优化性能，从用户刷新网页开始，一次js请求一般情况下有哪些地方会有缓存处理？</h3><blockquote><p><code>dns</code>缓存，<code>cdn</code>缓存，浏览器缓存，服务器缓存</p></blockquote><h3 id="23-一个页面上有大量的图片（大型电商网站），加载很慢，你有哪些方法优化这些图片的加载，给用户更好的体验。"><a href="#23-一个页面上有大量的图片（大型电商网站），加载很慢，你有哪些方法优化这些图片的加载，给用户更好的体验。" class="headerlink" title="23 一个页面上有大量的图片（大型电商网站），加载很慢，你有哪些方法优化这些图片的加载，给用户更好的体验。"></a>23 一个页面上有大量的图片（大型电商网站），加载很慢，你有哪些方法优化这些图片的加载，给用户更好的体验。</h3><ul><li>  图片懒加载，在页面上的未可视区域可以添加一个滚动事件，判断图片位置与浏览器顶端的距离与页面的距离，如果前者小于后者，优先加载。</li><li>  如果为幻灯片、相册等，可以使用图片预加载技术，将当前展示图片的前一张和后一张优先下载。</li><li>  如果图片为css图片，可以使用<code>CSSsprite</code>，<code>SVGsprite</code>，<code>Iconfont</code>、<code>Base64</code>等技术。</li><li>  如果图片过大，可以使用特殊编码的图片，加载时会先加载一张压缩的特别厉害的缩略图，以提高用户体验。</li><li>  如果图片展示区域小于图片的真实大小，则因在服务器端根据业务需要先行进行图片压缩，图片压缩后大小与展示一致。</li></ul><h3 id="24-请你谈谈Cookie的弊端"><a href="#24-请你谈谈Cookie的弊端" class="headerlink" title="24 请你谈谈Cookie的弊端"></a>24 请你谈谈Cookie的弊端</h3><blockquote><p><code>cookie</code>虽然在持久保存客户端数据提供了方便，分担了服务器存储的负担，但还是有很多局限性的</p></blockquote><ul><li>  每个特定的域名下最多生成<code>20</code>个<code>cookie</code></li><li>  <code>IE6</code>或更低版本最多<code>20</code>个<code>cookie</code></li><li>  <code>IE7</code>和之后的版本最后可以有<code>50</code>个<code>cookie</code></li><li>  <code>Firefox</code>最多50个<code>cookie</code></li><li>  <code>chrome</code>和<code>Safari</code>没有做硬性限制</li><li>  IE 和 Opera 会清理近期最少使用的 <code>cookie</code>，<code>Firefox</code> 会随机清理 <code>cookie</code></li><li>  <code>cookie</code> 的最大大约为 <code>4096</code> 字节，为了兼容性，一般设置不超过 <code>4095</code> 字节</li><li>  如果 <code>cookie</code> 被人拦截了，就可以取得所有的 <code>session</code> 信息</li></ul><h3 id="25-git-fetch和git-pull的区别"><a href="#25-git-fetch和git-pull的区别" class="headerlink" title="25 git fetch和git pull的区别"></a>25 git fetch和git pull的区别</h3><ul><li>  <code>git pull</code>：相当于是从远程获取最新版本并<code>merge</code>到本地</li><li>  <code>git fetch</code>：相当于是从远程获取最新版本到本地，不会自动<code>merge</code></li></ul>]]></content>
      
      
      <categories>
          
          <category> 前端 </category>
          
          <category> 基础 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 前端 </tag>
            
            <tag> 基础 </tag>
            
            <tag> HTML、HTTP </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>tp学习笔记</title>
      <link href="ckqxqe4nq002xbwwfal515zmy/"/>
      <url>ckqxqe4nq002xbwwfal515zmy/</url>
      
        <content type="html"><![CDATA[<p>这是对于tp的学习笔记及分享，会一直更新，保持学习的进步</p><a id="more"></a><h2 id="tp5"><a href="#tp5" class="headerlink" title="tp5"></a>tp5</h2><h2 id="tp6"><a href="#tp6" class="headerlink" title="tp6"></a>tp6</h2><h3 id="index方法"><a href="#index方法" class="headerlink" title="index方法"></a>index方法</h3><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> (Request::isPost()) &#123;</span><br><span class="line">           $keys = <span class="keyword">$this</span>-&gt;request-&gt;post(<span class="string">&#x27;keys&#x27;</span>, <span class="string">&#x27;&#x27;</span>, <span class="string">&#x27;trim&#x27;</span>);</span><br><span class="line"></span><br><span class="line">           $where = [];</span><br><span class="line">           <span class="keyword">if</span> ($keys != <span class="string">&#x27;&#x27;</span>) &#123;</span><br><span class="line">               $where[] = [<span class="string">&#x27;title&#x27;</span>, <span class="string">&#x27;like&#x27;</span>, <span class="string">&#x27;%&#x27;</span> . $keys . <span class="string">&#x27;%&#x27;</span>];</span><br><span class="line">           &#125;</span><br><span class="line"></span><br><span class="line">           $page = <span class="keyword">$this</span>-&gt;request-&gt;post(<span class="string">&#x27;page&#x27;</span>);</span><br><span class="line">           $limit = <span class="keyword">$this</span>-&gt;request-&gt;post(<span class="string">&#x27;limit&#x27;</span>);</span><br><span class="line">           $tol = ($page - <span class="number">1</span>) * $limit;</span><br><span class="line"></span><br><span class="line">           $banner = BannerModel::where($where)-&gt;limit($tol, $limit)-&gt;select();</span><br><span class="line">           $count = BannerModel::where($where)-&gt;count();</span><br><span class="line">           <span class="keyword">if</span> (!$banner) <span class="built_in">error</span>();</span><br><span class="line">           success($banner, $count);</span><br><span class="line">       &#125;</span><br><span class="line">       <span class="keyword">return</span> view();</span><br></pre></td></tr></table></figure><h3 id="封装上传方法"><a href="#封装上传方法" class="headerlink" title="封装上传方法"></a>封装上传方法</h3><blockquote><p>一、打开项目在config文件夹下创建upload.php配置文件用来管理文件上传的后缀和大小</p></blockquote><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="keyword">return</span> [</span><br><span class="line">    <span class="comment">//定义允许上传文件后缀的数组</span></span><br><span class="line">    <span class="string">&#x27;suffix_arr&#x27;</span>    =&gt;  [</span><br><span class="line">        <span class="comment">//允许图片上传的后缀</span></span><br><span class="line">        <span class="string">&#x27;image&#x27;</span>     =&gt;  <span class="string">&#x27;jpg,jpeg,png,gif&#x27;</span>,</span><br><span class="line">        <span class="comment">//允许上传文件的后缀</span></span><br><span class="line">        <span class="string">&#x27;file&#x27;</span>      =&gt;  <span class="string">&#x27;zip,gz,doc,txt,pdf,xls&#x27;</span>,</span><br><span class="line">        <span class="comment">//...</span></span><br><span class="line">    ],</span><br><span class="line">    <span class="comment">//定义允许上传文件大小的数组</span></span><br><span class="line">    <span class="string">&#x27;size_arr&#x27;</span>      =&gt;  [</span><br><span class="line">        <span class="comment">//允许图片上传的大小</span></span><br><span class="line">        <span class="string">&#x27;image&#x27;</span>     =&gt;  <span class="number">10</span>,</span><br><span class="line">        <span class="comment">//允许文件上传的大小</span></span><br><span class="line">        <span class="string">&#x27;file&#x27;</span>      =&gt;  <span class="number">50</span></span><br><span class="line">    ],</span><br><span class="line">];</span><br></pre></td></tr></table></figure><blockquote><p>二、修改config\filesystem.php配置文件配置上传根目录及上传规则</p></blockquote><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> [</span><br><span class="line">    <span class="comment">// 默认磁盘</span></span><br><span class="line">    <span class="string">&#x27;default&#x27;</span> =&gt; <span class="string">&#x27;local&#x27;</span>,</span><br><span class="line">    <span class="comment">// 磁盘列表</span></span><br><span class="line">    <span class="string">&#x27;disks&#x27;</span>   =&gt; [</span><br><span class="line">        <span class="string">&#x27;local&#x27;</span>  =&gt; [</span><br><span class="line">            <span class="string">&#x27;type&#x27;</span> =&gt; <span class="string">&#x27;local&#x27;</span>,</span><br><span class="line">            <span class="string">&#x27;root&#x27;</span> =&gt; app()-&gt;getRuntimePath() . <span class="string">&#x27;storage&#x27;</span>,</span><br><span class="line">        ],</span><br><span class="line">        <span class="string">&#x27;public&#x27;</span> =&gt; [</span><br><span class="line">            <span class="comment">// 磁盘类型</span></span><br><span class="line">            <span class="string">&#x27;type&#x27;</span>       =&gt; <span class="string">&#x27;local&#x27;</span>,</span><br><span class="line">            <span class="comment">// 磁盘路径</span></span><br><span class="line">            <span class="string">&#x27;root&#x27;</span>       =&gt; app()-&gt;getRootPath() . <span class="string">&#x27;public/storage&#x27;</span>,</span><br><span class="line">            <span class="comment">// 磁盘路径对应的外部URL路径</span></span><br><span class="line">            <span class="string">&#x27;url&#x27;</span>        =&gt; <span class="string">&#x27;/storage&#x27;</span>,</span><br><span class="line">            <span class="comment">// 可见性</span></span><br><span class="line">            <span class="string">&#x27;visibility&#x27;</span> =&gt; <span class="string">&#x27;public&#x27;</span>,</span><br><span class="line">        ],</span><br><span class="line">        <span class="comment">// 更多的磁盘配置信息</span></span><br><span class="line">        <span class="string">&#x27;excel&#x27;</span> =&gt; [</span><br><span class="line">            <span class="comment">// 磁盘类型</span></span><br><span class="line">            <span class="string">&#x27;type&#x27;</span>       =&gt; <span class="string">&#x27;local&#x27;</span>,</span><br><span class="line">            <span class="comment">// 磁盘路径</span></span><br><span class="line">            <span class="string">&#x27;root&#x27;</span>       =&gt; app()-&gt;getRootPath() . <span class="string">&#x27;public&#x27;</span>,</span><br><span class="line">            <span class="comment">// 磁盘路径对应的外部URL路径</span></span><br><span class="line">            <span class="string">&#x27;url&#x27;</span>        =&gt; <span class="string">&#x27;/excel&#x27;</span>,</span><br><span class="line">            <span class="comment">// 可见性</span></span><br><span class="line">            <span class="string">&#x27;visibility&#x27;</span> =&gt; <span class="string">&#x27;public&#x27;</span>,</span><br><span class="line">        ],</span><br><span class="line">    ],</span><br><span class="line">];</span><br></pre></td></tr></table></figure><blockquote><p>在app\controller目录下创建Upload.php类并编写upload()文件上传方法，如果是这样加个post请求判断</p><p>放在common方法里的话，可以直接调用</p></blockquote><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 上传方法</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> $file</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> string $name</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> string $type</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span> bool|\think\response\Json</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * User: mi</span></span><br><span class="line"><span class="comment">     * Date: 2020-09-14</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">upload</span>(<span class="params">$file, $name = <span class="string">&#x27;file&#x27;</span>, $type = <span class="string">&#x27;file&#x27;</span></span>)</span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="comment">//接收文件上传类型</span></span><br><span class="line"><span class="comment">//        $type = request()-&gt;param(&#x27;type&#x27;, &#x27;&#x27;, &#x27;trim&#x27;);</span></span><br><span class="line"><span class="comment">//        $name = request()-&gt;param(&#x27;name&#x27;, &#x27;&#x27;, &#x27;trim&#x27;);</span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">//        //获取表单上传文件</span></span><br><span class="line"><span class="comment">//        $file = request()-&gt;file(&#x27;file&#x27;);</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">//组装文件保存目录</span></span><br><span class="line">        $upload_dir = <span class="string">&#x27;/&#x27;</span> . $type . <span class="string">&#x27;/&#x27;</span> . $name;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            <span class="comment">//从config/upload.php配置文件中读取允许上传的文件后缀和大小</span></span><br><span class="line">            $suffix_config = config(<span class="string">&#x27;upload.suffix_arr&#x27;</span>);</span><br><span class="line">            $size_config = config(<span class="string">&#x27;upload.size_arr&#x27;</span>);</span><br><span class="line"></span><br><span class="line">            <span class="keyword">if</span> (<span class="keyword">empty</span>($size_config[$type]) || <span class="keyword">empty</span>($size_config[$type])) &#123;</span><br><span class="line"></span><br><span class="line">                <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line"></span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line"></span><br><span class="line">                $suffix = $suffix_config[$type];</span><br><span class="line"></span><br><span class="line">                $size = $size_config[$type];</span><br><span class="line"></span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="comment">//验证器验证上传的文件</span></span><br><span class="line">            validate([<span class="string">&#x27;file&#x27;</span> =&gt; [</span><br><span class="line"></span><br><span class="line">                <span class="comment">//限制文件大小</span></span><br><span class="line">                <span class="string">&#x27;fileSize&#x27;</span> =&gt; $size * <span class="number">1024</span> * <span class="number">1024</span>,</span><br><span class="line"></span><br><span class="line">                <span class="comment">//限制文件后缀</span></span><br><span class="line"></span><br><span class="line">                <span class="string">&#x27;fileExt&#x27;</span> =&gt; $suffix</span><br><span class="line"></span><br><span class="line">            ]], [</span><br><span class="line"></span><br><span class="line">                <span class="string">&#x27;file.fileSize&#x27;</span> =&gt; <span class="string">&#x27;上传的文件大小不能超过&#x27;</span> . $size . <span class="string">&#x27;M&#x27;</span>,</span><br><span class="line"></span><br><span class="line">                <span class="string">&#x27;file.fileExt&#x27;</span> =&gt; <span class="string">&#x27;请上传后缀为:&#x27;</span> . $suffix . <span class="string">&#x27;的文件&#x27;</span></span><br><span class="line"></span><br><span class="line">            ])-&gt;check([<span class="string">&#x27;file&#x27;</span> =&gt; $file]);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">            <span class="comment">//上传文件到本地服务器</span></span><br><span class="line"></span><br><span class="line">            $filename = \think\facade\Filesystem::disk(<span class="string">&#x27;public&#x27;</span>)-&gt;putFile($upload_dir, $file);</span><br><span class="line"></span><br><span class="line">            <span class="keyword">if</span> ($filename) &#123;</span><br><span class="line"></span><br><span class="line">                $src = <span class="string">&#x27;/storage/&#x27;</span> . $filename;</span><br><span class="line"><span class="comment">//                return json([&#x27;code&#x27; =&gt; 1, &#x27;result&#x27; =&gt; $src]);</span></span><br><span class="line">                <span class="keyword">return</span> $src;</span><br><span class="line"></span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line"></span><br><span class="line">                <span class="keyword">return</span> json([<span class="string">&#x27;code&#x27;</span> =&gt; <span class="number">0</span>, <span class="string">&#x27;msg&#x27;</span> =&gt; <span class="string">&#x27;上传失败&#x27;</span>]);</span><br><span class="line"></span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">        &#125; <span class="keyword">catch</span> (ValidateException $e) &#123;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">return</span> json([<span class="string">&#x27;code&#x27;</span> =&gt; <span class="number">0</span>, <span class="string">&#x27;msg&#x27;</span> =&gt; $e-&gt;getMessage()]);</span><br><span class="line"></span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure><h3 id="浏览器下载文件"><a href="#浏览器下载文件" class="headerlink" title="浏览器下载文件"></a>浏览器下载文件</h3><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 封装下载excel</span></span><br><span class="line"><span class="comment">     * User: mi</span></span><br><span class="line"><span class="comment">     * Date: 2020-10-12</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">head_upload</span>(<span class="params">$file_name</span>)</span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        $file_name = iconv(<span class="string">&quot;utf-8&quot;</span>, <span class="string">&quot;gbk//IGNORE&quot;</span>, $file_name);;  <span class="comment">//中文表名转码</span></span><br><span class="line">        $file_dir = $_SERVER[<span class="string">&#x27;DOCUMENT_ROOT&#x27;</span>].<span class="string">&quot;/excel_template/&quot;</span>;        <span class="comment">//下载文件存放目录</span></span><br><span class="line">        <span class="comment">//检查文件是否存在</span></span><br><span class="line">        <span class="keyword">if</span> (!file_exists($file_dir . $file_name)) &#123;</span><br><span class="line">            header(<span class="string">&#x27;HTTP/1.1 404 NOT FOUND&#x27;</span>);</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="comment">//以只读和二进制模式打开文件</span></span><br><span class="line">            $file = fopen($file_dir . $file_name, <span class="string">&quot;rb&quot;</span>);</span><br><span class="line"></span><br><span class="line">            <span class="comment">//告诉浏览器这是一个文件流格式的文件</span></span><br><span class="line">            Header(<span class="string">&quot;Content-type: application/octet-stream&quot;</span>);</span><br><span class="line">            <span class="comment">//请求范围的度量单位</span></span><br><span class="line">            Header(<span class="string">&quot;Accept-Ranges: bytes&quot;</span>);</span><br><span class="line">            <span class="comment">//Content-Length是指定包含于请求或响应中数据的字节长度</span></span><br><span class="line">            Header(<span class="string">&quot;Accept-Length: &quot;</span> . filesize($file_dir . $file_name));</span><br><span class="line">            <span class="comment">//用来告诉浏览器，文件是可以当做附件被下载，下载后的文件名称为$file_name该变量的值。</span></span><br><span class="line">            Header(<span class="string">&quot;Content-Disposition: attachment; filename=&quot;</span> . $file_name);</span><br><span class="line"></span><br><span class="line">            <span class="comment">//读取文件内容并直接输出到浏览器</span></span><br><span class="line">            <span class="keyword">echo</span> fread($file, filesize($file_dir . $file_name));</span><br><span class="line">            fclose($file);</span><br><span class="line">            <span class="keyword">exit</span> ();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure><h2 id="tp"><a href="#tp" class="headerlink" title="tp"></a>tp</h2><h3 id="时间操作"><a href="#时间操作" class="headerlink" title="时间操作"></a>时间操作</h3><h4 id="php字符串类型时间转为秒数"><a href="#php字符串类型时间转为秒数" class="headerlink" title="php字符串类型时间转为秒数"></a>php字符串类型时间转为秒数</h4><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$len = <span class="string">&quot;00:05:10.11&quot;</span>;</span><br><span class="line">        $time = date_parse($len);</span><br><span class="line">        $seconds = $time[<span class="string">&#x27;hour&#x27;</span>] * <span class="number">3600</span> + $time[<span class="string">&#x27;minute&#x27;</span>] * <span class="number">60</span> + $time[<span class="string">&#x27;second&#x27;</span>];</span><br></pre></td></tr></table></figure><h4 id="判断两天是否是同一天"><a href="#判断两天是否是同一天" class="headerlink" title="判断两天是否是同一天"></a>判断两天是否是同一天</h4><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//判断两天是否是同一天</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">isDiffDays</span>(<span class="params">$last_date, $this_date</span>)</span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (($last_date[<span class="string">&#x27;year&#x27;</span>] === $this_date[<span class="string">&#x27;year&#x27;</span>]) &amp;&amp; ($this_date[<span class="string">&#x27;yday&#x27;</span>] === $last_date[<span class="string">&#x27;yday&#x27;</span>])) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure><h4 id="传入时间计算距离现在第几周"><a href="#传入时间计算距离现在第几周" class="headerlink" title="传入时间计算距离现在第几周"></a>传入时间计算距离现在第几周</h4><blockquote><p>未区分星期一，直接计算</p></blockquote><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 传入开学时间计算第几周</span></span><br><span class="line"><span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">current_week</span>(<span class="params">$time_chuo_of_first_day = <span class="string">&#x27;&#x27;</span></span>)</span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="comment">//今天的时间戳</span></span><br><span class="line">    $month = date(<span class="string">&#x27;n&#x27;</span>); <span class="comment">//获取月 n</span></span><br><span class="line">    $day = date(<span class="string">&#x27;d&#x27;</span>);   <span class="comment">//获取日 d</span></span><br><span class="line">    $year = date(<span class="string">&#x27;Y&#x27;</span>);  <span class="comment">//获取年 Y</span></span><br><span class="line">    $time_chuo_of_current_day = mktime(<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, $month, $day, $year);</span><br><span class="line">    $cha = ($time_chuo_of_current_day - $time_chuo_of_first_day) / <span class="number">60</span> / <span class="number">60</span> / <span class="number">24</span>;</span><br><span class="line">    $zhou = (<span class="keyword">int</span>)(($cha+<span class="number">1</span>) / <span class="number">7</span> + <span class="number">1</span>);</span><br><span class="line">    <span class="keyword">return</span> $zhou;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><p>传入周，计算周一的日期</p></blockquote><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 计算周一的时间</span></span><br><span class="line"><span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">mon</span>(<span class="params">$date</span>)</span>&#123;</span><br><span class="line">    $now = strtotime($date);    <span class="comment">//当时的时间戳</span></span><br><span class="line">    $number = date(<span class="string">&quot;w&quot;</span>,$now);  <span class="comment">//当时是周几</span></span><br><span class="line">    $number = $number == <span class="number">0</span> ? <span class="number">7</span> : $number; <span class="comment">//如遇周末,将0换成7</span></span><br><span class="line">    $diff_day = $number - <span class="number">1</span>; <span class="comment">//求到周一差几天</span></span><br><span class="line">    <span class="keyword">return</span> date(<span class="string">&quot;Y-m-d&quot;</span>,$now - ($diff_day * <span class="number">60</span> * <span class="number">60</span> * <span class="number">24</span>));</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="数据库操作——查询"><a href="#数据库操作——查询" class="headerlink" title="数据库操作——查询"></a>数据库操作——查询</h3><h4 id="tp5查询用逗号分开的字段"><a href="#tp5查询用逗号分开的字段" class="headerlink" title="tp5查询用逗号分开的字段"></a>tp5查询用逗号分开的字段</h4><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$log_article = LogArticle::where(<span class="string">&#x27;find_in_set(:id,tag_ids)&#x27;</span>,[<span class="string">&#x27;id&#x27;</span>=&gt; input(<span class="string">&#x27;tag_id&#x27;</span>)])</span><br><span class="line">    -&gt;select();</span><br></pre></td></tr></table></figure><h4 id="页数"><a href="#页数" class="headerlink" title="页数"></a>页数</h4><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$tol = ($page<span class="number">-1</span>) *$limit;</span><br></pre></td></tr></table></figure><h4 id="关键字搜索"><a href="#关键字搜索" class="headerlink" title="关键字搜索"></a>关键字搜索</h4><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> ($keys != <span class="string">&#x27;&#x27;</span>) &#123;</span><br><span class="line">                $where[] = [<span class="string">&#x27;title&#x27;</span>,<span class="string">&#x27;like&#x27;</span>,<span class="string">&#x27;%&#x27;</span>.$keys.<span class="string">&#x27;%&#x27;</span>];</span><br><span class="line">            &#125;</span><br></pre></td></tr></table></figure><h3 id="数据库操作——插入"><a href="#数据库操作——插入" class="headerlink" title="数据库操作——插入"></a>数据库操作——插入</h3><h4 id="分组插入数据库"><a href="#分组插入数据库" class="headerlink" title="分组插入数据库"></a>分组插入数据库</h4><blockquote><p>insert_data是需要插入的数据</p></blockquote><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">$num = <span class="number">100</span>;</span><br><span class="line">$limit = ceil(count($insert_data)/$num);</span><br><span class="line"><span class="keyword">for</span> ($i = <span class="number">1</span>; $i &lt;= $limit; $i++)&#123;</span><br><span class="line">    $offset = ($i<span class="number">-1</span>)*$num;</span><br><span class="line">    $data = array_slice($insert_data, $offset, $num);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="数据库其它操作"><a href="#数据库其它操作" class="headerlink" title="数据库其它操作"></a>数据库其它操作</h3><h4 id="事务"><a href="#事务" class="headerlink" title="事务"></a>事务</h4><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 启动事务</span></span><br><span class="line">Db::startTrans();</span><br><span class="line"><span class="keyword">try</span> &#123;</span><br><span class="line">    Db::table(<span class="string">&#x27;think_user&#x27;</span>)-&gt;find(<span class="number">1</span>);</span><br><span class="line">    Db::table(<span class="string">&#x27;think_user&#x27;</span>)-&gt;delete(<span class="number">1</span>);</span><br><span class="line">    <span class="keyword">throw</span> <span class="keyword">new</span> <span class="built_in">Exception</span>(<span class="string">&#x27;添加商品规格失败&#x27;</span>, <span class="number">1</span>);</span><br><span class="line">    <span class="comment">// 提交事务</span></span><br><span class="line">    Db::commit();</span><br><span class="line">&#125; <span class="keyword">catch</span> (\<span class="built_in">Exception</span> $e) &#123;</span><br><span class="line">    $code = $e-&gt;getCode();</span><br><span class="line">    <span class="keyword">if</span> ($code == <span class="number">0</span>)&#123;</span><br><span class="line">        retMsg(<span class="number">0</span>, $e-&gt;getMessage());</span><br><span class="line">    &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">        retMsg(<span class="number">0</span>, <span class="string">&#x27;网络繁忙，请稍后再试~&#x27;</span>,[<span class="string">&#x27;error&#x27;</span> =&gt; $e-&gt;getMessage()]);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// 回滚事务</span></span><br><span class="line">    Db::rollback();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="模型"><a href="#模型" class="headerlink" title="模型"></a>模型</h3><h4 id="模型中无限分类"><a href="#模型中无限分类" class="headerlink" title="模型中无限分类"></a>模型中无限分类</h4><blockquote><p>这是lemocms中的，但是都通用，传入的$cate需要分类的数组</p></blockquote><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 无限分类-权限</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> $cate            栏目</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> string $lefthtml 分隔符</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> int $pid         父ID</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> int $lvl         层级</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span> array</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="built_in">static</span> <span class="function"><span class="keyword">function</span> <span class="title">cateTree</span>(<span class="params">$cate , $lefthtml = <span class="string">&#x27;|— &#x27;</span> , $pid = <span class="number">0</span> , $level = <span class="number">0</span> </span>)</span>&#123;</span><br><span class="line">        $arr = <span class="keyword">array</span>();</span><br><span class="line">        <span class="keyword">foreach</span> ($cate <span class="keyword">as</span> $v)&#123;</span><br><span class="line">            <span class="keyword">if</span> ($v[<span class="string">&#x27;pid&#x27;</span>] == $pid) &#123;</span><br><span class="line">                $v[<span class="string">&#x27;level&#x27;</span>]      = $level + <span class="number">1</span>;</span><br><span class="line">                $v[<span class="string">&#x27;lefthtml&#x27;</span>] = str_repeat($lefthtml,$level);</span><br><span class="line">                $v[<span class="string">&#x27;ltitle&#x27;</span>]   = $v[<span class="string">&#x27;lefthtml&#x27;</span>].$v[<span class="string">&#x27;title&#x27;</span>];</span><br><span class="line">                $arr[] = $v;</span><br><span class="line">                $arr = array_merge($arr, <span class="built_in">self</span>::cateTree($cate, $lefthtml, $v[<span class="string">&#x27;id&#x27;</span>], $level+<span class="number">1</span>));</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> $arr;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure><h3 id="Base函数"><a href="#Base函数" class="headerlink" title="Base函数"></a>Base函数</h3><h4 id="index基础函数"><a href="#index基础函数" class="headerlink" title="index基础函数"></a>index基础函数</h4><blockquote><p>可以仿照为base，其他根据需求更改</p></blockquote><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">index</span>(<span class="params"></span>)</span></span><br><span class="line"><span class="function">   </span>&#123;</span><br><span class="line">       <span class="keyword">if</span> (Request::isPost()) &#123;</span><br><span class="line">           <span class="comment">// 关键词查询</span></span><br><span class="line">           $keys = <span class="keyword">$this</span>-&gt;request-&gt;post(<span class="string">&#x27;keys&#x27;</span>, <span class="string">&#x27;&#x27;</span>, <span class="string">&#x27;trim&#x27;</span>);</span><br><span class="line"></span><br><span class="line">           $where = [];</span><br><span class="line">           <span class="keyword">if</span> ($keys != <span class="string">&#x27;&#x27;</span>) &#123;</span><br><span class="line">               $where[] = [<span class="string">&#x27;title&#x27;</span>, <span class="string">&#x27;like&#x27;</span>, <span class="string">&#x27;%&#x27;</span> . $keys . <span class="string">&#x27;%&#x27;</span>];</span><br><span class="line">           &#125;</span><br><span class="line"></span><br><span class="line">           <span class="comment">// 分页</span></span><br><span class="line">           $page = <span class="keyword">$this</span>-&gt;request-&gt;post(<span class="string">&#x27;page&#x27;</span>);</span><br><span class="line">           $limit = <span class="keyword">$this</span>-&gt;request-&gt;post(<span class="string">&#x27;limit&#x27;</span>);</span><br><span class="line">           $tol = ($page - <span class="number">1</span>) * $limit;</span><br><span class="line"></span><br><span class="line">           <span class="comment">// 查询需要展示的数据</span></span><br><span class="line">           $banner = BannerModel::where($where)-&gt;limit($tol, $limit)-&gt;select();</span><br><span class="line">           $count = BannerModel::where($where)-&gt;count();</span><br><span class="line">           <span class="keyword">if</span> (!$banner)</span><br><span class="line">               <span class="keyword">$this</span>-&gt;errorMsg();</span><br><span class="line">           <span class="keyword">$this</span>-&gt;successMsg($banner, $count);</span><br><span class="line">       &#125;</span><br><span class="line">       <span class="keyword">return</span> view();</span><br><span class="line">   &#125;</span><br></pre></td></tr></table></figure><h3 id="配置伪静态"><a href="#配置伪静态" class="headerlink" title="配置伪静态"></a>配置伪静态</h3><h4 id="apache配置"><a href="#apache配置" class="headerlink" title="apache配置"></a>apache配置</h4><blockquote><p>从官网下载的index.php后面没有 ?</p><p>因此这个和官网的区别在于index.php后面的 ?</p></blockquote><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&lt;IfModule mod_rewrite.c&gt;</span><br><span class="line"> Options +FollowSymlinks -Multiviews</span><br><span class="line"> RewriteEngine On</span><br><span class="line"></span><br><span class="line"> RewriteCond %&#123;REQUEST_FILENAME&#125; !-d</span><br><span class="line"> RewriteCond %&#123;REQUEST_FILENAME&#125; !-f</span><br><span class="line"> RewriteRule ^(.*)$ index.php?/$<span class="number">1</span> [QSA,PT,L]</span><br><span class="line">&lt;/IfModule&gt;</span><br></pre></td></tr></table></figure><blockquote><p>设置目录浏览<br>在conf下找到vhosts.conf文件或者vhosts目录里，localhost配置下Options一行加上indexes即</p></blockquote><p><img src="/ckqxqe4nq002xbwwfal515zmy/php%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0.assets/image-20210329145321957.png" class="lazyload" data-srcset="/ckqxqe4nq002xbwwfal515zmy/php%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0.assets/image-20210329145321957.png" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" alt="image-20210329145321957"></p><h4 id="Nginx配置"><a href="#Nginx配置" class="headerlink" title="Nginx配置"></a>Nginx配置</h4><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> (!-d $request_filename)&#123;</span><br><span class="line">set $rule_0 <span class="number">1</span>$rule_0;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span> (!-f $request_filename)&#123;</span><br><span class="line">set $rule_0 <span class="number">2</span>$rule_0;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span> ($rule_0 = <span class="string">&quot;21&quot;</span>)&#123;</span><br><span class="line">rewrite ^/(.*)$ /index.php?s=/$<span class="number">1</span> last;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="上传，导出，下载"><a href="#上传，导出，下载" class="headerlink" title="上传，导出，下载"></a>上传，导出，下载</h3><h4 id="上传excel，并且将其数据插入数据库"><a href="#上传excel，并且将其数据插入数据库" class="headerlink" title="上传excel，并且将其数据插入数据库"></a>上传excel，并且将其数据插入数据库</h4><blockquote><p>php上传excel需要用到PHPExcel</p><p>需要composer安装：composer require phpoffice/phpexcel（该方法最好实时从网上寻找，此不一定管用，以实际为准）</p></blockquote><blockquote><p>composer安装完成在方法中使用</p></blockquote><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">use</span> <span class="title">PHPExcel_IOFactory</span>;</span><br><span class="line"><span class="keyword">use</span> <span class="title">PHPExcel</span>;</span><br></pre></td></tr></table></figure><blockquote><p>tp中使用</p></blockquote><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// excel上传</span></span><br><span class="line">   <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">excel_upload</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">       Db::startTrans();</span><br><span class="line">       <span class="keyword">try</span> &#123;</span><br><span class="line">           $file = $_FILES[<span class="string">&#x27;file&#x27;</span>]; <span class="comment">//需要用这种方法接收</span></span><br><span class="line">           $extension = strtolower(pathinfo($file[<span class="string">&#x27;name&#x27;</span>], PATHINFO_EXTENSION));  <span class="comment">//pathinfo()函数以数组的形式返回文件路径的信息</span></span><br><span class="line"></span><br><span class="line">           <span class="keyword">if</span> ($extension == <span class="string">&quot;xlsx&quot;</span>) &#123;</span><br><span class="line">               <span class="comment">//2007(相当于是打开接收的这个excel)</span></span><br><span class="line">               $objReader = \PHPExcel_IOFactory::createReader(<span class="string">&#x27;Excel2007&#x27;</span>);</span><br><span class="line">           &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">               <span class="comment">//2003(相当于是打开接收的这个excel)</span></span><br><span class="line">               <span class="keyword">exit</span>(json_encode([<span class="string">&#x27;status&#x27;</span> =&gt; <span class="number">0</span>, <span class="string">&#x27;msg&#x27;</span> =&gt; <span class="string">&#x27;不是期望的文件&#x27;</span>]));</span><br><span class="line">           &#125;</span><br><span class="line">           </span><br><span class="line">           <span class="comment">// 这是另外一种，把表数据分为ABCD等来区分</span></span><br><span class="line">           <span class="comment">//载入文件</span></span><br><span class="line">           $PHPExcel = $objReader-&gt;load($file[<span class="string">&#x27;tmp_name&#x27;</span>]);</span><br><span class="line"></span><br><span class="line">           <span class="comment">//获取表中的第一个工作表，如果要获取第二个，把0改为1，依次类推</span></span><br><span class="line">           $currentSheet = $PHPExcel-&gt;getSheet(<span class="number">0</span>);</span><br><span class="line">           <span class="comment">//获取总列数</span></span><br><span class="line">           $allColumn = $currentSheet-&gt;getHighestColumn();</span><br><span class="line">           <span class="comment">//获取总行数</span></span><br><span class="line">           $allRow = $currentSheet-&gt;getHighestRow();</span><br><span class="line"></span><br><span class="line">           <span class="comment">//循环获取表中的数据，$currentRow表示当前行，从哪行开始读取数据，索引值从0开始</span></span><br><span class="line">           <span class="keyword">for</span> ($currentRow = <span class="number">1</span>; $currentRow &lt;= $allRow; $currentRow++) &#123;</span><br><span class="line">               <span class="comment">//从哪列开始，A表示第一列</span></span><br><span class="line">               <span class="keyword">for</span> ($currentColumn = <span class="string">&#x27;A&#x27;</span>; $currentColumn &lt;= $allColumn; $currentColumn++) &#123;</span><br><span class="line">                   <span class="comment">//数据坐标</span></span><br><span class="line">                   $address = $currentColumn . $currentRow;</span><br><span class="line">                   <span class="comment">//读取到的数据，保存到数组$data中</span></span><br><span class="line">                   $cell = $currentSheet-&gt;getCell($address)-&gt;getValue();</span><br><span class="line"></span><br><span class="line">                   $data[$currentRow - <span class="number">1</span>][$currentColumn] = $cell;</span><br><span class="line">               &#125;</span><br><span class="line">           &#125;</span><br><span class="line">           </span><br><span class="line">           </span><br><span class="line"><span class="comment">// 这是第一种，就是简单的</span></span><br><span class="line">           $objContent = $objReader-&gt;load($file[<span class="string">&#x27;tmp_name&#x27;</span>]); <span class="comment">//加载缓存文件</span></span><br><span class="line">           $sheetContent = $objContent-&gt;getSheet(<span class="number">0</span>)  <span class="comment">//获取活动的表格</span></span><br><span class="line">           -&gt;toArray();   <span class="comment">//  转换成数组</span></span><br><span class="line"></span><br><span class="line">           $excel_array = $sheetContent[<span class="number">0</span>];</span><br><span class="line">           array_shift($sheetContent);</span><br><span class="line"></span><br><span class="line">           $data = [];</span><br><span class="line">           <span class="comment">// 表格数据转为数组，而且该数组格式固定</span></span><br><span class="line">           <span class="keyword">foreach</span> ($sheetContent <span class="keyword">as</span> $k =&gt; $v)&#123;</span><br><span class="line">               $data[$k][<span class="string">&#x27;supplier_name&#x27;</span>] = $v[<span class="number">0</span>];</span><br><span class="line">               $data[$k][<span class="string">&#x27;goods_code&#x27;</span>] = $v[<span class="number">1</span>];</span><br><span class="line">               $data[$k][<span class="string">&#x27;goods_name&#x27;</span>] = $v[<span class="number">2</span>];</span><br><span class="line">               $data[$k][<span class="string">&#x27;color&#x27;</span>] = $v[<span class="number">3</span>];</span><br><span class="line">               $data[$k][<span class="string">&#x27;color_code&#x27;</span>] = $v[<span class="number">4</span>];</span><br><span class="line">               $data[$k][<span class="string">&#x27;size_code&#x27;</span>] = $v[<span class="number">5</span>];</span><br><span class="line">               $data[$k][<span class="string">&#x27;size_name&#x27;</span>] = $v[<span class="number">6</span>];</span><br><span class="line">               $data[$k][<span class="string">&#x27;barcode&#x27;</span>] = $v[<span class="number">7</span>];</span><br><span class="line">               $data[$k][<span class="string">&#x27;inventory&#x27;</span>] = $v[<span class="number">8</span>];</span><br><span class="line">               </span><br><span class="line">               <span class="comment">// 这是判断店铺</span></span><br><span class="line">               <span class="keyword">if</span> (count($v) &gt; <span class="number">9</span>)&#123;</span><br><span class="line">                   $shops_id = <span class="string">&#x27;&#x27;</span>;</span><br><span class="line">                   $num = <span class="string">&#x27;&#x27;</span>;</span><br><span class="line">                   <span class="keyword">for</span> ($i = <span class="number">1</span>; $i &lt;= count($v)<span class="number">-9</span> ; $i++)&#123;</span><br><span class="line">                       <span class="comment">// 判断是否在该店有库存</span></span><br><span class="line">                       <span class="keyword">if</span> ($v[<span class="number">8</span>+$i] != <span class="literal">null</span>)&#123;</span><br><span class="line">                           $shops = Shops::where([<span class="string">&#x27;name&#x27;</span> =&gt; $excel_array[<span class="number">8</span>+$i]])-&gt;find();</span><br><span class="line">                           <span class="keyword">if</span> (!$shops) <span class="keyword">throw</span> <span class="keyword">new</span> <span class="built_in">Exception</span>(<span class="string">&#x27;没有该店铺&#x27;</span>.$excel_array[<span class="number">8</span>+$i].<span class="string">&#x27;，请在后台添加&#x27;</span>, <span class="number">1</span>);</span><br><span class="line">                           $shops_id = $shops[<span class="string">&#x27;id&#x27;</span>].<span class="string">&#x27;,&#x27;</span>.$shops_id;</span><br><span class="line">                           $num = $v[<span class="number">8</span>+$i].<span class="string">&#x27;,&#x27;</span>.$num;</span><br><span class="line">                       &#125;</span><br><span class="line">                   &#125;</span><br><span class="line">                   $shops_ids = substr($shops_id,<span class="number">0</span>, strlen($shops_id)<span class="number">-1</span>);</span><br><span class="line">                   $nums = substr($num,<span class="number">0</span>, strlen($num)<span class="number">-1</span>);</span><br><span class="line">                   $data[$k][<span class="string">&#x27;num&#x27;</span>] = $nums;</span><br><span class="line">                   $data[$k][<span class="string">&#x27;shop_id&#x27;</span>] = $shops_ids;</span><br><span class="line">               &#125;</span><br><span class="line">           &#125;</span><br><span class="line"></span><br><span class="line">           Db::commit();</span><br><span class="line">           success();</span><br><span class="line">       &#125; <span class="keyword">catch</span> (<span class="built_in">Exception</span> $e) &#123;</span><br><span class="line">           Db::rollback();</span><br><span class="line">           <span class="built_in">error</span>($e-&gt;getMessage());</span><br><span class="line">       &#125;</span><br><span class="line">   &#125;</span><br></pre></td></tr></table></figure><h4 id="PHPExcel插入数据库内存溢出解决方案"><a href="#PHPExcel插入数据库内存溢出解决方案" class="headerlink" title="PHPExcel插入数据库内存溢出解决方案"></a>PHPExcel插入数据库内存溢出解决方案</h4><ul><li>修改本方法的配置文件，此属下策方案</li></ul><blockquote><p>方法1、扩大php默认分配内存</p></blockquote><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">ini_set(&quot;memory_limit&quot;, &quot;13312M&quot;);</span><br><span class="line">set_time_limit(0);</span><br></pre></td></tr></table></figure><h4 id="导出为excel"><a href="#导出为excel" class="headerlink" title="导出为excel"></a>导出为excel</h4><blockquote><p>$fileName = ‘表名’，$headArr = [‘关键词’, ‘出现次数’]（对应excel的表头）;</p></blockquote><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">$data = [</span><br><span class="line">    [</span><br><span class="line">        <span class="string">&#x27;数据1&#x27;</span>, <span class="string">&#x27;数据 2&#x27;</span></span><br><span class="line">    ],</span><br><span class="line">    [</span><br><span class="line">        <span class="string">&#x27;数据1&#x27;</span>, <span class="string">&#x27;数据2&#x27;</span></span><br><span class="line">    ]</span><br><span class="line">];</span><br></pre></td></tr></table></figure><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 导出词云表</span></span><br><span class="line"><span class="comment"> * User: mi</span></span><br><span class="line"><span class="comment"> * Date: 2020-09-29</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">chu_ci_list</span>(<span class="params"></span>)</span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    $fileName = <span class="string">&#x27;词云图统计表&#x27;</span>;</span><br><span class="line">    $headArr = [<span class="string">&#x27;关键词&#x27;</span>, <span class="string">&#x27;出现次数&#x27;</span>];</span><br><span class="line">    $ci_list = Cache::get(<span class="string">&#x27;ci_list&#x27;</span>);</span><br><span class="line">    $ci_data = unserialize($ci_list);</span><br><span class="line">    $data = <span class="keyword">array</span>();</span><br><span class="line">    $i = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">foreach</span> ($ci_data <span class="keyword">as</span> $k =&gt; $item)&#123;</span><br><span class="line">        $data[$i][<span class="number">0</span>] = $k;</span><br><span class="line">        $data[$i][<span class="number">1</span>] = $item;</span><br><span class="line">        $i++;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    $fileName .= <span class="string">&quot;-&quot;</span> . date(<span class="string">&quot;YmdHi&quot;</span>, time()) . <span class="string">&quot;.xlsx&quot;</span>;</span><br><span class="line"></span><br><span class="line">    $objPHPExcel = <span class="keyword">new</span> \PHPExcel();</span><br><span class="line"></span><br><span class="line">    $objPHPExcel-&gt;getProperties();</span><br><span class="line"></span><br><span class="line">    $key = ord(<span class="string">&quot;A&quot;</span>); <span class="comment">// 设置表头</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">foreach</span> ($headArr <span class="keyword">as</span> $v) &#123;</span><br><span class="line"></span><br><span class="line">        $colum = chr($key);</span><br><span class="line"></span><br><span class="line">        $objPHPExcel-&gt;setActiveSheetIndex(<span class="number">0</span>)-&gt;setCellValue($colum . <span class="string">&#x27;1&#x27;</span>, $v);</span><br><span class="line"></span><br><span class="line">        $objPHPExcel-&gt;setActiveSheetIndex(<span class="number">0</span>)-&gt;setCellValue($colum . <span class="string">&#x27;1&#x27;</span>, $v);</span><br><span class="line"></span><br><span class="line">        $key += <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    $column = <span class="number">2</span>;</span><br><span class="line"></span><br><span class="line">    $objActSheet = $objPHPExcel-&gt;getActiveSheet();</span><br><span class="line"></span><br><span class="line">    <span class="keyword">foreach</span> ($data <span class="keyword">as</span> $key =&gt; $rows) &#123; <span class="comment">// 行写入</span></span><br><span class="line"></span><br><span class="line">        $span = ord(<span class="string">&quot;A&quot;</span>);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">foreach</span> ($rows <span class="keyword">as</span> $keyName =&gt; $value) &#123; <span class="comment">// 列写入</span></span><br><span class="line"></span><br><span class="line">            $objActSheet-&gt;setCellValue(chr($span) . $column, $value);</span><br><span class="line"></span><br><span class="line">            $span++;</span><br><span class="line"></span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        $column++;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    $fileName = iconv(<span class="string">&quot;utf-8&quot;</span>, <span class="string">&quot;gb2312&quot;</span>, $fileName); <span class="comment">// 重命名表</span></span><br><span class="line"></span><br><span class="line">    $objPHPExcel-&gt;setActiveSheetIndex(<span class="number">0</span>); <span class="comment">// 设置活动单指数到第一个表,所以Excel打开这是第一个表</span></span><br><span class="line"></span><br><span class="line">    header(<span class="string">&#x27;Content-Type: application/vnd.ms-excel&#x27;</span>);</span><br><span class="line"></span><br><span class="line">    header(<span class="string">&quot;Content-Disposition: attachment;filename=<span class="subst">$fileName</span>&quot;</span>);</span><br><span class="line"></span><br><span class="line">    header(<span class="string">&#x27;Cache-Control: max-age=0&#x27;</span>);</span><br><span class="line"></span><br><span class="line">    $objWriter = \PHPExcel_IOFactory::createWriter($objPHPExcel, <span class="string">&#x27;Excel5&#x27;</span>);</span><br><span class="line"></span><br><span class="line">    $objWriter-&gt;save(<span class="string">&#x27;php://output&#x27;</span>); <span class="comment">// 文件通过浏览器下载</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">exit</span>();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="字符串，数组操作"><a href="#字符串，数组操作" class="headerlink" title="字符串，数组操作"></a>字符串，数组操作</h3><h4 id="提取字符串中的数字"><a href="#提取字符串中的数字" class="headerlink" title="提取字符串中的数字"></a>提取字符串中的数字</h4><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 取出字符串中的数字</span></span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">findNum</span>(<span class="params">$str = <span class="string">&#x27;&#x27;</span></span>)</span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line"></span><br><span class="line">        $str = trim($str);</span><br><span class="line">        <span class="keyword">if</span> (<span class="keyword">empty</span>($str)) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="string">&#x27;&#x27;</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        $result = <span class="string">&#x27;&#x27;</span>;</span><br><span class="line">        <span class="keyword">for</span> ($i = <span class="number">0</span>; $i &lt; strlen($str); $i++) &#123;</span><br><span class="line">            <span class="keyword">if</span> (is_numeric($str[$i])) &#123;</span><br><span class="line">                $result .= $str[$i];</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> $result;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure><h4 id="php实现数组按指定KEY排序的方法"><a href="#php实现数组按指定KEY排序的方法" class="headerlink" title="php实现数组按指定KEY排序的方法"></a>php实现数组按指定KEY排序的方法</h4><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// php实现数组按指定KEY排序的方法</span></span><br><span class="line">   <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">array_sort</span>(<span class="params">$arr,$keys,$orderby=<span class="string">&#x27;asc&#x27;</span></span>)</span>&#123;</span><br><span class="line">       $keysvalue = $new_array = <span class="keyword">array</span>();</span><br><span class="line">       <span class="keyword">foreach</span> ($arr <span class="keyword">as</span> $k=&gt;$v)&#123;</span><br><span class="line">         $keysvalue[$k] = $v[$keys];</span><br><span class="line">       &#125;</span><br><span class="line">       <span class="keyword">if</span>($orderby== <span class="string">&#x27;asc&#x27;</span>)&#123;</span><br><span class="line">         asort($keysvalue);</span><br><span class="line">       &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">         arsort($keysvalue);</span><br><span class="line">       &#125;</span><br><span class="line">       reset($keysvalue);</span><br><span class="line">       <span class="keyword">foreach</span> ($keysvalue <span class="keyword">as</span> $k=&gt;$v)&#123;</span><br><span class="line">         $new_array[] = $arr[$k];</span><br><span class="line">       &#125;</span><br><span class="line">       <span class="keyword">return</span> $new_array;</span><br><span class="line">     &#125;</span><br></pre></td></tr></table></figure><h3 id="打印日志"><a href="#打印日志" class="headerlink" title="打印日志"></a>打印日志</h3><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">file_put_contents(<span class="string">&#x27;ss.txt&#x27;</span>,<span class="string">&#x27;data:--&gt;&#x27;</span>.<span class="string">&#x27;0&#x27;</span>.PHP_EOL,FILE_APPEND);</span><br></pre></td></tr></table></figure><h2 id="php"><a href="#php" class="headerlink" title="php"></a>php</h2><h3 id="PHP采用超长-超大-数字运算防止数字以科学计数法显示的方法"><a href="#PHP采用超长-超大-数字运算防止数字以科学计数法显示的方法" class="headerlink" title="PHP采用超长(超大)数字运算防止数字以科学计数法显示的方法"></a>PHP采用超长(超大)数字运算防止数字以科学计数法显示的方法</h3><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">calc</span>(<span class="params">$m,$n,$x</span>)</span>&#123;</span><br><span class="line">  $errors=<span class="keyword">array</span>(</span><br><span class="line">    <span class="string">&#x27;被除数不能为零&#x27;</span>,</span><br><span class="line">    <span class="string">&#x27;负数没有平方根&#x27;</span></span><br><span class="line">  );</span><br><span class="line">  <span class="keyword">switch</span>($x)&#123;</span><br><span class="line">    <span class="keyword">case</span> <span class="string">&#x27;add&#x27;</span>:</span><br><span class="line">      $t=bcadd($m,$n);</span><br><span class="line">      <span class="keyword">break</span>;</span><br><span class="line">    <span class="keyword">case</span> <span class="string">&#x27;sub&#x27;</span>:</span><br><span class="line">      $t=bcsub($m,$n);</span><br><span class="line">      <span class="keyword">break</span>;</span><br><span class="line">    <span class="keyword">case</span> <span class="string">&#x27;mul&#x27;</span>:</span><br><span class="line">      $t=bcmul($m,$n);</span><br><span class="line">      <span class="keyword">break</span>;</span><br><span class="line">    <span class="keyword">case</span> <span class="string">&#x27;div&#x27;</span>:</span><br><span class="line">      <span class="keyword">if</span>($n!=<span class="number">0</span>)&#123;</span><br><span class="line">        $t=bcdiv($m,$n);</span><br><span class="line">      &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> $errors[<span class="number">0</span>];</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="keyword">break</span>;</span><br><span class="line">    <span class="keyword">case</span> <span class="string">&#x27;pow&#x27;</span>:</span><br><span class="line">      $t=bcpow($m,$n);</span><br><span class="line">      <span class="keyword">break</span>;</span><br><span class="line">    <span class="keyword">case</span> <span class="string">&#x27;mod&#x27;</span>:</span><br><span class="line">      <span class="keyword">if</span>($n!=<span class="number">0</span>)&#123;</span><br><span class="line">        $t=bcmod($m,$n);</span><br><span class="line">      &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> $errors[<span class="number">0</span>];</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="keyword">break</span>;</span><br><span class="line">    <span class="keyword">case</span> <span class="string">&#x27;sqrt&#x27;</span>:</span><br><span class="line">      <span class="keyword">if</span>($m&gt;=<span class="number">0</span>)&#123;</span><br><span class="line">        $t=bcsqrt($m);</span><br><span class="line">      &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> $errors[<span class="number">1</span>];</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="keyword">break</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  $t=preg_replace(<span class="string">&quot;/\..*0+$/&quot;</span>,<span class="string">&#x27;&#x27;</span>,$t);</span><br><span class="line">  <span class="keyword">return</span> $t;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="截取后缀名"><a href="#截取后缀名" class="headerlink" title="截取后缀名"></a>截取后缀名</h3><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$postfix = trim(strrchr($file_name, <span class="string">&#x27;.&#x27;</span>),<span class="string">&#x27;&#x27;</span>);</span><br></pre></td></tr></table></figure><h3 id="将反斜杠转成正斜杠"><a href="#将反斜杠转成正斜杠" class="headerlink" title="将反斜杠转成正斜杠"></a>将反斜杠转成正斜杠</h3><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$path = str_replace(<span class="string">&quot;\\&quot;</span>,<span class="string">&#x27;/&#x27;</span>,$info-&gt;getSaveName()); <span class="comment">//将反斜杆转为正斜杠</span></span><br></pre></td></tr></table></figure><h3 id="应用公共返回方法"><a href="#应用公共返回方法" class="headerlink" title="应用公共返回方法"></a>应用公共返回方法</h3><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">success</span>(<span class="params">$data = [], $count = <span class="number">0</span></span>)</span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    header(<span class="string">&quot;Access-Control-Allow-Origin:*&quot;</span>);</span><br><span class="line">    header(<span class="string">&#x27;Access-Control-Allow-Methods:POST,GET&#x27;</span>);</span><br><span class="line">    header(<span class="string">&#x27;Content-Type:application/json&#x27;</span>);</span><br><span class="line"></span><br><span class="line">    $list[<span class="string">&#x27;code&#x27;</span>] = <span class="number">1</span>;</span><br><span class="line">    $list[<span class="string">&#x27;msg&#x27;</span>] = <span class="string">&#x27;操作成功&#x27;</span>;</span><br><span class="line">    $list[<span class="string">&#x27;data&#x27;</span>] = $data;</span><br><span class="line">    $list[<span class="string">&#x27;count&#x27;</span>] = $count;</span><br><span class="line">    <span class="keyword">echo</span> json_encode($list);</span><br><span class="line">    <span class="keyword">die</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">error</span>(<span class="params">$msg = <span class="string">&#x27;error&#x27;</span></span>)</span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    header(<span class="string">&quot;Access-Control-Allow-Origin:*&quot;</span>);</span><br><span class="line">    header(<span class="string">&#x27;Access-Control-Allow-Methods:POST,GET&#x27;</span>);</span><br><span class="line">    header(<span class="string">&#x27;Content-Type:application/json&#x27;</span>);</span><br><span class="line"></span><br><span class="line">    $list[<span class="string">&#x27;code&#x27;</span>] = <span class="number">0</span>;</span><br><span class="line">    $list[<span class="string">&#x27;msg&#x27;</span>] = $msg;</span><br><span class="line">    <span class="keyword">echo</span> json_encode($list);</span><br><span class="line">    <span class="keyword">die</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">retMsg</span>(<span class="params">$code = <span class="number">0</span>,$msg = <span class="string">&#x27;&#x27;</span>, $data = [], $count = <span class="number">0</span></span>)</span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    header(<span class="string">&quot;Access-Control-Allow-Origin:*&quot;</span>);</span><br><span class="line">    header(<span class="string">&#x27;Access-Control-Allow-Methods:POST,GET&#x27;</span>);</span><br><span class="line">    header(<span class="string">&#x27;Content-Type:application/json&#x27;</span>);</span><br><span class="line"></span><br><span class="line">    $list[<span class="string">&#x27;code&#x27;</span>] = $code;</span><br><span class="line">    $list[<span class="string">&#x27;msg&#x27;</span>] = $msg;</span><br><span class="line">    $list[<span class="string">&#x27;data&#x27;</span>] = $data;</span><br><span class="line">    $list[<span class="string">&#x27;count&#x27;</span>] = $count;</span><br><span class="line">    <span class="keyword">echo</span> json_encode($list);</span><br><span class="line">    <span class="keyword">die</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="封装概率"><a href="#封装概率" class="headerlink" title="封装概率"></a>封装概率</h3><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 封装概率</span></span><br><span class="line"><span class="comment">     * 作者：糜家智</span></span><br><span class="line"><span class="comment">     * 时间：2021/4/29 17:19</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">get_rand</span>(<span class="params">$proArr</span>)</span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        $result = <span class="keyword">array</span>();</span><br><span class="line">        <span class="keyword">foreach</span> ($proArr <span class="keyword">as</span> $key =&gt; $val) &#123;</span><br><span class="line">            $arr[$key] = $val[<span class="string">&#x27;v&#x27;</span>]; <span class="comment">// probability中奖概率</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// 概率数组的总概率</span></span><br><span class="line">        $proSum = array_sum($arr);</span><br><span class="line">        asort($arr);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 概率数组循环</span></span><br><span class="line">        <span class="keyword">foreach</span> ($arr <span class="keyword">as</span> $k =&gt; $v) &#123;</span><br><span class="line">            $randNum = mt_rand(<span class="number">1</span>, $proSum);</span><br><span class="line">            <span class="keyword">if</span> ($randNum &lt;= $v) &#123;</span><br><span class="line">                $result = $proArr[$k];</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                $proSum -= $v;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> $result;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> thinkphp </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 学习笔记 </tag>
            
            <tag> 分享 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Yapi使用教程</title>
      <link href="ckqxqe4mo0003bwwfa3tn5tgs/"/>
      <url>ckqxqe4mo0003bwwfa3tn5tgs/</url>
      
        <content type="html"><![CDATA[<blockquote><p>YApi 是高效、易用、功能强大的 api 管理平台，旨在为开发、产品、测试人员提供更优雅的接口管理服务。可以帮助开发者轻松创建、发布、维护 API，YApi 还为用户提供了优秀的交互体验，开发人员只需利用平台提供的接口数据写入工具以及简单的点击操作就可以实现接口的管理。</p></blockquote><a id="more"></a><h2 id="Yapi使用教程"><a href="#Yapi使用教程" class="headerlink" title="Yapi使用教程"></a>Yapi使用教程</h2><h4 id="后端人员开发"><a href="#后端人员开发" class="headerlink" title="后端人员开发"></a>后端人员开发</h4><ol><li>登录网站，登录或注册：<a href="http://yapi.demo.qunar.com/">http://yapi.demo.qunar.com/</a><br>（这yapi自己的服务，如果要用自己服务器的服务，需要自己搭建一套yapi工程，网易云课堂有相关课程） </li></ol><p><img src="https://i.loli.net/2020/09/21/EnW5wk9T8RIHjyb.png" class="lazyload" data-srcset="https://i.loli.net/2020/09/21/EnW5wk9T8RIHjyb.png" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" alt="image-20200921145447735.png"></p><ol start="2"><li>登录成功后，可以创建对应项目</li></ol><p><img src="https://i.loli.net/2020/09/21/PyvA21dGaRNgKxb.png" class="lazyload" data-srcset="https://i.loli.net/2020/09/21/PyvA21dGaRNgKxb.png" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" alt="image-20200921145623424.png"></p><ol start="3"><li><p>创建对应模块</p></li><li><p>添加模块下对应接口或修改模块名称</p></li></ol><ul><li><p> 接口分类：可以选择对应模块</p></li><li><p> 接口名称：对应接口的名称，如：绩查询</p></li><li><p> 接口路径：为前端调用后端的接口路径，如：query12.do；也可以选择请求方式，如GET或POST </p></li></ul><p><img src="https://i.loli.net/2020/09/21/Vp5P7TB1Sack2rZ.png" class="lazyload" data-srcset="https://i.loli.net/2020/09/21/Vp5P7TB1Sack2rZ.png" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" alt="image-20200921145744330.png"></p><ol start="5"><li><p>编写接口请求参数及返回值</p></li><li><p>编写接口成功后，可以页面运行，配置相关环境</p></li><li><p>运行后结果</p></li></ol><p><img src="https://i.loli.net/2020/09/21/QKjhOckaBwLXA9T.png" class="lazyload" data-srcset="https://i.loli.net/2020/09/21/QKjhOckaBwLXA9T.png" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" alt="image-20200921145702639.png"></p><ol start="8"><li>对接口的导入导出</li><li>成员的加入管理，可以对加入开发的成员进行管理</li></ol><p><img src="https://i.loli.net/2020/09/21/GE3hWPquzAokc1b.png" class="lazyload" data-srcset="https://i.loli.net/2020/09/21/GE3hWPquzAokc1b.png" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" alt="image-20200921145757551.png"></p><h4 id="前端人员开发"><a href="#前端人员开发" class="headerlink" title="前端人员开发"></a>前端人员开发</h4><ol><li><p>同上，通过组长对成员管理进行加入</p></li><li><p>tag标签的编辑，添加，自定义，谁接的接口，通过标签区分，以及错误区分</p></li></ol><p><img src="https://i.loli.net/2020/09/21/PyvA21dGaRNgKxb.png" class="lazyload" data-srcset="https://i.loli.net/2020/09/21/PyvA21dGaRNgKxb.png" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" alt="image-20200921145623424.png"></p>]]></content>
      
      
      <categories>
          
          <category> Yapi </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 后端 </tag>
            
            <tag> 前端 </tag>
            
            <tag> 接口开发 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>心路历程</title>
      <link href="ckqxqe4mx000fbwwf3ttwclrz/"/>
      <url>ckqxqe4mx000fbwwf3ttwclrz/</url>
      
        <content type="html"><![CDATA[<blockquote><p>心路历程，不变初心。</p></blockquote><a id="more"></a><p><br><br><span class="btn large center"><a class="button" href="https://miren123.gitee.io/about/" title="查看关于我"><i class="fas fa-paper-plane"></i>查看关于我</a></span></p>]]></content>
      
      
      <categories>
          
          <category> 生活 </category>
          
          <category> 心路历程 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 感悟 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>layui点击图片预览</title>
      <link href="ckqxqe4n0000kbwwfhda9h5jf/"/>
      <url>ckqxqe4n0000kbwwfhda9h5jf/</url>
      
        <content type="html"><![CDATA[<blockquote><p>表格中点击图片,预览</p></blockquote><a id="more"></a><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">previewImg</span>(<span class="params">obj</span>) </span>&#123;</span><br><span class="line">       <span class="keyword">var</span> img = <span class="keyword">new</span> Image();  </span><br><span class="line">       img.src = obj.src;</span><br><span class="line">       <span class="keyword">var</span> height = img.height + <span class="number">50</span>; <span class="comment">//获取图片高度</span></span><br><span class="line">       <span class="keyword">var</span> width = img.width; <span class="comment">//获取图片宽度</span></span><br><span class="line">       <span class="keyword">var</span> imgHtml = <span class="string">&quot;&lt;img src=&#x27;&quot;</span> + obj.src + <span class="string">&quot;&#x27; /&gt;&quot;</span>;  </span><br><span class="line">       <span class="comment">//弹出层</span></span><br><span class="line">       layer.open(&#123;  </span><br><span class="line">           type: <span class="number">1</span>,  </span><br><span class="line">           shade: <span class="number">0.8</span>,</span><br><span class="line">           offset: <span class="string">&#x27;auto&#x27;</span>,</span><br><span class="line">           area: [width + <span class="string">&#x27;px&#x27;</span>,height+<span class="string">&#x27;px&#x27;</span>],</span><br><span class="line">           shadeClose:<span class="literal">true</span>,<span class="comment">//点击外围关闭弹窗</span></span><br><span class="line">           scrollbar: <span class="literal">false</span>,<span class="comment">//不现实滚动条</span></span><br><span class="line">           title: <span class="string">&quot;图片预览&quot;</span>, <span class="comment">//不显示标题  </span></span><br><span class="line">           content: imgHtml, <span class="comment">//捕获的元素，注意：最好该指定的元素要存放在body最外层，否则可能被其它的相对元素所影响  </span></span><br><span class="line">           cancel: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;  </span><br><span class="line">               <span class="comment">//layer.msg(&#x27;捕获就是从页面已经存在的元素上，包裹layer的结构&#x27;, &#123; time: 5000, icon: 6 &#125;);  </span></span><br><span class="line">           &#125;  </span><br><span class="line">       &#125;); </span><br><span class="line">   &#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> layui </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 前端 </tag>
            
            <tag> 开发 </tag>
            
            <tag> layui </tag>
            
            <tag> javascript </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>layui关闭弹窗层并刷新父窗口</title>
      <link href="ckqxqe4n1000mbwwfetd5f8u3/"/>
      <url>ckqxqe4n1000mbwwfetd5f8u3/</url>
      
        <content type="html"><![CDATA[<blockquote><p>适用于打开弹窗编辑,添加数据等操作,且操作完成后,关闭弹窗并刷新父级</p></blockquote><a id="more"></a><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">$(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line"><span class="comment">//关闭弹窗</span></span><br><span class="line">        $(<span class="built_in">document</span>).on(<span class="string">&#x27;click&#x27;</span>, <span class="string">&#x27;#closeBtn&#x27;</span>,</span><br><span class="line">            <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">                <span class="keyword">var</span> index = parent.layer.getFrameIndex(<span class="built_in">window</span>.name); <span class="comment">//先得到当前iframe层的索引</span></span><br><span class="line">                parent.location.reload();<span class="comment">//刷新父页面，注意一定要在关闭当前iframe层之前执行刷新</span></span><br><span class="line">                parent.layer.close(index); <span class="comment">//再执行关闭</span></span><br><span class="line">            &#125;);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> layui </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 前端 </tag>
            
            <tag> 开发 </tag>
            
            <tag> layui </tag>
            
            <tag> javascript </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>人生苦短，你一定要成为你自已想成为的那个人</title>
      <link href="ckqxqe4my000gbwwf1lffb9ru/"/>
      <url>ckqxqe4my000gbwwf1lffb9ru/</url>
      
        <content type="html"><![CDATA[<p>何为成功和幸福？我们若活成了我们自己想成为的那个人，就是一个成功的人，就是一个幸福的人。<br>保持一颗清净平和的心，勇敢坚强地生活。</p><a id="more"></a><p>《金刚狼3》中有句台词：成为你自己想成为的你，别成为他们所希望的。最扎心的是真话。日子过得不好，别人不会替你背锅，每个成年人都要对自己的生命负责。比起人云亦云的尴尬，有主见的人敢于坚持自己喜欢的东西，活得通透豁达、不卑不亢，人生才会直线开挂。</p><p>或许，当你明确自己想要何种生活，当你知晓要和怎样的人共度余生，再去寻寻觅觅也不迟。</p><p>人生苦短，我们一定要成为我们自己想成的那个人。只有这样，在我们人生将要终结的时候，才可以带着满足和欣慰的目光离开，才可以不带任何遗憾的对所有来看我们的人说：</p><p>“我度过了幸福的一生。”</p><p>成为自己想成为的人，不要成为别人想让你成为的人。这个世界其实最难做的事情就是活出自己，但是只要你愿意，你就可以活出自己。做自己喜欢的事情，不被别人打扰。</p><p>爱自己的生活，爱自己的一切。所有你能想到的，你想不到的都可以实现。只要你认真的去做，对待一切事情都把它当成自己的事情去做。这样你会收获不一样的精彩。</p><p>人一辈子只有一次，你要么成为你自己，要么你随波逐流，全看自己的选择。</p><p>在成为自己的这条道路上艰难而曲折，但是为了理想依然得必须面对。</p><p>理想是最不可辜负的，梦想的阀门一旦开启，注定无法停止。只要去坚持，你就可以收获。没有任何一条路是简单的，任何一条路都是困难重重。</p><p>重要的是你要坚持，这个过程无论遇到任何困难，你都要学会独立面对。成长本身就是疼痛的，舒服是留给死人的。</p><p>积极乐观的对待身边的人事物，将事情内化，而不是仅仅看表面。为了理想去付出，这个过程本身就是快乐的。</p><p>积极乐观的心态是良药。</p><p>乐观的心态容易让你获得快乐和自由，唯有乐观的状态才能真正的得到有价值的事情。不要活成别人眼中的自己，要活成自己眼中的自己。认真的对待自己所做的事情，保持一颗乐观的心。</p><p>埋怨世界不如改变自己，良好的心理状态是我们成长的催化剂。让自己优秀最好的方法就是不断的提高自己。只有自己优秀了，那么优秀的人才会向你靠近。</p><p>你要时刻明白，你所做的一切都是有意义的。你并不是为了得到别人的肯定而活，而是为了活出自己，得到自己的肯定。</p><p>前路凶险，披荆斩棘，方可立于不败之地。强化自己，让自己发光发彩。任何时候，都要不断的充实自己。</p><p>积极的向前走，努力成就自我，给自己的未来画上一个完美的句号。</p><p>一个人一种活法，没有十全十美。沿途的风景再美，我们的心依然要守住。何时都不忘了自己，任何时候都要让自己清醒。保持一种让认真的状态，这样才能真正的发挥自己的长处。</p><p>捷径有很多，但是捷径也不一定能真的让你快乐。快乐的活法是超脱的活法，是一种无欲无求的活法。但是面对这个繁杂的世界，我们有几个人能真的做到这种活法呢？</p><p>我们心中拥有的只是利益，没有真正标准。我们该用我们的行动去证明我们自己。日复一日，周而复始。累了，困顿了，看清了，那么我们又该如何独善其身呢？相信自己的直觉和判断，努力经营自己，让自己成为一道光，去照亮别人，去温暖人心。相信自己，就一定可以做到。</p><p>最后，摘一片文章给大家：</p><p>成为你自己<br>周国平</p><p>童年和少年是充满理想的美好时期。如果我问你们，你们将来想成为怎样的人，你们一定会给我许多漂亮的回答。譬如说，想成为拿破仑那样的伟人，爱因斯坦那样的大科学家，曹雪芹那样的文豪，等等。这些回答都不坏，不过，我认为比这一切都更重要的是：首先要成为你自己。</p><p>姑且假定你特别崇拜拿破仑，成为像他那样的盖世英雄是你最大的愿望。好吧，我问你：就让你成为拿破仑，生长在他那个时代，有他那些经历，你愿意吗？你很可能会激动得喊起来：太愿意啦！我再问你：让你从身体到灵魂整个儿都变成他，你也愿意吗？这下你或许有些犹豫了，会这么想：整个儿变成了他，不就是没有自己了吗？对了，我的朋友，正是这样。那么，你不愿意了？当然喽，因为这意味着世界上曾经有过拿破仑，这个事实没有改变，惟一的变化是你压根儿不存在了。</p><p>由此可见，对于每一个人来说，最宝贵的还是他自己。无论他多么羡慕别的什么人，如果让他彻头彻尾成为这个别人而不再是自己，谁都不肯了。</p><p>也许你会反驳我：你说的真是废话，每个人都已经是他自己了，怎么会彻头彻尾成为别人呢？不错，我只是在假设一种情形，这种情形不可能完全按照我所说的方式发生。不过，在实际生活中，类似情形却常常在以稍微不同的方式发生着。世上有许多人，你可以说他是随便什么东西，一种职业、一种身份、一个角色，或别的什么，惟独不是他自己。如果一个人总是按照别人的意见生活，没有自己的独立思考，总是为外在的事务忙碌，没有自己的内在生活，那么，说他不是他自己就一点没有冤枉他。因为确确实实，从他的头脑到他的心灵，你在其中已经找不到丝毫真正属于他自己的东西了，他只是别人的一个影子或事务的一架机器罢了。</p><p>那么，怎样才能成为自己呢？这是真正的难题，我承认我给不出答案。我还相信，不存在一个适用于一切人的答案。我只能说，最重要的是每个人都要真切地意识到他的“自我的宝贵”，有了这个觉悟，他就会自己去寻找属于他的答案。在茫茫宇宙间，每个人都只有一次生存的机会，都是一个独一无二、不可重复的存在。正像卢梭所说的，上帝把你造出来后，就把那个属于你的特定的模子打碎了。名声、财产、知识等等都是身外之物，人人都可求而得之，但你对人生的独特感受是没有人能够替代的。你死之后，没有人能够代替你再活一次。如果你真正意识到这一点，你就会明白，活在世上，最重要的就是活出你自己的特色和滋味来。你的人生是否有意义，衡量的标准不是外在的成功，而是你对积极人生的独特领悟和坚守。坚持这一标准，你的自我才能闪放出个性的光华。</p><p>在历史上，每当世风腐败之时，人们就会盼望救世主出现。其实，救世主就在每个人的心中。</p><p>————————————————<br>版权声明：本文为CSDN博主「东海陈光剑」的原创文章，遵循CC 4.0 BY-SA版权协议，转载请附上原文出处链接及本声明。<br>原文链接：<a href="https://blog.csdn.net/universsky2015/article/details/106094620">https://blog.csdn.net/universsky2015/article/details/106094620</a></p>]]></content>
      
      
      <categories>
          
          <category> 生活 </category>
          
          <category> 程序人生 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 努力 </tag>
            
            <tag> 奋斗 </tag>
            
            <tag> 人生 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>php中session和cookie的使用</title>
      <link href="ckqxqe4ms0007bwwfemdsguch/"/>
      <url>ckqxqe4ms0007bwwfemdsguch/</url>
      
        <content type="html"><![CDATA[<blockquote><p>php中session和cookie的使用，平常项目开发中不可缺少的一部分</p></blockquote><a id="more"></a><h3 id="php中session和cookie的使用及区别"><a href="#php中session和cookie的使用及区别" class="headerlink" title="php中session和cookie的使用及区别"></a>php中session和cookie的使用及区别</h3><ol><li><p><strong>cookie的使用</strong></p><h5 id="什么是cookie"><a href="#什么是cookie" class="headerlink" title="什么是cookie"></a>什么是cookie</h5><p>cookie 常用于识别用户。cookie 是服务器留在用户计算机中的小文件。每当相同的计算机通过浏览器请求页面时，它同时会发送 cookie。通过 PHP，您能够创建并取回 cookie 的值。</p><h5 id="简述cookie"><a href="#简述cookie" class="headerlink" title="简述cookie"></a>简述cookie</h5><p>PHP工作原理：PHP通过setcookie函数进行Cookie的设置，任何从浏览器发回的Cookie，PHP都会自动的将他存储在$_COOKIE的全局变量之中，因此我们可以通过$_COOKIE[‘key’]的形式来读取某个Cookie值。</p><p>用途：<strong>PHP中的Cookie具有非常广泛的使用，经常用来存储用户的登录信息，购物车等</strong>，且在使用会话 Session时通常使用Cookie来存储会话id来识别用户，Cookie具备有效期，当有效期结束之后，Cookie会自动的从客户端删除。同时为 了进行安全控制，Cookie还可以设置域跟路径。</p><h5 id="删除cookie"><a href="#删除cookie" class="headerlink" title="删除cookie"></a>删除cookie</h5><p>PHP设置Cookie最常用的方法就是使用setcookie函数，setcookie具有7个可选参数，我们常用到的为前5个：</p><ul><li>name（ Cookie名）可以通过$_COOKIE[‘name’] 进行访问</li><li>value（Cookie的值）</li><li>expire（过期时间）Unix时间戳格式，默认为0，表示浏览器关闭即失效</li><li>path（有效路径）如果路径设置为’/‘，则整个网站都有效</li><li>domain（有效域）默认整个域名都有效，如果设置了’<a href="http://www.imooc.com&/#39;,%E5%88%99%E5%8F%AA%E5%9C%A8www%E5%AD%90%E5%9F%9F%E4%B8%AD%E6%9C%89%E6%95%88">www.imooc.com&#39;,则只在www子域中有效</a></li></ul><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$value` `= ``<span class="string">&#x27;test&#x27;</span>``;``setcookie(``<span class="string">&quot;TestCookie&quot;</span>``, ``$value``);``setcookie(``<span class="string">&quot;TestCookie&quot;</span>``, ``$value``, time()+<span class="number">3600</span>); ``<span class="comment">//有效期一小时``setcookie(``&quot;TestCookie&quot;``, ``$value``, time()+3600, ``&quot;/path/&quot;``, ``&quot;imooc.com&quot;``); ``//设置路径与域</span></span><br></pre></td></tr></table></figure><p>PHP中还有一个设置Cookie的函数setrawcookie，setrawcookie跟setcookie基本一样，唯一的不同就是value值不会自动的进行urlencode，因此在需要的时候要手动的进行urlencode。</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">setrawcookie(``<span class="string">&#x27;cookie_name&#x27;</span>``, rawurlencode(``$value``), time()+<span class="number">606024</span>*<span class="number">365</span>);</span><br></pre></td></tr></table></figure><p>因为Cookie是通过HTTP标头进行设置的，所以也可以直接使用header方法进行设置。</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">header(``<span class="string">&quot;Set-Cookie:cookie_name=value&quot;</span>``);</span><br></pre></td></tr></table></figure></li><li><p><strong>session的使用</strong></p><h5 id="session是啥？"><a href="#session是啥？" class="headerlink" title="session是啥？"></a>session是啥？</h5></li></ol><p>&emsp;&emsp;首先，我大致的知道，session是一次浏览器和服务器的交互的会话，会话是啥呢？就是我问候你好吗？你回恩很好。就是一次会话，那么对话完成后，这次会话就结束了，还有我也知道，我们可以将一个变量存入全部的$_SESSION[‘name’]中，这样php的各个页面和逻辑都能访问到，所以很轻松的用来判断是否登陆。</p><p>&emsp;&emsp;这是我之前理解的session，当然也是对的，只是解释的太肤浅，理解的太表面了，面试官如果听到这样的答案其实是不太满意的。我参考了其他的很多资料，彻底理解清楚session。</p><p>&emsp;&emsp;在说session是啥之前，我们先来说说为什么会出现session会话，它出现的机理是什么？我们知道，我们用浏览器打开一个网页，用到的是HTTP协议，学过计算机的应该都知道这个协议，它是无状态的，什么是无状态呢？就是说这一次请求和上一次请求是没有任何关系的，互不认识的，没有关联的。但是这种无状态的的好处是快速。</p><p>&emsp;&emsp;所以就会带来一个问题就是，我希望几个请求的页面要有关联，比如：我在<a href="http://www.a.com/login.php%E9%87%8C%E9%9D%A2%E7%99%BB%E9%99%86%E4%BA%86%EF%BC%8C%E6%88%91%E5%9C%A8www.a.com/index.php">www.a.com/login.php里面登陆了，我在www.a.com/index.php</a> 也希望是登陆状态，但是，这是2个不同的页面，也就是2个不同的HTTP请求，这2个HTTP请求是无状态的，也就是无关联的，所以无法单纯的在index.php中读取到它在login.php中已经登陆了！</p><p>&emsp;&emsp;那咋搞呢？我不可能这2个页面我都去登陆一遍吧。或者用笨方法这2个页面都去查询数据库，如果有登陆状态，就判断是登陆的了。这种查询数据库的方案虽然可行，但是每次都要去查询数据库不是个事，会造成数据库的压力。</p><p>&emsp;&emsp;所以正是这种诉求，这个时候，一个新的客户端存储数据方式出现了：cookie。cookie是把少量的信息存储在用户自己的电脑上，它在一个域名下是一个全局的，只要设置它的存储路径在域名<a href="http://www.a.com下/">www.a.com下</a> ，那么当用户用浏览器访问时，php就可以从这个域名的任意页面读取cookie中的信息。所以就很好的解决了我在<a href="http://www.a.com/login.php%E9%A1%B5%E9%9D%A2%E7%99%BB%E9%99%86%E4%BA%86%EF%BC%8C%E6%88%91%E4%B9%9F%E5%8F%AF%E4%BB%A5%E5%9C%A8www.a.com/index.php%E8%8E%B7%E5%8F%96%E5%88%B0%E8%BF%99%E4%B8%AA%E7%99%BB%E9%99%86%E4%BF%A1%E6%81%AF%E4%BA%86%E3%80%82%E5%90%8C%E6%97%B6%E5%8F%88%E4%B8%8D%E7%94%A8%E5%8F%8D%E5%A4%8D%E5%8E%BB%E6%9F%A5%E8%AF%A2%E6%95%B0%E6%8D%AE%E5%BA%93%E3%80%82">www.a.com/login.php页面登陆了，我也可以在www.a.com/index.php获取到这个登陆信息了。同时又不用反复去查询数据库。</a></p><p>&emsp;&emsp;虽然这种方案很不错，也很快速方便，但是由于cookie 是存在用户端，而且它本身存储的尺寸大小也有限，最关键是用户可以是可见的，并可以随意的修改，很不安全。那如何又要安全，又可以方便的全局读取信息呢？于是，这个时候，一种新的存储会话机制：session 诞生了。</p><p>&emsp;&emsp;我擦，终于把session是怎么诞生的给圆清楚了，不容易啊！！！</p><p>&emsp;&emsp;好，session 诞生了，从上面的描述来讲，它就是在一次会话中解决2次HTTP的请求的关联，让它们产生联系，让2两个页面都能读取到找个这个全局的session信息。session信息存在于服务器端，所以也就很好的解决了安全问题。</p><h5 id="session的运行机制和是怎么保存的？"><a href="#session的运行机制和是怎么保存的？" class="headerlink" title="session的运行机制和是怎么保存的？"></a>session的运行机制和是怎么保存的？</h5><p>&emsp;&emsp;既然，它也是一种服务区存储数据的方式，肯定也是存在服务器的某个地方了。确实，它存在服务器的/tmp 目录下，这一点我们接下来慢慢讲。</p><p>&emsp;&emsp;我们先说下它的运行机制，是怎么分配的。我们主要用PHP中session的机制，其实各种语言都差不多。</p>]]></content>
      
      
      <categories>
          
          <category> php </category>
          
      </categories>
      
      
        <tags>
            
            <tag> php面试 </tag>
            
            <tag> 开发 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>学习使我快乐</title>
      <link href="ckqxqe4ml0001bwwf37on3l63/"/>
      <url>ckqxqe4ml0001bwwf37on3l63/</url>
      
        <content type="html"><![CDATA[<p>学习是一件值得努力的事情</p><a id="more"></a><h2 id="如何让自己静下心来安静的学习"><a href="#如何让自己静下心来安静的学习" class="headerlink" title="如何让自己静下心来安静的学习"></a>如何让自己静下心来安静的学习</h2><ul><li><p>首先需要信念</p></li><li><p>其次需要目标</p></li></ul>]]></content>
      
      
      <categories>
          
          <category> 学习 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 努力 </tag>
            
            <tag> 奋斗 </tag>
            
        </tags>
      
    </entry>
    
    
  
  
</search>
